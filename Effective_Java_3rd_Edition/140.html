<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p140" style="overflow: hidden; position: relative; background-color: white; width: 809px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_140{left:522px;bottom:955px;letter-spacing:0.11px;word-spacing:0.02px;}
#t2_140{left:728px;bottom:953px;letter-spacing:0.15px;}
#t3_140{left:178px;bottom:900px;letter-spacing:-0.1px;word-spacing:2.29px;}
#t4_140{left:150px;bottom:878px;letter-spacing:-0.1px;word-spacing:1.32px;}
#t5_140{left:150px;bottom:857px;letter-spacing:-0.09px;word-spacing:0.76px;}
#t6_140{left:150px;bottom:836px;letter-spacing:-0.09px;word-spacing:1.49px;}
#t7_140{left:150px;bottom:814px;letter-spacing:-0.1px;word-spacing:1.59px;}
#t8_140{left:573px;bottom:816px;letter-spacing:-0.16px;}
#t9_140{left:661px;bottom:814px;letter-spacing:-0.08px;word-spacing:1.58px;}
#ta_140{left:150px;bottom:793px;letter-spacing:-0.08px;}
#tb_140{left:437px;bottom:794px;letter-spacing:-0.16px;}
#tc_140{left:524px;bottom:793px;letter-spacing:-0.09px;}
#td_140{left:178px;bottom:771px;letter-spacing:-0.1px;word-spacing:0.84px;}
#te_140{left:150px;bottom:750px;letter-spacing:-0.11px;word-spacing:1.5px;}
#tf_140{left:432px;bottom:750px;letter-spacing:-0.12px;word-spacing:1.5px;}
#tg_140{left:150px;bottom:729px;letter-spacing:-0.12px;word-spacing:2.79px;}
#th_140{left:496px;bottom:729px;letter-spacing:-0.14px;word-spacing:2.81px;}
#ti_140{left:150px;bottom:707px;letter-spacing:-0.11px;word-spacing:2.52px;}
#tj_140{left:150px;bottom:686px;letter-spacing:-0.12px;word-spacing:3.51px;}
#tk_140{left:150px;bottom:664px;letter-spacing:-0.1px;word-spacing:1.41px;}
#tl_140{left:150px;bottom:643px;letter-spacing:-0.09px;word-spacing:0.4px;}
#tm_140{left:150px;bottom:622px;letter-spacing:-0.1px;word-spacing:2.24px;}
#tn_140{left:150px;bottom:600px;letter-spacing:-0.1px;word-spacing:1.77px;}
#to_140{left:150px;bottom:579px;letter-spacing:-0.11px;word-spacing:1.7px;}
#tp_140{left:427px;bottom:579px;letter-spacing:-0.1px;word-spacing:1.68px;}
#tq_140{left:587px;bottom:579px;letter-spacing:-0.12px;word-spacing:1.7px;}
#tr_140{left:150px;bottom:557px;letter-spacing:-0.08px;word-spacing:-0.03px;}
#ts_140{left:552px;bottom:557px;letter-spacing:-0.23px;}
#tt_140{left:607px;bottom:557px;letter-spacing:-0.09px;word-spacing:-0.02px;}
#tu_140{left:178px;bottom:536px;letter-spacing:-0.11px;word-spacing:-0.07px;}
#tv_140{left:468px;bottom:537px;letter-spacing:-0.15px;}
#tw_140{left:501px;bottom:536px;letter-spacing:-0.1px;word-spacing:-0.08px;}
#tx_140{left:150px;bottom:515px;letter-spacing:-0.09px;word-spacing:0.65px;}
#ty_140{left:566px;bottom:516px;letter-spacing:-0.16px;}
#tz_140{left:665px;bottom:515px;letter-spacing:-0.07px;word-spacing:0.66px;}
#t10_140{left:150px;bottom:493px;letter-spacing:-0.11px;word-spacing:2.97px;}
#t11_140{left:470px;bottom:495px;letter-spacing:-0.18px;}
#t12_140{left:510px;bottom:493px;letter-spacing:-0.09px;word-spacing:2.95px;}
#t13_140{left:150px;bottom:473px;letter-spacing:-0.16px;}
#t14_140{left:250px;bottom:472px;letter-spacing:-0.09px;word-spacing:1.74px;}
#t15_140{left:150px;bottom:451px;letter-spacing:-0.09px;word-spacing:0.71px;}
#t16_140{left:150px;bottom:429px;letter-spacing:-0.09px;word-spacing:1.72px;}
#t17_140{left:476px;bottom:430px;letter-spacing:-0.16px;}
#t18_140{left:581px;bottom:429px;letter-spacing:-0.09px;word-spacing:1.76px;}
#t19_140{left:150px;bottom:408px;letter-spacing:-0.08px;}
#t1a_140{left:184px;bottom:409px;letter-spacing:-0.18px;}
#t1b_140{left:217px;bottom:408px;letter-spacing:-0.1px;word-spacing:0.47px;}
#t1c_140{left:495px;bottom:409px;letter-spacing:-0.16px;}
#t1d_140{left:594px;bottom:408px;letter-spacing:-0.09px;word-spacing:0.45px;}
#t1e_140{left:150px;bottom:386px;letter-spacing:-0.08px;word-spacing:-0.34px;}
#t1f_140{left:349px;bottom:388px;letter-spacing:-0.16px;}
#t1g_140{left:452px;bottom:386px;letter-spacing:-0.09px;word-spacing:-0.34px;}
#t1h_140{left:638px;bottom:388px;letter-spacing:-0.12px;}
#t1i_140{left:671px;bottom:386px;letter-spacing:-0.19px;word-spacing:-0.23px;}
#t1j_140{left:150px;bottom:365px;letter-spacing:-0.09px;word-spacing:2.04px;}
#t1k_140{left:361px;bottom:366px;letter-spacing:-0.16px;}
#t1l_140{left:467px;bottom:365px;letter-spacing:-0.1px;word-spacing:1.53px;}
#t1m_140{left:675px;bottom:365px;letter-spacing:-0.34px;}
#t1n_140{left:150px;bottom:344px;letter-spacing:-0.1px;word-spacing:-0.21px;}
#t1o_140{left:468px;bottom:345px;letter-spacing:-0.15px;}
#t1p_140{left:501px;bottom:344px;letter-spacing:-0.13px;word-spacing:-0.22px;}
#t1q_140{left:150px;bottom:322px;letter-spacing:-0.09px;word-spacing:0.02px;}
#t1r_140{left:302px;bottom:324px;letter-spacing:-0.16px;}
#t1s_140{left:402px;bottom:322px;}
#t1t_140{left:178px;bottom:301px;letter-spacing:-0.13px;word-spacing:0.03px;}
#t1u_140{left:178px;bottom:263px;letter-spacing:-0.16px;word-spacing:0.01px;}
#t1v_140{left:178px;bottom:246px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t1w_140{left:211px;bottom:229px;letter-spacing:-0.16px;word-spacing:0.01px;}
#t1x_140{left:211px;bottom:213px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t1y_140{left:211px;bottom:196px;letter-spacing:-0.15px;word-spacing:-0.01px;}
#t1z_140{left:302px;bottom:196px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t20_140{left:178px;bottom:179px;}
#t21_140{left:178px;bottom:145px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t22_140{left:426px;bottom:145px;letter-spacing:-0.15px;}
#t23_140{left:467px;bottom:145px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t24_140{left:211px;bottom:129px;letter-spacing:-0.17px;}
#t25_140{left:178px;bottom:112px;}

.s1_140{font-size:12px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
.s2_140{font-size:15px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s3_140{font-size:17px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s4_140{font-size:14px;font-family:NLEKDK-2bLucidaSans-2dTypew_6pu;color:#000;}
.s5_140{font-size:17px;font-family:NLEKCK-2bTimes-2dBold_6pt;color:#000;}
.s6_140{font-size:17px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
.s7_140{font-size:14px;font-family:NLEMHM-2bLucidaSans-2dTypew_6qf;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts140" type="text/css" >

@font-face {
	font-family: NLEJCK-2bTimes-2dRoman_6ps;
	src: url("fonts/NLEJCK-2bTimes-2dRoman_6ps.woff") format("woff");
}

@font-face {
	font-family: NLEJCL-2bTimes-2dItalic_6pw;
	src: url("fonts/NLEJCL-2bTimes-2dItalic_6pw.woff") format("woff");
}

@font-face {
	font-family: NLEKCK-2bTimes-2dBold_6pt;
	src: url("fonts/NLEKCK-2bTimes-2dBold_6pt.woff") format("woff");
}

@font-face {
	font-family: NLEKDK-2bLucidaSans-2dTypew_6pu;
	src: url("fonts/NLEKDK-2bLucidaSans-2dTypew_6pu.woff") format("woff");
}

@font-face {
	font-family: NLEMHM-2bLucidaSans-2dTypew_6qf;
	src: url("fonts/NLEMHM-2bLucidaSans-2dTypew_6qf.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg140Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg140" style="-webkit-user-select: none;"><object width="809" height="1017" data="140/140.svg" type="image/svg+xml" id="pdf140" style="width:809px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_140" class="t s1_140">ITEM 26: DON’T USE RAW TYPES </span><span id="t2_140" class="t s2_140">119 </span>
<span id="t3_140" class="t s3_140">The compiler inserts invisible casts for you when retrieving elements from </span>
<span id="t4_140" class="t s3_140">collections and guarantees that they won’t fail (assuming, again, that all of your </span>
<span id="t5_140" class="t s3_140">code did not generate or suppress any compiler warnings). While the prospect of </span>
<span id="t6_140" class="t s3_140">accidentally inserting a coin into a stamp collection may appear far-fetched, the </span>
<span id="t7_140" class="t s3_140">problem is real. For example, it is easy to imagine putting a </span><span id="t8_140" class="t s4_140">BigInteger </span><span id="t9_140" class="t s3_140">into a </span>
<span id="ta_140" class="t s3_140">collection that is supposed to contain only </span><span id="tb_140" class="t s4_140">BigDecimal </span><span id="tc_140" class="t s3_140">instances. </span>
<span id="td_140" class="t s3_140">As noted earlier, it is legal to use raw types (generic types without their type </span>
<span id="te_140" class="t s3_140">parameters), but you should never do it. </span><span id="tf_140" class="t s5_140">If you use raw types, you lose all the </span>
<span id="tg_140" class="t s5_140">safety and expressiveness benefits of generics. </span><span id="th_140" class="t s3_140">Given that you shouldn’t use </span>
<span id="ti_140" class="t s3_140">them, why did the language designers permit raw types in the first place? For </span>
<span id="tj_140" class="t s3_140">compatibility. Java was about to enter its second decade when generics were </span>
<span id="tk_140" class="t s3_140">added, and there was an enormous amount of code in existence that did not use </span>
<span id="tl_140" class="t s3_140">generics. It was deemed critical that all of this code remain legal and interoperate </span>
<span id="tm_140" class="t s3_140">with newer code that does use generics. It had to be legal to pass instances of </span>
<span id="tn_140" class="t s3_140">parameterized types to methods that were designed for use with raw types, and </span>
<span id="to_140" class="t s3_140">vice versa. This requirement, known as </span><span id="tp_140" class="t s6_140">migration compatibility </span><span id="tq_140" class="t s3_140">, drove the deci- </span>
<span id="tr_140" class="t s3_140">sions to support raw types and to implement generics using </span><span id="ts_140" class="t s6_140">erasure </span><span id="tt_140" class="t s3_140">(Item 28). </span>
<span id="tu_140" class="t s3_140">While you shouldn’t use raw types such as </span><span id="tv_140" class="t s4_140">List</span><span id="tw_140" class="t s3_140">, it is fine to use types that are </span>
<span id="tx_140" class="t s3_140">parameterized to allow insertion of arbitrary objects, such as </span><span id="ty_140" class="t s4_140">List&lt;Object&gt;</span><span id="tz_140" class="t s3_140">. Just </span>
<span id="t10_140" class="t s3_140">what is the difference between the raw type </span><span id="t11_140" class="t s4_140">List </span><span id="t12_140" class="t s3_140">and the parameterized type </span>
<span id="t13_140" class="t s4_140">List&lt;Object&gt;</span><span id="t14_140" class="t s3_140">? Loosely speaking, the former has opted out of the generic type </span>
<span id="t15_140" class="t s3_140">system, while the latter has explicitly told the compiler that it is capable of hold- </span>
<span id="t16_140" class="t s3_140">ing objects of any type. While you can pass a </span><span id="t17_140" class="t s4_140">List&lt;String&gt; </span><span id="t18_140" class="t s3_140">to a parameter of </span>
<span id="t19_140" class="t s3_140">type </span><span id="t1a_140" class="t s4_140">List</span><span id="t1b_140" class="t s3_140">, you can’t pass it to a parameter of type </span><span id="t1c_140" class="t s4_140">List&lt;Object&gt;</span><span id="t1d_140" class="t s3_140">. There are sub- </span>
<span id="t1e_140" class="t s3_140">typing rules for generics, and </span><span id="t1f_140" class="t s4_140">List&lt;String&gt; </span><span id="t1g_140" class="t s3_140">is a subtype of the raw type </span><span id="t1h_140" class="t s4_140">List</span><span id="t1i_140" class="t s3_140">, but </span>
<span id="t1j_140" class="t s3_140">not of the parameterized type </span><span id="t1k_140" class="t s4_140">List&lt;Object&gt; </span><span id="t1l_140" class="t s3_140">(Item 28). As a consequence, </span><span id="t1m_140" class="t s5_140">you </span>
<span id="t1n_140" class="t s5_140">lose type safety if you use a raw type such as </span><span id="t1o_140" class="t s7_140">List</span><span id="t1p_140" class="t s5_140">, but not if you use a param- </span>
<span id="t1q_140" class="t s5_140">eterized type such as </span><span id="t1r_140" class="t s7_140">List&lt;Object&gt;</span><span id="t1s_140" class="t s5_140">. </span>
<span id="t1t_140" class="t s3_140">To make this concrete, consider the following program: </span>
<span id="t1u_140" class="t s7_140">// Fails at runtime - unsafeAdd method uses a raw type (List)! </span>
<span id="t1v_140" class="t s4_140">public static void main(String[] args) { </span>
<span id="t1w_140" class="t s4_140">List&lt;String&gt; strings = new ArrayList&lt;&gt;(); </span>
<span id="t1x_140" class="t s4_140">unsafeAdd(strings, Integer.valueOf(42)); </span>
<span id="t1y_140" class="t s4_140">String s = </span><span id="t1z_140" class="t s7_140">strings.get(0); // Has compiler-generated cast </span>
<span id="t20_140" class="t s4_140">} </span>
<span id="t21_140" class="t s4_140">private static void unsafeAdd(</span><span id="t22_140" class="t s7_140">List </span><span id="t23_140" class="t s4_140">list, Object o) { </span>
<span id="t24_140" class="t s4_140">list.add(o); </span>
<span id="t25_140" class="t s4_140">} </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
