<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p354" style="overflow: hidden; position: relative; background-color: white; width: 809px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_354{left:426px;bottom:955px;letter-spacing:0.11px;word-spacing:0.02px;}
#t2_354{left:728px;bottom:953px;letter-spacing:0.15px;}
#t3_354{left:150px;bottom:896px;letter-spacing:-0.08px;word-spacing:0.03px;}
#t4_354{left:233px;bottom:896px;letter-spacing:-0.07px;word-spacing:0.03px;}
#t5_354{left:150px;bottom:857px;letter-spacing:-0.08px;word-spacing:-0.35px;}
#t6_354{left:276px;bottom:857px;letter-spacing:-0.09px;word-spacing:-0.28px;}
#t7_354{left:150px;bottom:836px;letter-spacing:-0.11px;word-spacing:-0.29px;}
#t8_354{left:150px;bottom:814px;letter-spacing:-0.09px;word-spacing:0.8px;}
#t9_354{left:150px;bottom:793px;letter-spacing:-0.09px;word-spacing:2.46px;}
#ta_354{left:150px;bottom:771px;letter-spacing:-0.08px;word-spacing:-0.04px;}
#tb_354{left:178px;bottom:750px;letter-spacing:-0.08px;word-spacing:0.45px;}
#tc_354{left:150px;bottom:729px;letter-spacing:-0.09px;word-spacing:1.25px;}
#td_354{left:150px;bottom:707px;letter-spacing:-0.08px;word-spacing:1.53px;}
#te_354{left:150px;bottom:686px;letter-spacing:-0.1px;word-spacing:0.74px;}
#tf_354{left:150px;bottom:664px;letter-spacing:-0.11px;word-spacing:0.64px;}
#tg_354{left:150px;bottom:643px;letter-spacing:-0.1px;word-spacing:2.44px;}
#th_354{left:150px;bottom:622px;letter-spacing:-0.09px;}
#ti_354{left:178px;bottom:600px;letter-spacing:-0.09px;word-spacing:3.17px;}
#tj_354{left:150px;bottom:579px;letter-spacing:-0.09px;word-spacing:0.69px;}
#tk_354{left:387px;bottom:579px;letter-spacing:-0.07px;}
#tl_354{left:417px;bottom:579px;letter-spacing:-0.08px;word-spacing:0.68px;}
#tm_354{left:150px;bottom:557px;letter-spacing:-0.1px;word-spacing:-0.02px;}
#tn_354{left:150px;bottom:536px;letter-spacing:-0.08px;word-spacing:-0.01px;}
#to_354{left:178px;bottom:515px;letter-spacing:-0.1px;word-spacing:0.13px;}
#tp_354{left:150px;bottom:493px;letter-spacing:-0.09px;word-spacing:0.31px;}
#tq_354{left:150px;bottom:472px;letter-spacing:-0.11px;word-spacing:2.42px;}
#tr_354{left:150px;bottom:451px;letter-spacing:-0.08px;word-spacing:-0.02px;}
#ts_354{left:178px;bottom:429px;letter-spacing:-0.1px;word-spacing:0.43px;}
#tt_354{left:150px;bottom:408px;letter-spacing:-0.07px;}
#tu_354{left:232px;bottom:408px;letter-spacing:-0.1px;word-spacing:1.12px;}
#tv_354{left:150px;bottom:386px;letter-spacing:-0.09px;}
#tw_354{left:281px;bottom:388px;letter-spacing:-0.15px;}
#tx_354{left:327px;bottom:386px;letter-spacing:-0.11px;word-spacing:0.08px;}
#ty_354{left:178px;bottom:350px;letter-spacing:-0.16px;}
#tz_354{left:178px;bottom:333px;letter-spacing:-0.16px;}
#t10_354{left:178px;bottom:295px;letter-spacing:-0.12px;word-spacing:2px;}
#t11_354{left:150px;bottom:273px;letter-spacing:-0.12px;word-spacing:0.04px;}
#t12_354{left:313px;bottom:273px;letter-spacing:-0.09px;}
#t13_354{left:178px;bottom:237px;letter-spacing:-0.16px;word-spacing:-0.8px;}
#t14_354{left:178px;bottom:220px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t15_354{left:178px;bottom:187px;letter-spacing:-0.14px;}
#t16_354{left:244px;bottom:187px;letter-spacing:-0.16px;}
#t17_354{left:352px;bottom:187px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t18_354{left:211px;bottom:170px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t19_354{left:244px;bottom:153px;letter-spacing:-0.16px;word-spacing:0.03px;}
#t1a_354{left:211px;bottom:136px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#t1b_354{left:178px;bottom:119px;}

.s1_354{font-size:12px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
.s2_354{font-size:15px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s3_354{font-size:20px;font-family:NLEKCK-2bTimes-2dBold_6pt;color:#000;}
.s4_354{font-size:17px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
.s5_354{font-size:17px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s6_354{font-size:17px;font-family:NLEKCK-2bTimes-2dBold_6pt;color:#000;}
.s7_354{font-size:14px;font-family:NLEKDK-2bLucidaSans-2dTypew_6pu;color:#000;}
.s8_354{font-size:14px;font-family:NLEMHM-2bLucidaSans-2dTypew_6qf;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts354" type="text/css" >

@font-face {
	font-family: NLEJCK-2bTimes-2dRoman_6ps;
	src: url("fonts/NLEJCK-2bTimes-2dRoman_6ps.woff") format("woff");
}

@font-face {
	font-family: NLEJCL-2bTimes-2dItalic_6pw;
	src: url("fonts/NLEJCL-2bTimes-2dItalic_6pw.woff") format("woff");
}

@font-face {
	font-family: NLEKCK-2bTimes-2dBold_6pt;
	src: url("fonts/NLEKCK-2bTimes-2dBold_6pt.woff") format("woff");
}

@font-face {
	font-family: NLEKDK-2bLucidaSans-2dTypew_6pu;
	src: url("fonts/NLEKDK-2bLucidaSans-2dTypew_6pu.woff") format("woff");
}

@font-face {
	font-family: NLEMHM-2bLucidaSans-2dTypew_6qf;
	src: url("fonts/NLEMHM-2bLucidaSans-2dTypew_6qf.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg354Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg354" style="-webkit-user-select: none;"><object width="809" height="1017" data="354/354.svg" type="image/svg+xml" id="pdf354" style="width:809px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_354" class="t s1_354">ITEM 83: USE LAZY INITIALIZATION JUDICIOUSLY </span><span id="t2_354" class="t s2_354">333 </span>
<span id="t3_354" class="t s3_354">Item 83: </span><span id="t4_354" class="t s3_354">Use lazy initialization judiciously </span>
<span id="t5_354" class="t s4_354">Lazy initialization </span><span id="t6_354" class="t s5_354">is the act of delaying the initialization of a field until its value is </span>
<span id="t7_354" class="t s5_354">needed. If the value is never needed, the field is never initialized. This technique is </span>
<span id="t8_354" class="t s5_354">applicable to both static and instance fields. While lazy initialization is primarily </span>
<span id="t9_354" class="t s5_354">an optimization, it can also be used to break harmful circularities in class and </span>
<span id="ta_354" class="t s5_354">instance initialization [Bloch05, Puzzle 51]. </span>
<span id="tb_354" class="t s5_354">As is the case for most optimizations, the best advice for lazy initialization is </span>
<span id="tc_354" class="t s5_354">“don’t do it unless you need to” (Item 67). Lazy initialization is a double-edged </span>
<span id="td_354" class="t s5_354">sword. It decreases the cost of initializing a class or creating an instance, at the </span>
<span id="te_354" class="t s5_354">expense of increasing the cost of accessing the lazily initialized field. Depending </span>
<span id="tf_354" class="t s5_354">on what fraction of these fields eventually require initialization, how expensive it </span>
<span id="tg_354" class="t s5_354">is to initialize them, and how often each one is accessed once initialized, lazy </span>
<span id="th_354" class="t s5_354">initialization can (like many “optimizations”) actually harm performance. </span>
<span id="ti_354" class="t s5_354">That said, lazy initialization has its uses. If a field is accessed only on a </span>
<span id="tj_354" class="t s5_354">fraction of the instances of a class </span><span id="tk_354" class="t s4_354">and </span><span id="tl_354" class="t s5_354">it is costly to initialize the field, then lazy </span>
<span id="tm_354" class="t s5_354">initialization may be worthwhile. The only way to know for sure is to measure the </span>
<span id="tn_354" class="t s5_354">performance of the class with and without lazy initialization. </span>
<span id="to_354" class="t s5_354">In the presence of multiple threads, lazy initialization is tricky. If two or more </span>
<span id="tp_354" class="t s5_354">threads share a lazily initialized field, it is critical that some form of synchroniza- </span>
<span id="tq_354" class="t s5_354">tion be employed, or severe bugs can result (Item 78). All of the initialization </span>
<span id="tr_354" class="t s5_354">techniques discussed in this item are thread-safe. </span>
<span id="ts_354" class="t s6_354">Under most circumstances, normal initialization is preferable to lazy ini- </span>
<span id="tt_354" class="t s6_354">tialization. </span><span id="tu_354" class="t s5_354">Here is a typical declaration for a normally initialized instance field. </span>
<span id="tv_354" class="t s5_354">Note the use of the </span><span id="tw_354" class="t s7_354">final </span><span id="tx_354" class="t s5_354">modifier (Item 17): </span>
<span id="ty_354" class="t s8_354">// Normal initialization of an instance field </span>
<span id="tz_354" class="t s7_354">private final FieldType field = computeFieldValue(); </span>
<span id="t10_354" class="t s6_354">If you use lazy initialization to break an initialization circularity, use a </span>
<span id="t11_354" class="t s6_354">synchronized accessor </span><span id="t12_354" class="t s5_354">because it is the simplest, clearest alternative: </span>
<span id="t13_354" class="t s8_354">// Lazy initialization of instance field - synchronized accessor </span>
<span id="t14_354" class="t s7_354">private FieldType field; </span>
<span id="t15_354" class="t s7_354">private </span><span id="t16_354" class="t s8_354">synchronized </span><span id="t17_354" class="t s7_354">FieldType getField() { </span>
<span id="t18_354" class="t s7_354">if (field == null) </span>
<span id="t19_354" class="t s7_354">field = computeFieldValue(); </span>
<span id="t1a_354" class="t s7_354">return field; </span>
<span id="t1b_354" class="t s7_354">} </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
