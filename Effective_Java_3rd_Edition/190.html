<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p190" style="overflow: hidden; position: relative; background-color: white; width: 809px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_190{left:433px;bottom:955px;letter-spacing:0.11px;word-spacing:0.02px;}
#t2_190{left:728px;bottom:953px;letter-spacing:0.15px;}
#t3_190{left:150px;bottom:896px;letter-spacing:-0.08px;word-spacing:0.08px;}
#t4_190{left:233px;bottom:896px;letter-spacing:-0.07px;}
#t5_190{left:269px;bottom:898px;letter-spacing:-0.12px;}
#t6_190{left:344px;bottom:896px;letter-spacing:-0.05px;word-spacing:-0.02px;}
#t7_190{left:150px;bottom:857px;letter-spacing:-0.08px;word-spacing:-0.02px;}
#t8_190{left:150px;bottom:836px;letter-spacing:-0.09px;word-spacing:0.49px;}
#t9_190{left:203px;bottom:837px;letter-spacing:-0.18px;}
#ta_190{left:232px;bottom:836px;letter-spacing:-0.1px;word-spacing:0.45px;}
#tb_190{left:150px;bottom:814px;letter-spacing:-0.07px;}
#tc_190{left:178px;bottom:781px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#td_190{left:178px;bottom:764px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#te_190{left:211px;bottom:747px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#tf_190{left:575px;bottom:747px;letter-spacing:-0.16px;word-spacing:0.01px;}
#tg_190{left:666px;bottom:747px;letter-spacing:-0.13px;word-spacing:-0.05px;}
#th_190{left:211px;bottom:730px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#ti_190{left:575px;bottom:730px;letter-spacing:-0.16px;word-spacing:0.01px;}
#tj_190{left:666px;bottom:730px;letter-spacing:-0.13px;word-spacing:-0.05px;}
#tk_190{left:211px;bottom:714px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#tl_190{left:575px;bottom:714px;letter-spacing:-0.16px;word-spacing:0.01px;}
#tm_190{left:666px;bottom:714px;letter-spacing:-0.13px;word-spacing:-0.05px;}
#tn_190{left:211px;bottom:697px;letter-spacing:-0.16px;word-spacing:-0.01px;}
#to_190{left:666px;bottom:697px;letter-spacing:-0.13px;word-spacing:-0.05px;}
#tp_190{left:211px;bottom:663px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#tq_190{left:211px;bottom:646px;letter-spacing:-0.16px;word-spacing:0.02px;}
#tr_190{left:178px;bottom:630px;}
#ts_190{left:150px;bottom:594px;letter-spacing:-0.09px;word-spacing:0.64px;}
#tt_190{left:449px;bottom:595px;letter-spacing:-0.18px;}
#tu_190{left:470px;bottom:594px;letter-spacing:-0.12px;word-spacing:0.69px;}
#tv_190{left:150px;bottom:573px;letter-spacing:-0.1px;}
#tw_190{left:341px;bottom:573px;letter-spacing:-0.13px;word-spacing:0.07px;}
#tx_190{left:393px;bottom:573px;}
#ty_190{left:178px;bottom:539px;letter-spacing:-0.16px;word-spacing:-0.02px;}
#tz_190{left:178px;bottom:499px;letter-spacing:-0.08px;word-spacing:0.13px;}
#t10_190{left:150px;bottom:478px;letter-spacing:-0.11px;word-spacing:2.63px;}
#t11_190{left:150px;bottom:457px;letter-spacing:-0.11px;word-spacing:0.41px;}
#t12_190{left:267px;bottom:458px;letter-spacing:-0.13px;}
#t13_190{left:297px;bottom:457px;letter-spacing:-0.1px;word-spacing:0.4px;}
#t14_190{left:150px;bottom:435px;letter-spacing:-0.09px;word-spacing:0.3px;}
#t15_190{left:280px;bottom:437px;letter-spacing:-0.18px;}
#t16_190{left:310px;bottom:435px;letter-spacing:-0.11px;word-spacing:0.38px;}
#t17_190{left:150px;bottom:414px;letter-spacing:-0.11px;word-spacing:0.33px;}
#t18_190{left:150px;bottom:392px;letter-spacing:-0.13px;word-spacing:1.26px;}
#t19_190{left:150px;bottom:371px;letter-spacing:-0.1px;word-spacing:4.14px;}
#t1a_190{left:606px;bottom:372px;letter-spacing:-0.13px;}
#t1b_190{left:639px;bottom:371px;letter-spacing:-0.08px;}
#t1c_190{left:662px;bottom:372px;letter-spacing:-0.15px;}
#t1d_190{left:695px;bottom:371px;}
#t1e_190{left:150px;bottom:350px;letter-spacing:-0.13px;word-spacing:0.12px;}
#t1f_190{left:150px;bottom:328px;letter-spacing:-0.09px;word-spacing:0.02px;}
#t1g_190{left:178px;bottom:307px;letter-spacing:-0.1px;word-spacing:0.95px;}
#t1h_190{left:539px;bottom:308px;letter-spacing:-0.13px;}
#t1i_190{left:569px;bottom:307px;letter-spacing:-0.08px;word-spacing:0.93px;}
#t1j_190{left:150px;bottom:286px;letter-spacing:-0.09px;word-spacing:-0.24px;}
#t1k_190{left:150px;bottom:264px;letter-spacing:-0.1px;word-spacing:0.27px;}
#t1l_190{left:534px;bottom:265px;letter-spacing:-0.17px;}
#t1m_190{left:613px;bottom:264px;letter-spacing:-0.09px;word-spacing:0.19px;}
#t1n_190{left:150px;bottom:243px;letter-spacing:-0.08px;word-spacing:0.21px;}
#t1o_190{left:215px;bottom:244px;letter-spacing:-0.16px;}
#t1p_190{left:278px;bottom:243px;letter-spacing:-0.11px;word-spacing:0.23px;}
#t1q_190{left:150px;bottom:221px;letter-spacing:-0.09px;word-spacing:0.38px;}
#t1r_190{left:410px;bottom:223px;letter-spacing:-0.18px;}
#t1s_190{left:439px;bottom:221px;letter-spacing:-0.1px;word-spacing:0.42px;}
#t1t_190{left:150px;bottom:200px;letter-spacing:-0.11px;word-spacing:1.05px;}
#t1u_190{left:531px;bottom:201px;letter-spacing:-0.13px;}
#t1v_190{left:561px;bottom:200px;letter-spacing:-0.09px;word-spacing:1.03px;}
#t1w_190{left:150px;bottom:179px;letter-spacing:-0.15px;word-spacing:-0.28px;}
#t1x_190{left:256px;bottom:180px;letter-spacing:-0.16px;}
#t1y_190{left:318px;bottom:179px;letter-spacing:-0.11px;word-spacing:-0.27px;}
#t1z_190{left:150px;bottom:157px;letter-spacing:-0.11px;word-spacing:3.32px;}
#t20_190{left:576px;bottom:159px;letter-spacing:-0.16px;}
#t21_190{left:642px;bottom:157px;letter-spacing:-0.09px;word-spacing:3.33px;}
#t22_190{left:150px;bottom:136px;letter-spacing:-0.08px;word-spacing:0.82px;}
#t23_190{left:291px;bottom:137px;letter-spacing:-0.15px;}
#t24_190{left:324px;bottom:136px;letter-spacing:-0.09px;word-spacing:0.85px;}
#t25_190{left:150px;bottom:114px;letter-spacing:-0.08px;word-spacing:1.12px;}
#t26_190{left:323px;bottom:116px;letter-spacing:-0.17px;}
#t27_190{left:403px;bottom:114px;letter-spacing:-0.1px;}
#t28_190{left:433px;bottom:116px;letter-spacing:-0.17px;}
#t29_190{left:507px;bottom:114px;letter-spacing:-0.09px;word-spacing:1.16px;}

.s1_190{font-size:12px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
.s2_190{font-size:15px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s3_190{font-size:20px;font-family:NLEKCK-2bTimes-2dBold_6pt;color:#000;}
.s4_190{font-size:17px;font-family:NLEMHM-2bLucidaSans-2dTypew_6qf;color:#000;}
.s5_190{font-size:17px;font-family:NLEJCK-2bTimes-2dRoman_6ps;color:#000;}
.s6_190{font-size:14px;font-family:NLEKDK-2bLucidaSans-2dTypew_6pu;color:#000;}
.s7_190{font-size:14px;font-family:NLEMHM-2bLucidaSans-2dTypew_6qf;color:#000;}
.s8_190{font-size:17px;font-family:NLEJCL-2bTimes-2dItalic_6pw;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts190" type="text/css" >

@font-face {
	font-family: NLEJCK-2bTimes-2dRoman_6ps;
	src: url("fonts/NLEJCK-2bTimes-2dRoman_6ps.woff") format("woff");
}

@font-face {
	font-family: NLEJCL-2bTimes-2dItalic_6pw;
	src: url("fonts/NLEJCL-2bTimes-2dItalic_6pw.woff") format("woff");
}

@font-face {
	font-family: NLEKCK-2bTimes-2dBold_6pt;
	src: url("fonts/NLEKCK-2bTimes-2dBold_6pt.woff") format("woff");
}

@font-face {
	font-family: NLEKDK-2bLucidaSans-2dTypew_6pu;
	src: url("fonts/NLEKDK-2bLucidaSans-2dTypew_6pu.woff") format("woff");
}

@font-face {
	font-family: NLEMHM-2bLucidaSans-2dTypew_6qf;
	src: url("fonts/NLEMHM-2bLucidaSans-2dTypew_6qf.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg190Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg190" style="-webkit-user-select: none;"><object width="809" height="1017" data="190/190.svg" type="image/svg+xml" id="pdf190" style="width:809px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_190" class="t s1_190">ITEM 36: USE ENUMSET INSTEAD OF BIT FIELDS </span><span id="t2_190" class="t s2_190">169 </span>
<span id="t3_190" class="t s3_190">Item 36: </span><span id="t4_190" class="t s3_190">Use </span><span id="t5_190" class="t s4_190">EnumSet </span><span id="t6_190" class="t s3_190">instead of bit fields </span>
<span id="t7_190" class="t s5_190">If the elements of an enumerated type are used primarily in sets, it is traditional to </span>
<span id="t8_190" class="t s5_190">use the </span><span id="t9_190" class="t s6_190">int </span><span id="ta_190" class="t s5_190">enum pattern (Item 34), assigning a different power of 2 to each con- </span>
<span id="tb_190" class="t s5_190">stant: </span>
<span id="tc_190" class="t s7_190">// Bit field enumeration constants - OBSOLETE! </span>
<span id="td_190" class="t s6_190">public class Text { </span>
<span id="te_190" class="t s6_190">public static final int STYLE_BOLD </span><span id="tf_190" class="t s6_190">= 1 &lt;&lt; 0; </span><span id="tg_190" class="t s6_190">// 1 </span>
<span id="th_190" class="t s6_190">public static final int STYLE_ITALIC </span><span id="ti_190" class="t s6_190">= 1 &lt;&lt; 1; </span><span id="tj_190" class="t s6_190">// 2 </span>
<span id="tk_190" class="t s6_190">public static final int STYLE_UNDERLINE </span><span id="tl_190" class="t s6_190">= 1 &lt;&lt; 2; </span><span id="tm_190" class="t s6_190">// 4 </span>
<span id="tn_190" class="t s6_190">public static final int STYLE_STRIKETHROUGH = 1 &lt;&lt; 3; </span><span id="to_190" class="t s6_190">// 8 </span>
<span id="tp_190" class="t s6_190">// Parameter is bitwise OR of zero or more STYLE_ constants </span>
<span id="tq_190" class="t s6_190">public void applyStyles(int styles) { ... } </span>
<span id="tr_190" class="t s6_190">} </span>
<span id="ts_190" class="t s5_190">This representation lets you use the bitwise </span><span id="tt_190" class="t s6_190">OR </span><span id="tu_190" class="t s5_190">operation to combine several con- </span>
<span id="tv_190" class="t s5_190">stants into a set, known as a </span><span id="tw_190" class="t s8_190">bit field</span><span id="tx_190" class="t s5_190">: </span>
<span id="ty_190" class="t s6_190">text.applyStyles(STYLE_BOLD | STYLE_ITALIC); </span>
<span id="tz_190" class="t s5_190">The bit field representation also lets you perform set operations such as union </span>
<span id="t10_190" class="t s5_190">and intersection efficiently using bitwise arithmetic. But bit fields have all the </span>
<span id="t11_190" class="t s5_190">disadvantages of </span><span id="t12_190" class="t s6_190">int </span><span id="t13_190" class="t s5_190">enum constants and more. It is even harder to interpret a bit </span>
<span id="t14_190" class="t s5_190">field than a simple </span><span id="t15_190" class="t s6_190">int </span><span id="t16_190" class="t s5_190">enum constant when it is printed as a number. There is no </span>
<span id="t17_190" class="t s5_190">easy way to iterate over all of the elements represented by a bit field. Finally, you </span>
<span id="t18_190" class="t s5_190">have to predict the maximum number of bits you’ll ever need at the time you’re </span>
<span id="t19_190" class="t s5_190">writing the API and choose a type for the bit field (typically </span><span id="t1a_190" class="t s6_190">int </span><span id="t1b_190" class="t s5_190">or </span><span id="t1c_190" class="t s6_190">long</span><span id="t1d_190" class="t s5_190">) </span>
<span id="t1e_190" class="t s5_190">accordingly. Once you’ve picked a type, you can’t exceed its width (32 or 64 bits) </span>
<span id="t1f_190" class="t s5_190">without changing the API. </span>
<span id="t1g_190" class="t s5_190">Some programmers who use enums in preference to </span><span id="t1h_190" class="t s6_190">int </span><span id="t1i_190" class="t s5_190">constants still cling </span>
<span id="t1j_190" class="t s5_190">to the use of bit fields when they need to pass around sets of constants. There is no </span>
<span id="t1k_190" class="t s5_190">reason to do this, because a better alternative exists. The </span><span id="t1l_190" class="t s6_190">java.util </span><span id="t1m_190" class="t s5_190">package pro- </span>
<span id="t1n_190" class="t s5_190">vides the </span><span id="t1o_190" class="t s6_190">EnumSet </span><span id="t1p_190" class="t s5_190">class to efficiently represent sets of values drawn from a single </span>
<span id="t1q_190" class="t s5_190">enum type. This class implements the </span><span id="t1r_190" class="t s6_190">Set </span><span id="t1s_190" class="t s5_190">interface, providing all of the richness, </span>
<span id="t1t_190" class="t s5_190">type safety, and interoperability you get with any other </span><span id="t1u_190" class="t s6_190">Set </span><span id="t1v_190" class="t s5_190">implementation. But </span>
<span id="t1w_190" class="t s5_190">internally, each </span><span id="t1x_190" class="t s6_190">EnumSet </span><span id="t1y_190" class="t s5_190">is represented as a bit vector. If the underlying enum type </span>
<span id="t1z_190" class="t s5_190">has sixty-four or fewer elements—and most do—the entire </span><span id="t20_190" class="t s6_190">EnumSet </span><span id="t21_190" class="t s5_190">is repre- </span>
<span id="t22_190" class="t s5_190">sented with a single </span><span id="t23_190" class="t s6_190">long</span><span id="t24_190" class="t s5_190">, so its performance is comparable to that of a bit field. </span>
<span id="t25_190" class="t s5_190">Bulk operations, such as </span><span id="t26_190" class="t s6_190">removeAll </span><span id="t27_190" class="t s5_190">and </span><span id="t28_190" class="t s6_190">retainAll</span><span id="t29_190" class="t s5_190">, are implemented using bit- </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
