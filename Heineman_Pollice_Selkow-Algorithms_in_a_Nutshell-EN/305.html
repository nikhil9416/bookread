<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p305" style="overflow: hidden; position: relative; background-color: white; width: 660px; height: 990px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_305{left:86px;bottom:888px;letter-spacing:-0.04px;}
#t2_305{left:86px;bottom:865px;letter-spacing:-0.21px;word-spacing:0.54px;}
#t3_305{left:171px;bottom:865px;}
#t4_305{left:177px;bottom:865px;letter-spacing:-0.2px;word-spacing:0.52px;}
#t5_305{left:488px;bottom:865px;}
#t6_305{left:500px;bottom:865px;letter-spacing:-0.19px;word-spacing:0.51px;}
#t7_305{left:86px;bottom:848px;letter-spacing:-0.21px;word-spacing:1.59px;}
#t8_305{left:86px;bottom:831px;letter-spacing:-0.19px;word-spacing:0.01px;}
#t9_305{left:229px;bottom:831px;}
#ta_305{left:240px;bottom:831px;letter-spacing:-0.21px;word-spacing:0.04px;}
#tb_305{left:299px;bottom:831px;}
#tc_305{left:306px;bottom:831px;}
#td_305{left:86px;bottom:804px;letter-spacing:-0.21px;word-spacing:2.64px;}
#te_305{left:221px;bottom:804px;}
#tf_305{left:228px;bottom:804px;letter-spacing:-0.22px;word-spacing:2.66px;}
#tg_305{left:454px;bottom:804px;}
#th_305{left:468px;bottom:804px;letter-spacing:-0.21px;word-spacing:2.65px;}
#ti_305{left:86px;bottom:787px;letter-spacing:-0.19px;}
#tj_305{left:157px;bottom:787px;}
#tk_305{left:164px;bottom:787px;}
#tl_305{left:86px;bottom:760px;letter-spacing:-0.26px;word-spacing:4.89px;}
#tm_305{left:86px;bottom:743px;letter-spacing:-0.23px;word-spacing:3.36px;}
#tn_305{left:86px;bottom:725px;letter-spacing:-0.21px;word-spacing:0.98px;}
#to_305{left:86px;bottom:708px;letter-spacing:-0.2px;}
#tp_305{left:86px;bottom:669px;letter-spacing:-0.04px;}
#tq_305{left:86px;bottom:646px;letter-spacing:-0.23px;word-spacing:1.67px;}
#tr_305{left:86px;bottom:628px;letter-spacing:-0.19px;word-spacing:0.23px;}
#ts_305{left:266px;bottom:628px;}
#tt_305{left:276px;bottom:628px;letter-spacing:-0.22px;word-spacing:0.26px;}
#tu_305{left:366px;bottom:628px;}
#tv_305{left:377px;bottom:628px;}
#tw_305{left:388px;bottom:628px;}
#tx_305{left:396px;bottom:628px;letter-spacing:-0.21px;word-spacing:0.26px;}
#ty_305{left:86px;bottom:611px;letter-spacing:-0.18px;word-spacing:0.38px;}
#tz_305{left:343px;bottom:611px;}
#t10_305{left:350px;bottom:611px;letter-spacing:-0.19px;word-spacing:0.4px;}
#t11_305{left:86px;bottom:593px;letter-spacing:-0.17px;word-spacing:-0.02px;}
#t12_305{left:157px;bottom:593px;}
#t13_305{left:167px;bottom:593px;letter-spacing:-0.2px;word-spacing:0.01px;}
#t14_305{left:86px;bottom:564px;word-spacing:0.12px;}
#t15_305{left:113px;bottom:547px;letter-spacing:-0.22px;word-spacing:4.11px;}
#t16_305{left:555px;bottom:547px;}
#t17_305{left:562px;bottom:547px;letter-spacing:-0.21px;}
#t18_305{left:113px;bottom:530px;letter-spacing:-0.22px;word-spacing:3.24px;}
#t19_305{left:113px;bottom:512px;letter-spacing:-0.2px;word-spacing:0.11px;}
#t1a_305{left:113px;bottom:495px;letter-spacing:-0.24px;}
#t1b_305{left:86px;bottom:466px;letter-spacing:-0.02px;word-spacing:0.13px;}
#t1c_305{left:113px;bottom:448px;letter-spacing:-0.21px;word-spacing:0.32px;}
#t1d_305{left:113px;bottom:431px;letter-spacing:-0.22px;word-spacing:0.01px;}
#t1e_305{left:86px;bottom:404px;letter-spacing:-0.19px;word-spacing:0.1px;}
#t1f_305{left:86px;bottom:387px;letter-spacing:-0.24px;word-spacing:1.05px;}
#t1g_305{left:434px;bottom:387px;}
#t1h_305{left:441px;bottom:387px;letter-spacing:-0.19px;word-spacing:1.01px;}
#t1i_305{left:86px;bottom:369px;letter-spacing:-0.22px;word-spacing:1.24px;}
#t1j_305{left:86px;bottom:352px;letter-spacing:-0.2px;word-spacing:1.54px;}
#t1k_305{left:86px;bottom:335px;letter-spacing:-0.14px;}
#t1l_305{left:123px;bottom:335px;}
#t1m_305{left:130px;bottom:335px;letter-spacing:-0.19px;word-spacing:0.14px;}
#t1n_305{left:86px;bottom:317px;letter-spacing:-0.18px;}
#t1o_305{left:86px;bottom:278px;letter-spacing:-0.04px;}
#t1p_305{left:86px;bottom:255px;letter-spacing:-0.21px;word-spacing:6.03px;}
#t1q_305{left:208px;bottom:255px;}
#t1r_305{left:215px;bottom:255px;letter-spacing:-0.18px;word-spacing:6.03px;}
#t1s_305{left:272px;bottom:255px;letter-spacing:-0.28px;word-spacing:6.08px;}
#t1t_305{left:394px;bottom:255px;letter-spacing:-0.27px;word-spacing:6.07px;}
#t1u_305{left:86px;bottom:238px;letter-spacing:-0.25px;word-spacing:0.03px;}
#t1v_305{left:165px;bottom:238px;}
#t1w_305{left:86px;bottom:196px;letter-spacing:-0.13px;word-spacing:0.15px;}
#t1x_305{left:86px;bottom:166px;letter-spacing:-0.01px;}
#t1y_305{left:86px;bottom:151px;letter-spacing:-0.01px;}
#t1z_305{left:131px;bottom:151px;letter-spacing:-0.01px;}
#t20_305{left:209px;bottom:151px;letter-spacing:-0.01px;}
#t21_305{left:261px;bottom:151px;}
#t22_305{left:267px;bottom:151px;letter-spacing:-0.01px;}
#t23_305{left:384px;bottom:151px;letter-spacing:-0.01px;}
#t24_305{left:99px;bottom:135px;letter-spacing:-0.01px;}
#t25_305{left:118px;bottom:135px;}
#t26_305{left:125px;bottom:135px;letter-spacing:-0.01px;}
#t27_305{left:157px;bottom:135px;}
#t28_305{left:177px;bottom:135px;letter-spacing:-0.01px;}
#t29_305{left:202px;bottom:135px;letter-spacing:-0.01px;}
#t2a_305{left:215px;bottom:135px;letter-spacing:-0.01px;}
#t2b_305{left:261px;bottom:135px;}
#t2c_305{left:280px;bottom:135px;letter-spacing:-0.01px;}
#t2d_305{left:306px;bottom:135px;}
#t2e_305{left:319px;bottom:135px;letter-spacing:-0.01px;}
#t2f_305{left:365px;bottom:135px;letter-spacing:-0.01px;}
#t2g_305{left:391px;bottom:135px;}
#t2h_305{left:99px;bottom:104px;letter-spacing:-0.01px;}
#t2i_305{left:617.8px;bottom:903.7px;letter-spacing:0.01px;word-spacing:0.1px;}
#t2j_305{left:603.1px;bottom:898.7px;letter-spacing:0.09px;}
#t2k_305{left:412px;bottom:53px;letter-spacing:-0.08px;}
#t2l_305{left:541px;bottom:53px;}
#t2m_305{left:558px;bottom:53px;letter-spacing:-0.1px;}

.s1_305{font-size:21px;font-family:XSIGUE-2bMyriadPro-SemiboldC_18;color:#231F20;}
.s2_305{font-size:15px;font-family:XSIGUE-2bMinionPro-Regular_1p;color:#231F20;}
.s3_305{font-size:15px;font-family:XSIGUE-2bMinionPro-It_1v;color:#231F20;}
.s4_305{font-size:15px;font-family:XSIGUE-2bArialUnicodeMS_b4;color:#231F20;}
.s5_305{font-size:15px;font-family:XSIGUE-2bMinionPro-Bold_5o;color:#231F20;}
.s6_305{font-size:15px;font-family:XSIGUE-2bMinionPro-Regular_1p;color:#900;}
.s7_305{font-size:16px;font-family:XSIGUE-2bMinionPro-It_1v;color:#231F20;}
.s8_305{font-size:13px;font-family:XSIGUE-2bUbuntuMono-Italic_cc;color:#35586C;}
.s9_305{font-size:13px;font-family:XSIGUE-2bUbuntuMono-Bold_7y;color:#069;}
.sa_305{font-size:13px;font-family:XSIGUE-2bUbuntuMono-Regular_6a;color:#008;}
.sb_305{font-size:13px;font-family:XSIGUE-2bUbuntuMono-Regular_6a;color:#C0F;}
.sc_305{font-size:13px;font-family:XSIGUE-2bUbuntuMono-Regular_6a;color:#555;}
.sd_305{font-size:12px;font-family:XSIGUE-2bGotham-Bold_83;color:#FFF;}
.se_305{font-size:14px;font-family:XSIGUE-2bMyriadPro-SemiboldC_18;color:#000;}
.t.m0_305{transform:matrix(0,1,-1,0,0,0);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts305" type="text/css" >

@font-face {
	font-family: XSIGUE-2bArialUnicodeMS_b4;
	src: url("fonts/XSIGUE-2bArialUnicodeMS_b4.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bGotham-Bold_83;
	src: url("fonts/XSIGUE-2bGotham-Bold_83.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bMinionPro-Bold_5o;
	src: url("fonts/XSIGUE-2bMinionPro-Bold_5o.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bMinionPro-It_1v;
	src: url("fonts/XSIGUE-2bMinionPro-It_1v.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bMinionPro-Regular_1p;
	src: url("fonts/XSIGUE-2bMinionPro-Regular_1p.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bMyriadPro-SemiboldC_18;
	src: url("fonts/XSIGUE-2bMyriadPro-SemiboldC_18.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bUbuntuMono-Bold_7y;
	src: url("fonts/XSIGUE-2bUbuntuMono-Bold_7y.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bUbuntuMono-Italic_cc;
	src: url("fonts/XSIGUE-2bUbuntuMono-Italic_cc.woff") format("woff");
}

@font-face {
	font-family: XSIGUE-2bUbuntuMono-Regular_6a;
	src: url("fonts/XSIGUE-2bUbuntuMono-Regular_6a.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg305Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg305" style="-webkit-user-select: none;"><object width="660" height="990" data="305/305.svg" type="image/svg+xml" id="pdf305" style="width:660px; height:990px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_305" class="t s1_305">Input/Output </span>
<span id="t2_305" class="t s2_305">The input is a </span><span id="t3_305" class="t s3_305">k</span><span id="t4_305" class="t s2_305">-d tree formed from a set of two-dimensional points </span><span id="t5_305" class="t s3_305">P </span><span id="t6_305" class="t s2_305">in a plane. A </span>
<span id="t7_305" class="t s2_305">set of nearest neighbor queries (not known in advance) is issued one at a time to </span>
<span id="t8_305" class="t s2_305">find the nearest point in </span><span id="t9_305" class="t s3_305">P </span><span id="ta_305" class="t s2_305">to a point </span><span id="tb_305" class="t s3_305">x</span><span id="tc_305" class="t s2_305">. </span>
<span id="td_305" class="t s2_305">For each query point </span><span id="te_305" class="t s3_305">x</span><span id="tf_305" class="t s2_305">, the algorithm computes a point in </span><span id="tg_305" class="t s3_305">P </span><span id="th_305" class="t s2_305">that is the closest </span>
<span id="ti_305" class="t s2_305">neighbor to </span><span id="tj_305" class="t s3_305">x</span><span id="tk_305" class="t s2_305">. </span>
<span id="tl_305" class="t s2_305">If two points are “too close” to each other through floating-point error, the </span>
<span id="tm_305" class="t s2_305">algorithm may incorrectly select the wrong point; however, the distance to the </span>
<span id="tn_305" class="t s2_305">actual closest point would be so close that there should be no impact by this faulty </span>
<span id="to_305" class="t s2_305">response. </span>
<span id="tp_305" class="t s1_305">Context </span>
<span id="tq_305" class="t s2_305">When comparing this approach against a brute-force approach that compares the </span>
<span id="tr_305" class="t s2_305">distances between query point </span><span id="ts_305" class="t s3_305">x </span><span id="tt_305" class="t s2_305">and each point </span><span id="tu_305" class="t s3_305">p </span><span id="tv_305" class="t s4_305">∈ </span><span id="tw_305" class="t s3_305">P</span><span id="tx_305" class="t s2_305">, there are two important costs </span>
<span id="ty_305" class="t s2_305">to consider: (1) the cost of constructing the </span><span id="tz_305" class="t s3_305">k</span><span id="t10_305" class="t s2_305">-d tree, and (2) the cost of locating the </span>
<span id="t11_305" class="t s2_305">query point </span><span id="t12_305" class="t s3_305">x </span><span id="t13_305" class="t s2_305">within the tree structure. The trade-offs that impact these costs are: </span>
<span id="t14_305" class="t s3_305">Number of dimensions </span>
<span id="t15_305" class="t s2_305">As the number of dimensions increases, the cost of constructing the </span><span id="t16_305" class="t s3_305">k</span><span id="t17_305" class="t s2_305">-d </span>
<span id="t18_305" class="t s2_305">tree overwhelms its utility. Some authorities believe that for more than 20 </span>
<span id="t19_305" class="t s2_305">dimensions, this approach is less efficient than a straight comparison against all </span>
<span id="t1a_305" class="t s2_305">points. </span>
<span id="t1b_305" class="t s3_305">Number of points in the input set </span>
<span id="t1c_305" class="t s2_305">When the number of points is small, the cost of constructing the structure may </span>
<span id="t1d_305" class="t s2_305">outweigh the improved performance. </span>
<span id="t1e_305" class="t s2_305">Binary trees can be efficient search structures because they can be balanced as nodes </span>
<span id="t1f_305" class="t s2_305">are inserted into and deleted from the tree. Unfortunately, </span><span id="t1g_305" class="t s3_305">k</span><span id="t1h_305" class="t s2_305">-d trees cannot be bal‐ </span>
<span id="t1i_305" class="t s2_305">anced easily, nor can points be deleted, because of the deep structural information </span>
<span id="t1j_305" class="t s2_305">about the dimensional plane they represent. The ideal solution is to construct the </span>
<span id="t1k_305" class="t s2_305">initial </span><span id="t1l_305" class="t s3_305">k</span><span id="t1m_305" class="t s2_305">-d tree so that either (a) the leaf nodes are at the same level in the tree, or (b) </span>
<span id="t1n_305" class="t s2_305">all leaf nodes are within one level of all other leaf nodes. </span>
<span id="t1o_305" class="t s1_305">Solution </span>
<span id="t1p_305" class="t s2_305">Given an existing </span><span id="t1q_305" class="t s3_305">k</span><span id="t1r_305" class="t s2_305">-d tree, </span><span id="t1s_305" class="t s5_305">Nearest Neighbor </span><span id="t1t_305" class="t s2_305">implementation is shown in </span>
<span id="t1u_305" class="t s6_305">Example 10-1</span><span id="t1v_305" class="t s2_305">. </span>
<span id="t1w_305" class="t s7_305">Example 10-1. Nearest Neighbor implementation in KDTree </span>
<span id="t1x_305" class="t s8_305">// KDTree method. </span>
<span id="t1y_305" class="t s9_305">public </span><span id="t1z_305" class="t sa_305">IMultiPoint </span><span id="t20_305" class="t sb_305">nearest </span><span id="t21_305" class="t sc_305">(</span><span id="t22_305" class="t sa_305">IMultiPoint target</span><span id="t23_305" class="t sc_305">) { </span>
<span id="t24_305" class="t s9_305">if </span><span id="t25_305" class="t sc_305">(</span><span id="t26_305" class="t sa_305">root </span><span id="t27_305" class="t sc_305">== </span><span id="t28_305" class="t s9_305">null</span><span id="t29_305" class="t sc_305">||</span><span id="t2a_305" class="t sa_305">target </span><span id="t2b_305" class="t sc_305">== </span><span id="t2c_305" class="t s9_305">null</span><span id="t2d_305" class="t sc_305">) </span><span id="t2e_305" class="t s9_305">return </span><span id="t2f_305" class="t s9_305">null</span><span id="t2g_305" class="t sc_305">; </span>
<span id="t2h_305" class="t s8_305">// Find parent node to which target would have been inserted. </span>
<span id="t2i_305" class="t m0_305 sd_305">Spatial Tree </span>
<span id="t2j_305" class="t m0_305 sd_305">Structures </span>
<span id="t2k_305" class="t se_305">Nearest Neighbor Queries </span><span id="t2l_305" class="t se_305">| </span><span id="t2m_305" class="t se_305">291 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
