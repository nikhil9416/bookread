<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p513" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_513{left:703px;bottom:960px;letter-spacing:-0.13px;}
#t2_513{left:281px;bottom:960px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t3_513{left:156px;bottom:917px;letter-spacing:0.14px;word-spacing:0.34px;}
#t4_513{left:156px;bottom:898px;letter-spacing:0.12px;word-spacing:1.05px;}
#t5_513{left:533px;bottom:898px;letter-spacing:0.3px;}
#t6_513{left:156px;bottom:878px;letter-spacing:0.12px;word-spacing:3.07px;}
#t7_513{left:481px;bottom:878px;letter-spacing:0.3px;}
#t8_513{left:156px;bottom:858px;letter-spacing:0.11px;word-spacing:0.06px;}
#t9_513{left:156px;bottom:541px;letter-spacing:0.11px;}
#ta_513{left:232px;bottom:541px;letter-spacing:0.1px;}
#tb_513{left:156px;bottom:525px;letter-spacing:-0.21px;}
#tc_513{left:323px;bottom:525px;letter-spacing:0.09px;}
#td_513{left:156px;bottom:510px;letter-spacing:0.09px;}
#te_513{left:257px;bottom:510px;letter-spacing:-0.21px;}
#tf_513{left:470px;bottom:510px;}
#tg_513{left:156px;bottom:455px;letter-spacing:0.1px;word-spacing:0.55px;}
#th_513{left:404px;bottom:455px;letter-spacing:0.3px;}
#ti_513{left:648px;bottom:455px;letter-spacing:0.14px;word-spacing:0.51px;}
#tj_513{left:156px;bottom:435px;letter-spacing:0.13px;word-spacing:2.73px;}
#tk_513{left:156px;bottom:415px;letter-spacing:0.1px;word-spacing:1.59px;}
#tl_513{left:156px;bottom:395px;letter-spacing:0.29px;}
#tm_513{left:398px;bottom:394px;letter-spacing:0.17px;word-spacing:9.64px;}
#tn_513{left:457px;bottom:395px;letter-spacing:0.3px;}
#to_513{left:662px;bottom:394px;letter-spacing:0.13px;word-spacing:9.68px;}
#tp_513{left:156px;bottom:374px;letter-spacing:0.3px;}
#tq_513{left:353px;bottom:374px;letter-spacing:0.12px;word-spacing:1.95px;}
#tr_513{left:156px;bottom:354px;letter-spacing:0.11px;word-spacing:0.18px;}
#ts_513{left:316px;bottom:354px;letter-spacing:0.29px;}
#tt_513{left:563px;bottom:354px;letter-spacing:0.13px;word-spacing:0.14px;}
#tu_513{left:156px;bottom:334px;letter-spacing:0.11px;word-spacing:-0.02px;}
#tv_513{left:156px;bottom:102px;letter-spacing:0.09px;}
#tw_513{left:232px;bottom:102px;letter-spacing:0.09px;}
#tx_513{left:255px;bottom:101px;letter-spacing:-0.21px;}
#ty_513{left:403px;bottom:102px;letter-spacing:0.07px;word-spacing:0.01px;}
#tz_513{left:454px;bottom:101px;letter-spacing:-0.2px;}
#t10_513{left:624px;bottom:102px;letter-spacing:0.11px;word-spacing:-0.01px;}
#t11_513{left:156px;bottom:86px;letter-spacing:0.11px;word-spacing:-0.02px;}
#t12_513{left:404px;bottom:86px;letter-spacing:-0.21px;}
#t13_513{left:620px;bottom:86px;letter-spacing:0.11px;word-spacing:-0.01px;}
#t14_513{left:299px;bottom:676px;letter-spacing:-0.15px;}
#t15_513{left:536px;bottom:677px;letter-spacing:-0.15px;}
#t16_513{left:248px;bottom:796px;letter-spacing:-0.1px;}
#t17_513{left:248px;bottom:782px;letter-spacing:-0.1px;}
#t18_513{left:248px;bottom:767px;letter-spacing:-0.1px;}
#t19_513{left:421px;bottom:589px;letter-spacing:-0.1px;}
#t1a_513{left:421px;bottom:574px;letter-spacing:-0.1px;}
#t1b_513{left:283px;bottom:254px;letter-spacing:-0.15px;}
#t1c_513{left:501px;bottom:254px;letter-spacing:-0.15px;}
#t1d_513{left:194px;bottom:202px;letter-spacing:-0.15px;}
#t1e_513{left:194px;bottom:190px;letter-spacing:-0.13px;}
#t1f_513{left:392px;bottom:146px;letter-spacing:-0.15px;}
#t1g_513{left:441px;bottom:202px;letter-spacing:-0.14px;}
#t1h_513{left:441px;bottom:190px;letter-spacing:-0.14px;}

.s1_513{font-size:14px;font-family:NewBaskerville-Bold_w3;color:#252525;}
.s2_513{font-size:14px;font-family:NewBaskerville-BoldItalic_zn;color:#656565;}
.s3_513{font-size:15px;font-family:NewBaskerville-Roman_xo;color:#252525;}
.s4_513{font-size:14px;font-family:Courier_166;color:#252525;}
.s5_513{font-size:12px;font-family:FranklinGothic-Demi_yq;color:#656565;}
.s6_513{font-size:13px;font-family:Courier-Bold_194;color:#656565;}
.s7_513{font-size:11px;font-family:Helvetica_wf;color:#231F20;}
.s8_513{font-size:14px;font-family:Humanist521BT-BoldCondensed_wh;color:#231F20;}
.s9_513{font-size:11px;font-family:Helvetica_1ah;color:#211E1E;}
.sa_513{font-size:11px;font-family:Helvetica_1ah;color:#231F20;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts513" type="text/css" >

@font-face {
	font-family: Courier-Bold_194;
	src: url("fonts/Courier-Bold_194.woff") format("woff");
}

@font-face {
	font-family: Courier_166;
	src: url("fonts/Courier_166.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_yq;
	src: url("fonts/FranklinGothic-Demi_yq.woff") format("woff");
}

@font-face {
	font-family: Helvetica_1ah;
	src: url("fonts/Helvetica_1ah.woff") format("woff");
}

@font-face {
	font-family: Helvetica_wf;
	src: url("fonts/Helvetica_wf.woff") format("woff");
}

@font-face {
	font-family: Humanist521BT-BoldCondensed_wh;
	src: url("fonts/Humanist521BT-BoldCondensed_wh.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_zn;
	src: url("fonts/NewBaskerville-BoldItalic_zn.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_w3;
	src: url("fonts/NewBaskerville-Bold_w3.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_xo;
	src: url("fonts/NewBaskerville-Roman_xo.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg513Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg513" style="-webkit-user-select: none;"><object width="811" height="1017" data="513/513.svg" type="image/svg+xml" id="pdf513" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_513" class="t s1_513">483 </span><span id="t2_513" class="t s2_513">Configuring authorization rules in reactive apps </span>
<span id="t3_513" class="t s3_513">What happened behind the scenes in the examples in this section? When authentica- </span>
<span id="t4_513" class="t s3_513">tion ended, another filter intercepted the request. The </span><span id="t5_513" class="t s4_513">AuthorizationWebFilter </span>
<span id="t6_513" class="t s3_513">delegates the authorization responsibility to a </span><span id="t7_513" class="t s4_513">ReactiveAuthorizationManager </span>
<span id="t8_513" class="t s3_513">(figure 19.6). </span>
<span id="t9_513" class="t s5_513">Figure 19.6 </span><span id="ta_513" class="t s5_513">After the authentication process successfully ends, another filter, named </span>
<span id="tb_513" class="t s6_513">AuthorizationWebFilter</span><span id="tc_513" class="t s5_513">, intercepts the request. This filter delegates the authorization </span>
<span id="td_513" class="t s5_513">responsibility to a </span><span id="te_513" class="t s6_513">ReactiveAuthorizationManager</span><span id="tf_513" class="t s5_513">. </span>
<span id="tg_513" class="t s3_513">Wait! Does this mean we only have a </span><span id="th_513" class="t s4_513">ReactiveAuthorizationManager</span><span id="ti_513" class="t s3_513">? How does </span>
<span id="tj_513" class="t s3_513">this component know how to authorize a request based on the configurations we </span>
<span id="tk_513" class="t s3_513">made? To the first question, no, there are actually multiple implementations of the </span>
<span id="tl_513" class="t s4_513">ReactiveAuthorizationManager </span><span id="tm_513" class="t s3_513">. The </span><span id="tn_513" class="t s4_513">AuthorizationWebFilter </span><span id="to_513" class="t s3_513">uses the </span>
<span id="tp_513" class="t s4_513">SecurityWebFilterChain </span><span id="tq_513" class="t s3_513">bean we added to the Spring context. With this bean, </span>
<span id="tr_513" class="t s3_513">the filter decides which </span><span id="ts_513" class="t s4_513">ReactiveAuthorizationManager </span><span id="tt_513" class="t s3_513">implementation to dele- </span>
<span id="tu_513" class="t s3_513">gate the authorization responsibility to (figure 19.7). </span>
<span id="tv_513" class="t s5_513">Figure 19.7 </span><span id="tw_513" class="t s5_513">The </span><span id="tx_513" class="t s6_513">AuthorizationFilter </span><span id="ty_513" class="t s5_513">uses the </span><span id="tz_513" class="t s6_513">SecurityWebFilterChain </span><span id="t10_513" class="t s5_513">bean (shaded) </span>
<span id="t11_513" class="t s5_513">that we added to the context to know which </span><span id="t12_513" class="t s6_513">ReactiveAuthorizationManager </span><span id="t13_513" class="t s5_513">to use. </span>
<span id="t14_513" class="t s7_513">AuthorizationWebFilter </span><span id="t15_513" class="t s7_513">ReactiveAuthorizationManager </span>
<span id="t16_513" class="t s8_513">Once authentication ends, AuthorizationWebFilter </span>
<span id="t17_513" class="t s8_513">intercepts the HTTP request and delegates the authorization </span>
<span id="t18_513" class="t s8_513">responsibility to a ReactiveAuthorizationManager. </span>
<span id="t19_513" class="t s8_513">The ReactiveAuthorizationManager decides </span>
<span id="t1a_513" class="t s8_513">whether the exchange is authorized. </span>
<span id="t1b_513" class="t s9_513">AuthorizationWebFilter </span><span id="t1c_513" class="t s9_513">AuthorityReactiveAuthorizationManager </span>
<span id="t1d_513" class="t s9_513">Which ReactiveAuthorizationManager </span>
<span id="t1e_513" class="t s9_513">should I use for this request? </span>
<span id="t1f_513" class="t s9_513">SecurityWebFilterChain </span>
<span id="t1g_513" class="t sa_513">You should use the </span>
<span id="t1h_513" class="t sa_513">AuthorityReactiveAuthorizationManager! </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
