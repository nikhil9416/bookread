<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p469" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_469{left:703px;bottom:960px;letter-spacing:-0.13px;}
#t2_469{left:281px;bottom:960px;letter-spacing:-0.11px;word-spacing:-0.01px;}
#t3_469{left:156px;bottom:917px;letter-spacing:0.11px;word-spacing:-0.37px;}
#t4_469{left:156px;bottom:898px;letter-spacing:0.12px;word-spacing:-0.02px;}
#t5_469{left:156px;bottom:878px;letter-spacing:0.11px;word-spacing:2.21px;}
#t6_469{left:156px;bottom:858px;letter-spacing:0.12px;word-spacing:-1.05px;}
#t7_469{left:156px;bottom:829px;}
#t8_469{left:171px;bottom:802px;letter-spacing:0.13px;}
#t9_469{left:185px;bottom:786px;letter-spacing:0.14px;}
#ta_469{left:171px;bottom:759px;letter-spacing:0.14px;}
#tb_469{left:185px;bottom:744px;letter-spacing:0.14px;}
#tc_469{left:185px;bottom:726px;}
#td_469{left:200px;bottom:729px;letter-spacing:0.14px;}
#te_469{left:178px;bottom:702px;letter-spacing:0.13px;}
#tf_469{left:185px;bottom:687px;letter-spacing:0.14px;}
#tg_469{left:185px;bottom:669px;}
#th_469{left:200px;bottom:672px;letter-spacing:0.14px;}
#ti_469{left:178px;bottom:645px;letter-spacing:0.13px;}
#tj_469{left:156px;bottom:630px;letter-spacing:0.14px;}
#tk_469{left:156px;bottom:612px;}
#tl_469{left:171px;bottom:615px;letter-spacing:0.14px;}
#tm_469{left:178px;bottom:587px;letter-spacing:0.14px;}
#tn_469{left:200px;bottom:573px;letter-spacing:0.14px;}
#to_469{left:200px;bottom:558px;letter-spacing:0.13px;}
#tp_469{left:200px;bottom:543px;letter-spacing:0.13px;}
#tq_469{left:200px;bottom:528px;letter-spacing:0.13px;}
#tr_469{left:200px;bottom:513px;letter-spacing:0.13px;}
#ts_469{left:178px;bottom:498px;letter-spacing:0.14px;}
#tt_469{left:156px;bottom:483px;letter-spacing:0.14px;}
#tu_469{left:156px;bottom:468px;}
#tv_469{left:156px;bottom:434px;letter-spacing:0.11px;word-spacing:0.9px;}
#tw_469{left:156px;bottom:414px;letter-spacing:0.1px;word-spacing:0.82px;}
#tx_469{left:231px;bottom:377px;letter-spacing:-0.17px;}
#ty_469{left:476px;bottom:377px;letter-spacing:-0.16px;}
#tz_469{left:192px;bottom:324px;letter-spacing:-0.18px;}
#t10_469{left:192px;bottom:311px;letter-spacing:-0.15px;}
#t11_469{left:192px;bottom:299px;letter-spacing:-0.13px;}
#t12_469{left:192px;bottom:287px;letter-spacing:-0.13px;}
#t13_469{left:447px;bottom:312px;letter-spacing:-0.15px;}
#t14_469{left:447px;bottom:300px;letter-spacing:-0.15px;}
#t15_469{left:447px;bottom:288px;letter-spacing:-0.12px;}
#t16_469{left:157px;bottom:119px;letter-spacing:0.1px;}
#t17_469{left:233px;bottom:119px;letter-spacing:0.1px;}
#t18_469{left:157px;bottom:104px;letter-spacing:0.1px;word-spacing:-0.81px;}
#t19_469{left:157px;bottom:89px;letter-spacing:0.11px;word-spacing:-0.01px;}

.s1_469{font-size:14px;font-family:NewBaskerville-Bold_w3;color:#252525;}
.s2_469{font-size:14px;font-family:NewBaskerville-BoldItalic_zn;color:#656565;}
.s3_469{font-size:15px;font-family:NewBaskerville-Roman_xo;color:#252525;}
.s4_469{font-size:12px;font-family:Courier_166;color:#252525;}
.s5_469{font-size:16px;font-family:ZapfDingbats_yj;color:#B3B3B3;}
.s6_469{font-size:11px;font-family:Helvetica_wf;color:#231F20;}
.s7_469{font-size:12px;font-family:FranklinGothic-Demi_yq;color:#656565;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts469" type="text/css" >

@font-face {
	font-family: Courier_166;
	src: url("fonts/Courier_166.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_yq;
	src: url("fonts/FranklinGothic-Demi_yq.woff") format("woff");
}

@font-face {
	font-family: Helvetica_wf;
	src: url("fonts/Helvetica_wf.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_zn;
	src: url("fonts/NewBaskerville-BoldItalic_zn.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_w3;
	src: url("fonts/NewBaskerville-Bold_w3.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_xo;
	src: url("fonts/NewBaskerville-Roman_xo.woff") format("woff");
}

@font-face {
	font-family: ZapfDingbats_yj;
	src: url("fonts/ZapfDingbats_yj.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg469Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg469" style="-webkit-user-select: none;"><object width="811" height="1017" data="469/469.svg" type="image/svg+xml" id="pdf469" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_469" class="t s1_469">439 </span><span id="t2_469" class="t s2_469">Configuring Keycloak as an authorization server </span>
<span id="t3_469" class="t s3_469">In the next code snippet, I extracted a part of the OAuth 2 configuration that you find </span>
<span id="t4_469" class="t s3_469">by clicking the OpenID Endpoint Configuration link. This configuration provides the </span>
<span id="t5_469" class="t s3_469">token endpoint, the authorization endpoint, and the list of supported grant types. </span>
<span id="t6_469" class="t s3_469">These details should be familiar to you, as we discussed them in chapters 12 through 15. </span>
<span id="t7_469" class="t s4_469">{ </span>
<span id="t8_469" class="t s4_469">"issuer": </span>
<span id="t9_469" class="t s4_469">"http://localhost:8080/auth/realms/master", </span>
<span id="ta_469" class="t s4_469">"authorization_endpoint": </span>
<span id="tb_469" class="t s4_469">"http://localhost:8080/auth/realms/master/ </span>
<span id="tc_469" class="t s5_469">➥</span><span id="td_469" class="t s4_469">protocol/openid-connect/auth", </span>
<span id="te_469" class="t s4_469">"token_endpoint": </span>
<span id="tf_469" class="t s4_469">"http://localhost:8080/auth/realms/master/ </span>
<span id="tg_469" class="t s5_469">➥</span><span id="th_469" class="t s4_469">protocol/openid-connect/token", </span>
<span id="ti_469" class="t s4_469">"jwks_uri": </span>
<span id="tj_469" class="t s4_469">"http://localhost:8080/auth/realms/master/protocol/ </span>
<span id="tk_469" class="t s5_469">➥</span><span id="tl_469" class="t s4_469">openid-connect/certs", </span>
<span id="tm_469" class="t s4_469">"grant_types_supported":[ </span>
<span id="tn_469" class="t s4_469">"authorization_code", </span>
<span id="to_469" class="t s4_469">"implicit", </span>
<span id="tp_469" class="t s4_469">"refresh_token", </span>
<span id="tq_469" class="t s4_469">"password", </span>
<span id="tr_469" class="t s4_469">"client_credentials" </span>
<span id="ts_469" class="t s4_469">], </span>
<span id="tt_469" class="t s4_469">... </span>
<span id="tu_469" class="t s4_469">} </span>
<span id="tv_469" class="t s3_469">You might find testing the app more comfortable if you configured long-lived access </span>
<span id="tw_469" class="t s3_469">tokens (figure 18.7). However, in a real-world scenario, remember not to give a long </span>
<span id="tx_469" class="t s6_469">BEFORE... </span><span id="ty_469" class="t s6_469">AFTER... </span>
<span id="tz_469" class="t s6_469">OH NO! </span>
<span id="t10_469" class="t s6_469">My token expired </span>
<span id="t11_469" class="t s6_469">before I could use it </span>
<span id="t12_469" class="t s6_469">to test the endpoint! </span>
<span id="t13_469" class="t s6_469">Good thing I remembered </span>
<span id="t14_469" class="t s6_469">to make these tokens </span>
<span id="t15_469" class="t s6_469">live longer. </span>
<span id="t16_469" class="t s7_469">Figure 18.7 </span><span id="t17_469" class="t s7_469">To test the application, we manually generate access tokens, which we use to </span>
<span id="t18_469" class="t s7_469">call the endpoints. If you define a short lifespan for the tokens, you need to generate them more </span>
<span id="t19_469" class="t s7_469">often, and you might get annoyed when a token expires before you can use it. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
