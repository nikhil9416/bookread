<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p239" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_239{left:110px;bottom:897px;letter-spacing:-0.03px;}
#t2_239{left:110px;bottom:874px;letter-spacing:-0.18px;}
#t3_239{left:202px;bottom:875px;letter-spacing:0.01px;}
#t4_239{left:276px;bottom:874px;letter-spacing:-0.13px;}
#t5_239{left:304px;bottom:875px;letter-spacing:0.01px;}
#t6_239{left:343px;bottom:874px;letter-spacing:-0.17px;word-spacing:0.03px;}
#t7_239{left:110px;bottom:855px;letter-spacing:-0.12px;word-spacing:-1.04px;}
#t8_239{left:148px;bottom:856px;letter-spacing:0.01px;}
#t9_239{left:179px;bottom:855px;letter-spacing:-0.18px;word-spacing:-1.06px;}
#ta_239{left:110px;bottom:837px;letter-spacing:-0.17px;word-spacing:3.32px;}
#tb_239{left:608px;bottom:837px;letter-spacing:0.01px;}
#tc_239{left:636px;bottom:837px;letter-spacing:-0.22px;}
#td_239{left:110px;bottom:819px;letter-spacing:0.01px;}
#te_239{left:157px;bottom:818px;letter-spacing:-0.18px;word-spacing:1.23px;}
#tf_239{left:477px;bottom:819px;letter-spacing:0.01px;}
#tg_239{left:552px;bottom:818px;letter-spacing:-0.18px;word-spacing:1.25px;}
#th_239{left:110px;bottom:799px;letter-spacing:-0.18px;word-spacing:-1.39px;}
#ti_239{left:271px;bottom:800px;letter-spacing:0.01px;}
#tj_239{left:337px;bottom:799px;letter-spacing:-0.18px;word-spacing:-1.39px;}
#tk_239{left:110px;bottom:780px;letter-spacing:-0.16px;word-spacing:0.87px;}
#tl_239{left:309px;bottom:781px;letter-spacing:0.01px;}
#tm_239{left:384px;bottom:780px;letter-spacing:-0.17px;word-spacing:0.87px;}
#tn_239{left:110px;bottom:762px;letter-spacing:-0.18px;}
#to_239{left:110px;bottom:720px;letter-spacing:-0.03px;}
#tp_239{left:110px;bottom:697px;letter-spacing:-0.17px;word-spacing:-1.06px;}
#tq_239{left:256px;bottom:698px;letter-spacing:0.01px;}
#tr_239{left:389px;bottom:697px;letter-spacing:-0.17px;word-spacing:-1.06px;}
#ts_239{left:110px;bottom:678px;letter-spacing:-0.17px;word-spacing:1.08px;}
#tt_239{left:433px;bottom:679px;letter-spacing:0.01px;}
#tu_239{left:578px;bottom:678px;letter-spacing:-0.12px;word-spacing:1.08px;}
#tv_239{left:605px;bottom:679px;letter-spacing:0.01px;}
#tw_239{left:638px;bottom:678px;letter-spacing:-0.19px;}
#tx_239{left:110px;bottom:660px;letter-spacing:-0.18px;word-spacing:0.42px;}
#ty_239{left:110px;bottom:641px;letter-spacing:-0.17px;word-spacing:-0.12px;}
#tz_239{left:110px;bottom:622px;letter-spacing:-0.17px;word-spacing:0.55px;}
#t10_239{left:110px;bottom:604px;letter-spacing:-0.18px;word-spacing:0.92px;}
#t11_239{left:110px;bottom:585px;letter-spacing:-0.17px;word-spacing:-0.59px;}
#t12_239{left:110px;bottom:566px;letter-spacing:-0.16px;}
#t13_239{left:110px;bottom:540px;letter-spacing:-0.16px;word-spacing:0.69px;}
#t14_239{left:175px;bottom:541px;letter-spacing:0.01px;}
#t15_239{left:312px;bottom:540px;letter-spacing:-0.16px;word-spacing:0.69px;}
#t16_239{left:110px;bottom:522px;letter-spacing:0.01px;}
#t17_239{left:250px;bottom:521px;letter-spacing:-0.18px;word-spacing:2.7px;}
#t18_239{left:552px;bottom:522px;letter-spacing:0.01px;}
#t19_239{left:636px;bottom:521px;letter-spacing:-0.22px;}
#t1a_239{left:110px;bottom:503px;letter-spacing:0.01px;}
#t1b_239{left:198px;bottom:503px;letter-spacing:-0.16px;word-spacing:-0.28px;}
#t1c_239{left:426px;bottom:503px;letter-spacing:0.01px;}
#t1d_239{left:450px;bottom:503px;letter-spacing:-0.19px;}
#t1e_239{left:510px;bottom:503px;letter-spacing:0.01px;}
#t1f_239{left:534px;bottom:503px;letter-spacing:-0.16px;}
#t1g_239{left:562px;bottom:503px;letter-spacing:0.01px;}
#t1h_239{left:608px;bottom:503px;letter-spacing:-0.17px;word-spacing:-0.28px;}
#t1i_239{left:110px;bottom:484px;letter-spacing:-0.18px;word-spacing:1.53px;}
#t1j_239{left:110px;bottom:465px;letter-spacing:-0.19px;word-spacing:0.03px;}
#t1k_239{left:202px;bottom:466px;letter-spacing:0.01px;}
#t1l_239{left:346px;bottom:465px;letter-spacing:-0.16px;word-spacing:-0.37px;}
#t1m_239{left:110px;bottom:446px;letter-spacing:-0.15px;word-spacing:-1.41px;}
#t1n_239{left:110px;bottom:428px;letter-spacing:-0.16px;}
#t1o_239{left:110px;bottom:369px;letter-spacing:-0.14px;}
#t1p_239{left:158px;bottom:369px;letter-spacing:-0.18px;}
#t1q_239{left:110px;bottom:346px;letter-spacing:-0.18px;word-spacing:1.57px;}
#t1r_239{left:632px;bottom:347px;letter-spacing:0.01px;}
#t1s_239{left:110px;bottom:328px;letter-spacing:-0.18px;}
#t1t_239{left:110px;bottom:309px;letter-spacing:-0.17px;word-spacing:0.06px;}
#t1u_239{left:110px;bottom:290px;letter-spacing:-0.16px;word-spacing:-0.42px;}
#t1v_239{left:569px;bottom:291px;letter-spacing:0.01px;}
#t1w_239{left:110px;bottom:272px;letter-spacing:0.01px;}
#t1x_239{left:159px;bottom:272px;letter-spacing:-0.16px;word-spacing:-0.37px;}
#t1y_239{left:110px;bottom:253px;letter-spacing:-0.18px;word-spacing:2.27px;}
#t1z_239{left:577px;bottom:254px;letter-spacing:0.01px;}
#t20_239{left:646px;bottom:253px;letter-spacing:-0.19px;}
#t21_239{left:110px;bottom:235px;letter-spacing:0.01px;}
#t22_239{left:180px;bottom:234px;}
#t23_239{left:110px;bottom:208px;letter-spacing:-0.17px;word-spacing:0.28px;}
#t24_239{left:421px;bottom:209px;letter-spacing:0.01px;}
#t25_239{left:488px;bottom:208px;letter-spacing:-0.16px;}
#t26_239{left:517px;bottom:209px;letter-spacing:0.01px;}
#t27_239{left:587px;bottom:208px;letter-spacing:-0.18px;}
#t28_239{left:110px;bottom:189px;letter-spacing:-0.17px;word-spacing:0.09px;}
#t29_239{left:110px;bottom:170px;letter-spacing:-0.09px;}
#t2a_239{left:124px;bottom:171px;letter-spacing:0.01px;}
#t2b_239{left:150px;bottom:170px;letter-spacing:-0.18px;word-spacing:0.64px;}
#t2c_239{left:110px;bottom:152px;letter-spacing:-0.15px;word-spacing:0.84px;}
#t2d_239{left:197px;bottom:152px;letter-spacing:0.01px;}
#t2e_239{left:265px;bottom:152px;letter-spacing:-0.17px;word-spacing:0.84px;}
#t2f_239{left:110px;bottom:133px;letter-spacing:-0.16px;word-spacing:-0.36px;}
#t2g_239{left:110px;bottom:114px;letter-spacing:-0.15px;word-spacing:-0.56px;}
#t2h_239{left:203px;bottom:115px;letter-spacing:0.01px;}
#t2i_239{left:276px;bottom:114px;letter-spacing:-0.17px;word-spacing:-0.56px;}
#t2j_239{left:449px;bottom:60px;letter-spacing:-0.07px;}
#t2k_239{left:473px;bottom:60px;letter-spacing:-0.09px;}
#t2l_239{left:631px;bottom:60px;}
#t2m_239{left:643px;bottom:60px;letter-spacing:-0.1px;}

.s1_239{font-size:23px;font-family:CNCSGY-2bMyriadPro-SemiboldCo_q;color:#000;}
.s2_239{font-size:16px;font-family:CNCSGY-2bBirka_1c;color:#000;}
.s3_239{font-size:14px;font-family:CNCSGY-2bTheSansMonoCd-W5Reg_dv;color:#000;}
.s4_239{font-size:28px;font-family:CNCSGY-2bMyriadPro-SemiboldCo_q;color:#000;}
.s5_239{font-size:14px;font-family:CNCSGY-2bMyriadPro-SemiboldCo_q;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts239" type="text/css" >

@font-face {
	font-family: CNCSGY-2bBirka_1c;
	src: url("fonts/CNCSGY-2bBirka_1c.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bMyriadPro-SemiboldCo_q;
	src: url("fonts/CNCSGY-2bMyriadPro-SemiboldCo_q.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bTheSansMonoCd-W5Reg_dv;
	src: url("fonts/CNCSGY-2bTheSansMonoCd-W5Reg_dv.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg239Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg239" style="-webkit-user-select: none;"><object width="770" height="1010" data="239/239.svg" type="image/svg+xml" id="pdf239" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_239" class="t s1_239">15.2.2. LinkedList </span>
<span id="t2_239" class="t s2_239">We discussed </span><span id="t3_239" class="t s3_239">LinkedList </span><span id="t4_239" class="t s2_239">as a </span><span id="t5_239" class="t s3_239">Deque </span><span id="t6_239" class="t s2_239">implementation in Section 14.4.1. You will avoid </span>
<span id="t7_239" class="t s2_239">it as a </span><span id="t8_239" class="t s3_239">List </span><span id="t9_239" class="t s2_239">implementation if your application makes much use of random access; since </span>
<span id="ta_239" class="t s2_239">the list must iterate internally to reach the required position, positional </span><span id="tb_239" class="t s3_239">add </span><span id="tc_239" class="t s2_239">and </span>
<span id="td_239" class="t s3_239">remove </span><span id="te_239" class="t s2_239">have linear time complexity, on average. Where </span><span id="tf_239" class="t s3_239">LinkedList </span><span id="tg_239" class="t s2_239">does have a per- </span>
<span id="th_239" class="t s2_239">formance advantage over </span><span id="ti_239" class="t s3_239">ArrayList </span><span id="tj_239" class="t s2_239">is in adding and removing elements anywhere other </span>
<span id="tk_239" class="t s2_239">than at the end of the list; for </span><span id="tl_239" class="t s3_239">LinkedList </span><span id="tm_239" class="t s2_239">this takes constant time, against the linear </span>
<span id="tn_239" class="t s2_239">time required for noncircular array implementations. </span>
<span id="to_239" class="t s1_239">15.2.3. CopyOnWriteArrayList </span>
<span id="tp_239" class="t s2_239">In Section 13.1 we met </span><span id="tq_239" class="t s3_239">CopyOnWriteArraySet</span><span id="tr_239" class="t s2_239">, a set implementation designed to provide </span>
<span id="ts_239" class="t s2_239">thread safety together with very fast read access. </span><span id="tt_239" class="t s3_239">CopyOnWriteArrayList </span><span id="tu_239" class="t s2_239">is a </span><span id="tv_239" class="t s3_239">List </span><span id="tw_239" class="t s2_239">im- </span>
<span id="tx_239" class="t s2_239">plementation with the same design aims. This combination of thread safety with fast </span>
<span id="ty_239" class="t s2_239">read access is useful in some concurrent programs, especially when a collection of ob- </span>
<span id="tz_239" class="t s2_239">server objects needs to receive frequent event notifications. The cost is that the array </span>
<span id="t10_239" class="t s2_239">which backs the collection has to be treated as immutable, so a new copy is created </span>
<span id="t11_239" class="t s2_239">whenever any changes are made to the collection. This cost may not be too high to pay </span>
<span id="t12_239" class="t s2_239">if changes in the set of observers occur only rarely. </span>
<span id="t13_239" class="t s2_239">The class </span><span id="t14_239" class="t s3_239">CopyOnWriteArraySet </span><span id="t15_239" class="t s2_239">in fact delegates all of its operations to an instance of </span>
<span id="t16_239" class="t s3_239">CopyOnWriteArrayList</span><span id="t17_239" class="t s2_239">, taking advantage of the atomic operations </span><span id="t18_239" class="t s3_239">addIfAbsent </span><span id="t19_239" class="t s2_239">and </span>
<span id="t1a_239" class="t s3_239">addAllAbsent </span><span id="t1b_239" class="t s2_239">provided by the latter to enable the </span><span id="t1c_239" class="t s3_239">Set </span><span id="t1d_239" class="t s2_239">methods </span><span id="t1e_239" class="t s3_239">add </span><span id="t1f_239" class="t s2_239">and </span><span id="t1g_239" class="t s3_239">addAll </span><span id="t1h_239" class="t s2_239">to avoid </span>
<span id="t1i_239" class="t s2_239">introducing duplicates to the set. In addition to the two standard constructors (see </span>
<span id="t1j_239" class="t s2_239">Section 12.3), </span><span id="t1k_239" class="t s3_239">CopyOnWriteArrayList </span><span id="t1l_239" class="t s2_239">has an extra one that allows it to be created using </span>
<span id="t1m_239" class="t s2_239">the elements of a supplied array as its initial contents. Its iterators are snapshot iterators, </span>
<span id="t1n_239" class="t s2_239">reflecting the state of the list at the time of their creation. </span>
<span id="t1o_239" class="t s4_239">15.3 </span><span id="t1p_239" class="t s4_239">Comparing List Implementations </span>
<span id="t1q_239" class="t s2_239">Table 15-1 gives the comparative performance for some sample operations on </span><span id="t1r_239" class="t s3_239">List </span>
<span id="t1s_239" class="t s2_239">classes. Even though the choice here is much narrower than with queues or even sets, </span>
<span id="t1t_239" class="t s2_239">the same process of elimination can be used. As with queues, the first question to ask </span>
<span id="t1u_239" class="t s2_239">is whether your application requires thread safety. If so, you should use </span><span id="t1v_239" class="t s3_239">CopyOnWriteAr </span>
<span id="t1w_239" class="t s3_239">rayList</span><span id="t1x_239" class="t s2_239">, if you can—that is, if writes to the list will be relatively infrequent. If not, you </span>
<span id="t1y_239" class="t s2_239">will have to use a synchronized wrapper (see Section 17.3.1) around </span><span id="t1z_239" class="t s3_239">ArrayList </span><span id="t20_239" class="t s2_239">or </span>
<span id="t21_239" class="t s3_239">LinkedList</span><span id="t22_239" class="t s2_239">. </span>
<span id="t23_239" class="t s2_239">For most list applications the choice is between </span><span id="t24_239" class="t s3_239">ArrayList </span><span id="t25_239" class="t s2_239">and </span><span id="t26_239" class="t s3_239">LinkedList</span><span id="t27_239" class="t s2_239">, synchron- </span>
<span id="t28_239" class="t s2_239">ized or not. Once again, your decision will depend on how the list is used in practice. </span>
<span id="t29_239" class="t s2_239">If </span><span id="t2a_239" class="t s3_239">set </span><span id="t2b_239" class="t s2_239">and get predominate, or element insertion and removal is mainly at the end of </span>
<span id="t2c_239" class="t s2_239">the list, then </span><span id="t2d_239" class="t s3_239">ArrayList </span><span id="t2e_239" class="t s2_239">will be the best choice. If, instead, your application needs to </span>
<span id="t2f_239" class="t s2_239">frequently insert and remove elements near the start of the list as part of a process that </span>
<span id="t2g_239" class="t s2_239">uses iteration, </span><span id="t2h_239" class="t s3_239">LinkedList </span><span id="t2i_239" class="t s2_239">may be better. If you are in doubt, test the performance with </span>
<span id="t2j_239" class="t s5_239">15.3 </span><span id="t2k_239" class="t s5_239">Comparing List Implementations </span><span id="t2l_239" class="t s5_239">| </span><span id="t2m_239" class="t s5_239">221 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
