<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p148" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_148{left:110px;bottom:906px;letter-spacing:-0.16px;word-spacing:0.86px;}
#t2_148{left:191px;bottom:907px;letter-spacing:0.01px;}
#t3_148{left:280px;bottom:906px;letter-spacing:-0.15px;word-spacing:0.86px;}
#t4_148{left:330px;bottom:907px;letter-spacing:0.01px;word-spacing:0.77px;}
#t5_148{left:577px;bottom:906px;letter-spacing:-0.16px;word-spacing:0.86px;}
#t6_148{left:110px;bottom:887px;letter-spacing:-0.18px;word-spacing:-0.09px;}
#t7_148{left:473px;bottom:888px;letter-spacing:0.01px;}
#t8_148{left:498px;bottom:887px;letter-spacing:-0.17px;word-spacing:-0.09px;}
#t9_148{left:110px;bottom:869px;letter-spacing:-0.17px;word-spacing:-0.25px;}
#ta_148{left:478px;bottom:869px;letter-spacing:0.01px;}
#tb_148{left:636px;bottom:869px;letter-spacing:-0.17px;}
#tc_148{left:110px;bottom:851px;letter-spacing:0.01px;}
#td_148{left:257px;bottom:850px;letter-spacing:-0.16px;word-spacing:-0.72px;}
#te_148{left:527px;bottom:851px;letter-spacing:0.01px;}
#tf_148{left:590px;bottom:850px;letter-spacing:-0.16px;word-spacing:-0.72px;}
#tg_148{left:110px;bottom:831px;letter-spacing:-0.17px;}
#th_148{left:110px;bottom:805px;letter-spacing:-0.17px;word-spacing:-1.25px;}
#ti_148{left:110px;bottom:786px;letter-spacing:-0.16px;word-spacing:-1.04px;}
#tj_148{left:110px;bottom:767px;letter-spacing:-0.17px;word-spacing:0.16px;}
#tk_148{left:388px;bottom:768px;letter-spacing:0.01px;}
#tl_148{left:452px;bottom:767px;letter-spacing:-0.17px;word-spacing:0.16px;}
#tm_148{left:110px;bottom:749px;letter-spacing:-0.17px;}
#tn_148{left:110px;bottom:722px;letter-spacing:-0.17px;}
#to_148{left:139px;bottom:723px;letter-spacing:0.01px;}
#tp_148{left:171px;bottom:722px;letter-spacing:-0.18px;word-spacing:-0.19px;}
#tq_148{left:255px;bottom:723px;letter-spacing:0.01px;}
#tr_148{left:315px;bottom:722px;letter-spacing:-0.16px;word-spacing:-0.19px;}
#ts_148{left:110px;bottom:704px;letter-spacing:-0.17px;word-spacing:0.14px;}
#tt_148{left:405px;bottom:704px;letter-spacing:0.01px;}
#tu_148{left:430px;bottom:704px;letter-spacing:-0.18px;word-spacing:0.14px;}
#tv_148{left:110px;bottom:685px;letter-spacing:-0.17px;word-spacing:1px;}
#tw_148{left:271px;bottom:686px;letter-spacing:0.01px;}
#tx_148{left:318px;bottom:685px;letter-spacing:-0.17px;word-spacing:1px;}
#ty_148{left:426px;bottom:686px;letter-spacing:0.01px;}
#tz_148{left:451px;bottom:685px;letter-spacing:-0.18px;word-spacing:1px;}
#t10_148{left:110px;bottom:666px;letter-spacing:-0.18px;word-spacing:0.17px;}
#t11_148{left:274px;bottom:667px;letter-spacing:0.01px;}
#t12_148{left:327px;bottom:666px;letter-spacing:-0.16px;word-spacing:0.17px;}
#t13_148{left:422px;bottom:667px;letter-spacing:0.01px;}
#t14_148{left:447px;bottom:666px;letter-spacing:-0.17px;word-spacing:0.17px;}
#t15_148{left:559px;bottom:667px;letter-spacing:0.01px;}
#t16_148{left:598px;bottom:666px;letter-spacing:-0.17px;}
#t17_148{left:110px;bottom:648px;letter-spacing:0.01px;}
#t18_148{left:264px;bottom:648px;letter-spacing:-0.18px;word-spacing:1.46px;}
#t19_148{left:576px;bottom:648px;letter-spacing:0.01px;}
#t1a_148{left:110px;bottom:629px;letter-spacing:-0.16px;word-spacing:0.67px;}
#t1b_148{left:237px;bottom:630px;letter-spacing:0.01px;}
#t1c_148{left:263px;bottom:629px;letter-spacing:-0.17px;word-spacing:0.67px;}
#t1d_148{left:364px;bottom:630px;letter-spacing:0.01px;}
#t1e_148{left:404px;bottom:629px;letter-spacing:-0.15px;word-spacing:0.67px;}
#t1f_148{left:477px;bottom:630px;letter-spacing:0.01px;}
#t1g_148{left:636px;bottom:629px;letter-spacing:-0.22px;}
#t1h_148{left:110px;bottom:611px;letter-spacing:0.01px;}
#t1i_148{left:257px;bottom:610px;letter-spacing:-0.17px;word-spacing:0.73px;}
#t1j_148{left:110px;bottom:592px;letter-spacing:-0.17px;word-spacing:-0.5px;}
#t1k_148{left:258px;bottom:592px;letter-spacing:0.01px;}
#t1l_148{left:321px;bottom:592px;letter-spacing:-0.17px;word-spacing:-0.5px;}
#t1m_148{left:110px;bottom:573px;letter-spacing:-0.16px;word-spacing:-0.55px;}
#t1n_148{left:110px;bottom:554px;letter-spacing:-0.16px;word-spacing:-0.56px;}
#t1o_148{left:110px;bottom:535px;letter-spacing:-0.17px;word-spacing:0.28px;}
#t1p_148{left:110px;bottom:517px;letter-spacing:-0.18px;}
#t1q_148{left:110px;bottom:490px;letter-spacing:-0.17px;word-spacing:1px;}
#t1r_148{left:110px;bottom:472px;letter-spacing:-0.16px;word-spacing:-0.26px;}
#t1s_148{left:110px;bottom:453px;letter-spacing:-0.16px;}
#t1t_148{left:138px;bottom:432px;letter-spacing:0.11px;}
#t1u_148{left:138px;bottom:417px;letter-spacing:0.11px;}
#t1v_148{left:138px;bottom:402px;letter-spacing:0.11px;}
#t1w_148{left:138px;bottom:388px;letter-spacing:0.11px;}
#t1x_148{left:144px;bottom:373px;letter-spacing:0.11px;}
#t1y_148{left:110px;bottom:344px;letter-spacing:-0.16px;word-spacing:0.47px;}
#t1z_148{left:297px;bottom:345px;letter-spacing:0.01px;}
#t20_148{left:444px;bottom:344px;letter-spacing:-0.14px;word-spacing:0.47px;}
#t21_148{left:489px;bottom:345px;letter-spacing:0.01px;}
#t22_148{left:592px;bottom:344px;letter-spacing:-0.16px;word-spacing:0.47px;}
#t23_148{left:639px;bottom:345px;letter-spacing:0.01px;}
#t24_148{left:110px;bottom:325px;letter-spacing:-0.21px;}
#t25_148{left:138px;bottom:304px;letter-spacing:0.11px;}
#t26_148{left:138px;bottom:289px;letter-spacing:0.11px;}
#t27_148{left:138px;bottom:275px;letter-spacing:0.11px;}
#t28_148{left:138px;bottom:260px;letter-spacing:0.11px;}
#t29_148{left:110px;bottom:231px;letter-spacing:-0.15px;word-spacing:-1.26px;}
#t2a_148{left:285px;bottom:232px;letter-spacing:0.01px;}
#t2b_148{left:439px;bottom:231px;letter-spacing:-0.16px;word-spacing:-1.26px;}
#t2c_148{left:627px;bottom:232px;letter-spacing:0.01px;}
#t2d_148{left:656px;bottom:231px;}
#t2e_148{left:138px;bottom:210px;letter-spacing:0.11px;}
#t2f_148{left:138px;bottom:195px;letter-spacing:0.11px;}
#t2g_148{left:138px;bottom:181px;letter-spacing:0.11px;}
#t2h_148{left:138px;bottom:166px;letter-spacing:0.11px;}
#t2i_148{left:110px;bottom:137px;letter-spacing:-0.18px;word-spacing:0.97px;}
#t2j_148{left:446px;bottom:138px;letter-spacing:0.01px;}
#t2k_148{left:500px;bottom:137px;letter-spacing:-0.2px;word-spacing:0.97px;}
#t2l_148{left:110px;bottom:119px;letter-spacing:0.01px;}
#t2m_148{left:194px;bottom:118px;}
#t2n_148{left:110px;bottom:60px;letter-spacing:-0.1px;}
#t2o_148{left:136px;bottom:60px;}
#t2p_148{left:148px;bottom:60px;letter-spacing:-0.08px;}
#t2q_148{left:201px;bottom:60px;letter-spacing:-0.09px;}

.s1_148{font-size:16px;font-family:CNCSGY-2bBirka_1c;color:#000;}
.s2_148{font-size:14px;font-family:CNCSGY-2bTheSansMonoCd-W5Reg_dv;color:#000;}
.s3_148{font-size:12px;font-family:CNCSGY-2bTheSansMonoCd-W5Reg_dv;color:#000;}
.s4_148{font-size:14px;font-family:CNCSGY-2bMyriadPro-SemiboldCo_q;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts148" type="text/css" >

@font-face {
	font-family: CNCSGY-2bBirka_1c;
	src: url("fonts/CNCSGY-2bBirka_1c.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bMyriadPro-SemiboldCo_q;
	src: url("fonts/CNCSGY-2bMyriadPro-SemiboldCo_q.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bTheSansMonoCd-W5Reg_dv;
	src: url("fonts/CNCSGY-2bTheSansMonoCd-W5Reg_dv.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg148Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg148" style="-webkit-user-select: none;"><object width="770" height="1010" data="148/148.svg" type="image/svg+xml" id="pdf148" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_148" class="t s1_148">The third is </span><span id="t2_148" class="t s2_148">getRunMethod </span><span id="t3_148" class="t s1_148">of type </span><span id="t4_148" class="t s2_148">Function&lt;String, Method, Exception&gt;</span><span id="t5_148" class="t s1_148">. It accepts a </span>
<span id="t6_148" class="t s1_148">string and returns a method, namely the method named </span><span id="t7_148" class="t s2_148">run </span><span id="t8_148" class="t s1_148">in the class named by the </span>
<span id="t9_148" class="t s1_148">given string. The body of the method might raise either a </span><span id="ta_148" class="t s2_148">ClassNotFoundException </span><span id="tb_148" class="t s1_148">or a </span>
<span id="tc_148" class="t s2_148">NoSuchMethodException</span><span id="td_148" class="t s1_148">, so the third type parameter is taken to be </span><span id="te_148" class="t s2_148">Exception</span><span id="tf_148" class="t s1_148">, the small- </span>
<span id="tg_148" class="t s1_148">est class that contains both of these exceptions. </span>
<span id="th_148" class="t s1_148">This last example shows the chief limitation of giving generic types to exceptions. Often </span>
<span id="ti_148" class="t s1_148">there is no suitable class or interface that contains all exceptions the function may raise, </span>
<span id="tj_148" class="t s1_148">and so you are forced to fall back on using </span><span id="tk_148" class="t s2_148">Exception</span><span id="tl_148" class="t s1_148">, which is too general to provide </span>
<span id="tm_148" class="t s1_148">useful information. </span>
<span id="tn_148" class="t s1_148">The </span><span id="to_148" class="t s2_148">main </span><span id="tp_148" class="t s1_148">method uses </span><span id="tq_148" class="t s2_148">applyAll </span><span id="tr_148" class="t s1_148">to apply each of the three functions to a list of strings. </span>
<span id="ts_148" class="t s1_148">Each of the three invocations is wrapped in a </span><span id="tt_148" class="t s2_148">try </span><span id="tu_148" class="t s1_148">statement appropriate to the excep- </span>
<span id="tv_148" class="t s1_148">tions it may throw. The </span><span id="tw_148" class="t s2_148">length </span><span id="tx_148" class="t s1_148">function has no </span><span id="ty_148" class="t s2_148">try </span><span id="tz_148" class="t s1_148">statement, because it throws no </span>
<span id="t10_148" class="t s1_148">checked exceptions. The </span><span id="t11_148" class="t s2_148">forName </span><span id="t12_148" class="t s1_148">function has a </span><span id="t13_148" class="t s2_148">try </span><span id="t14_148" class="t s1_148">statement with a </span><span id="t15_148" class="t s2_148">catch </span><span id="t16_148" class="t s1_148">clause for </span>
<span id="t17_148" class="t s2_148">ClassNotFoundException</span><span id="t18_148" class="t s1_148">, the one kind of exception it may throw. The </span><span id="t19_148" class="t s2_148">getRunMethod </span>
<span id="t1a_148" class="t s1_148">function requires a </span><span id="t1b_148" class="t s2_148">try </span><span id="t1c_148" class="t s1_148">statement with </span><span id="t1d_148" class="t s2_148">catch </span><span id="t1e_148" class="t s1_148">clauses for </span><span id="t1f_148" class="t s2_148">ClassNotFoundException </span><span id="t1g_148" class="t s1_148">and </span>
<span id="t1h_148" class="t s2_148">NoSuchMethodException</span><span id="t1i_148" class="t s1_148">, the two kinds of exception it may throw. But the function is </span>
<span id="t1j_148" class="t s1_148">declared to throw type </span><span id="t1k_148" class="t s2_148">Exception</span><span id="t1l_148" class="t s1_148">, so we need two additional “catchall” clauses, one to </span>
<span id="t1m_148" class="t s1_148">rethrow any run-time exception that is raised, and one to assert that it is an error if any </span>
<span id="t1n_148" class="t s1_148">exception is raised that is not handled by the previous three clauses. For this particular </span>
<span id="t1o_148" class="t s1_148">example, re-raising runtime exceptions is not required, but it is good practice if there </span>
<span id="t1p_148" class="t s1_148">may be other code that handles such exceptions. </span>
<span id="t1q_148" class="t s1_148">For example, here is a typical run of the code, printing the list of lengths, the list of </span>
<span id="t1r_148" class="t s1_148">classes, and the list of methods (the last list has been reformatted for readability, since </span>
<span id="t1s_148" class="t s1_148">it doesn’t fit on one line): </span>
<span id="t1t_148" class="t s3_148">% java Functions java.lang.Thread java.lang.Runnable </span>
<span id="t1u_148" class="t s3_148">[16, 18] </span>
<span id="t1v_148" class="t s3_148">[class java.lang.Thread, interface java.lang.Runnable] </span>
<span id="t1w_148" class="t s3_148">[public void java.lang.Thread.run(), </span>
<span id="t1x_148" class="t s3_148">public abstract void java.lang.Runnable.run()] </span>
<span id="t1y_148" class="t s1_148">And here is a run that raises </span><span id="t1z_148" class="t s2_148">NoSuchMethodException</span><span id="t20_148" class="t s1_148">, since </span><span id="t21_148" class="t s2_148">java.util.List </span><span id="t22_148" class="t s1_148">has no </span><span id="t23_148" class="t s2_148">run </span>
<span id="t24_148" class="t s1_148">method: </span>
<span id="t25_148" class="t s3_148">% java Functions java.lang.Thread java.util.List </span>
<span id="t26_148" class="t s3_148">[16, 14] </span>
<span id="t27_148" class="t s3_148">[class java.lang.Thread, interface java.util.List] </span>
<span id="t28_148" class="t s3_148">java.lang.NoSuchMethodException: java.util.List.run() </span>
<span id="t29_148" class="t s1_148">And here is a run that raises </span><span id="t2a_148" class="t s2_148">ClassNotFoundException</span><span id="t2b_148" class="t s1_148">, since there is no class named </span><span id="t2c_148" class="t s2_148">Fred</span><span id="t2d_148" class="t s1_148">: </span>
<span id="t2e_148" class="t s3_148">% java Functions java.lang.Thread Fred </span>
<span id="t2f_148" class="t s3_148">[16, 4] </span>
<span id="t2g_148" class="t s3_148">java.lang.ClassNotFoundException: Fred </span>
<span id="t2h_148" class="t s3_148">java.lang.ClassNotFoundException: Fred </span>
<span id="t2i_148" class="t s1_148">The exception is raised twice, once when applying </span><span id="t2j_148" class="t s2_148">forName </span><span id="t2k_148" class="t s1_148">and once when applying </span>
<span id="t2l_148" class="t s2_148">getRunMethod</span><span id="t2m_148" class="t s1_148">. </span>
<span id="t2n_148" class="t s4_148">130 </span><span id="t2o_148" class="t s4_148">| </span><span id="t2p_148" class="t s4_148">Chapter 9: </span><span id="t2q_148" class="t s4_148">Design Patterns </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
