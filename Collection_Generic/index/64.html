<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p64" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_64{left:110px;bottom:906px;letter-spacing:-0.17px;word-spacing:0.28px;}
#t2_64{left:544px;bottom:907px;letter-spacing:0.01px;}
#t3_64{left:604px;bottom:906px;letter-spacing:-0.17px;}
#t4_64{left:110px;bottom:887px;letter-spacing:-0.15px;}
#t5_64{left:147px;bottom:888px;letter-spacing:0.01px;}
#t6_64{left:178px;bottom:887px;letter-spacing:-0.17px;}
#t7_64{left:485px;bottom:888px;letter-spacing:0.01px;}
#t8_64{left:559px;bottom:887px;letter-spacing:-0.17px;}
#t9_64{left:110px;bottom:869px;letter-spacing:0.01px;}
#ta_64{left:157px;bottom:869px;letter-spacing:-0.17px;word-spacing:0.81px;}
#tb_64{left:498px;bottom:869px;letter-spacing:0.01px;}
#tc_64{left:566px;bottom:869px;letter-spacing:-0.17px;word-spacing:0.81px;}
#td_64{left:110px;bottom:851px;letter-spacing:0.01px;}
#te_64{left:150px;bottom:850px;letter-spacing:-0.17px;word-spacing:1.51px;}
#tf_64{left:110px;bottom:831px;letter-spacing:-0.17px;}
#tg_64{left:110px;bottom:805px;letter-spacing:-0.17px;word-spacing:-0.09px;}
#th_64{left:439px;bottom:806px;letter-spacing:0.01px;}
#ti_64{left:471px;bottom:805px;letter-spacing:-0.18px;word-spacing:-0.09px;}
#tj_64{left:110px;bottom:786px;letter-spacing:-0.18px;word-spacing:1.5px;}
#tk_64{left:258px;bottom:787px;letter-spacing:0.01px;}
#tl_64{left:319px;bottom:786px;letter-spacing:-0.16px;}
#tm_64{left:349px;bottom:787px;letter-spacing:0.01px;}
#tn_64{left:417px;bottom:786px;letter-spacing:-0.19px;word-spacing:1.5px;}
#to_64{left:110px;bottom:768px;letter-spacing:0.01px;}
#tp_64{left:184px;bottom:767px;letter-spacing:-0.16px;}
#tq_64{left:212px;bottom:768px;letter-spacing:0.01px;}
#tr_64{left:275px;bottom:767px;}
#ts_64{left:137px;bottom:746px;letter-spacing:0.11px;}
#tt_64{left:229px;bottom:746px;letter-spacing:0.11px;}
#tu_64{left:229px;bottom:731px;letter-spacing:0.11px;}
#tv_64{left:425px;bottom:731px;}
#tw_64{left:156px;bottom:717px;letter-spacing:0.11px;}
#tx_64{left:156px;bottom:702px;letter-spacing:0.11px;}
#ty_64{left:137px;bottom:687px;}
#tz_64{left:156px;bottom:673px;letter-spacing:0.11px;}
#t10_64{left:174px;bottom:658px;letter-spacing:0.11px;}
#t11_64{left:174px;bottom:644px;letter-spacing:0.1px;}
#t12_64{left:223px;bottom:644px;letter-spacing:0.11px;}
#t13_64{left:174px;bottom:629px;letter-spacing:0.11px;}
#t14_64{left:186px;bottom:614px;letter-spacing:0.11px;}
#t15_64{left:186px;bottom:600px;letter-spacing:0.11px;}
#t16_64{left:186px;bottom:585px;letter-spacing:0.11px;}
#t17_64{left:186px;bottom:570px;letter-spacing:0.11px;}
#t18_64{left:174px;bottom:556px;}
#t19_64{left:156px;bottom:541px;letter-spacing:0.11px;}
#t1a_64{left:168px;bottom:526px;letter-spacing:0.11px;}
#t1b_64{left:168px;bottom:512px;letter-spacing:0.11px;}
#t1c_64{left:156px;bottom:497px;}
#t1d_64{left:144px;bottom:482px;}
#t1e_64{left:110px;bottom:453px;letter-spacing:-0.17px;word-spacing:-1.28px;}
#t1f_64{left:110px;bottom:435px;letter-spacing:-0.17px;word-spacing:-0.19px;}
#t1g_64{left:110px;bottom:416px;letter-spacing:-0.16px;word-spacing:-0.47px;}
#t1h_64{left:110px;bottom:397px;letter-spacing:-0.16px;word-spacing:-0.39px;}
#t1i_64{left:490px;bottom:398px;}
#t1j_64{left:500px;bottom:397px;letter-spacing:-0.17px;word-spacing:-0.39px;}
#t1k_64{left:110px;bottom:379px;letter-spacing:-0.18px;}
#t1l_64{left:224px;bottom:379px;letter-spacing:0.01px;}
#t1m_64{left:284px;bottom:379px;letter-spacing:-0.16px;}
#t1n_64{left:312px;bottom:379px;letter-spacing:0.01px;}
#t1o_64{left:375px;bottom:379px;letter-spacing:-0.15px;}
#t1p_64{left:442px;bottom:379px;}
#t1q_64{left:453px;bottom:379px;letter-spacing:-0.17px;word-spacing:0.16px;}
#t1r_64{left:110px;bottom:360px;letter-spacing:-0.18px;}
#t1s_64{left:154px;bottom:361px;letter-spacing:0.01px;}
#t1t_64{left:230px;bottom:360px;letter-spacing:-0.16px;}
#t1u_64{left:259px;bottom:361px;letter-spacing:0.01px;}
#t1v_64{left:322px;bottom:360px;letter-spacing:-0.18px;word-spacing:1.26px;}
#t1w_64{left:110px;bottom:341px;letter-spacing:-0.18px;word-spacing:-0.5px;}
#t1x_64{left:110px;bottom:322px;letter-spacing:-0.17px;}
#t1y_64{left:110px;bottom:296px;letter-spacing:-0.17px;word-spacing:-0.62px;}
#t1z_64{left:110px;bottom:277px;letter-spacing:-0.17px;}
#t20_64{left:137px;bottom:256px;letter-spacing:0.11px;}
#t21_64{left:137px;bottom:241px;letter-spacing:0.11px;}
#t22_64{left:137px;bottom:227px;letter-spacing:0.11px;}
#t23_64{left:137px;bottom:212px;letter-spacing:0.11px;}
#t24_64{left:137px;bottom:197px;letter-spacing:0.11px;}
#t25_64{left:137px;bottom:183px;letter-spacing:0.11px;}
#t26_64{left:137px;bottom:168px;letter-spacing:0.11px;}
#t27_64{left:110px;bottom:60px;letter-spacing:-0.1px;}
#t28_64{left:130px;bottom:60px;}
#t29_64{left:142px;bottom:60px;letter-spacing:-0.08px;}
#t2a_64{left:196px;bottom:60px;letter-spacing:-0.09px;}

.s1_64{font-size:16px;font-family:CNCSGY-2bBirka_1c;color:#000;}
.s2_64{font-size:14px;font-family:CNCSGY-2bTheSansMonoCd-W5Reg_dv;color:#000;}
.s3_64{font-size:12px;font-family:CNCSGY-2bTheSansMonoCd-W5Reg_dv;color:#000;}
.s4_64{font-size:12px;font-family:CNCSGY-2bTheSansMonoCd-W7Bol_e9;color:#000;}
.s5_64{font-size:14px;font-family:CNCSGY-2bMyriadPro-SemiboldCo_q;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts64" type="text/css" >

@font-face {
	font-family: CNCSGY-2bBirka_1c;
	src: url("fonts/CNCSGY-2bBirka_1c.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bMyriadPro-SemiboldCo_q;
	src: url("fonts/CNCSGY-2bMyriadPro-SemiboldCo_q.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bTheSansMonoCd-W5Reg_dv;
	src: url("fonts/CNCSGY-2bTheSansMonoCd-W5Reg_dv.woff") format("woff");
}

@font-face {
	font-family: CNCSGY-2bTheSansMonoCd-W7Bol_e9;
	src: url("fonts/CNCSGY-2bTheSansMonoCd-W7Bol_e9.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg64Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg64" style="-webkit-user-select: none;"><object width="770" height="1010" data="64/64.svg" type="image/svg+xml" id="pdf64" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_64" class="t s1_64">To demonstrate, we use three interfaces from the Java library. The </span><span id="t2_64" class="t s2_64">Readable </span><span id="t3_64" class="t s1_64">interface </span>
<span id="t4_64" class="t s1_64">has a </span><span id="t5_64" class="t s2_64">read </span><span id="t6_64" class="t s1_64">method to read into a buffer from a source, the </span><span id="t7_64" class="t s2_64">Appendable </span><span id="t8_64" class="t s1_64">interface has an </span>
<span id="t9_64" class="t s2_64">append </span><span id="ta_64" class="t s1_64">method to copy from a buffer into a target, and the </span><span id="tb_64" class="t s2_64">Closeable </span><span id="tc_64" class="t s1_64">interface has a </span>
<span id="td_64" class="t s2_64">close </span><span id="te_64" class="t s1_64">method to close a source or target. Possible sources and targets include files, </span>
<span id="tf_64" class="t s1_64">buffers, streams, and so on. </span>
<span id="tg_64" class="t s1_64">For maximum flexibility, we might want to write a </span><span id="th_64" class="t s2_64">copy </span><span id="ti_64" class="t s1_64">method that takes any source </span>
<span id="tj_64" class="t s1_64">that implements both </span><span id="tk_64" class="t s2_64">Readable </span><span id="tl_64" class="t s1_64">and </span><span id="tm_64" class="t s2_64">Closeable </span><span id="tn_64" class="t s1_64">and any target that implements both </span>
<span id="to_64" class="t s2_64">Appendable </span><span id="tp_64" class="t s1_64">and </span><span id="tq_64" class="t s2_64">Closeable</span><span id="tr_64" class="t s1_64">: </span>
<span id="ts_64" class="t s3_64">public static &lt;</span><span id="tt_64" class="t s4_64">S extends Readable &amp; Closeable, </span>
<span id="tu_64" class="t s4_64">T extends Appendable &amp; Closeable</span><span id="tv_64" class="t s3_64">&gt; </span>
<span id="tw_64" class="t s3_64">void copy(S src, T trg, int size) </span>
<span id="tx_64" class="t s3_64">throws IOException </span>
<span id="ty_64" class="t s3_64">{ </span>
<span id="tz_64" class="t s3_64">try { </span>
<span id="t10_64" class="t s3_64">CharBuffer buf = CharBuffer.allocate(size); </span>
<span id="t11_64" class="t s3_64">int i = </span><span id="t12_64" class="t s4_64">src.read(buf); </span>
<span id="t13_64" class="t s3_64">while (i &gt;= 0) { </span>
<span id="t14_64" class="t s3_64">buf.flip(); // prepare buffer for writing </span>
<span id="t15_64" class="t s4_64">trg.append(buf); </span>
<span id="t16_64" class="t s3_64">buf.clear(); // prepare buffer for reading </span>
<span id="t17_64" class="t s3_64">i = src.read(buf); </span>
<span id="t18_64" class="t s3_64">} </span>
<span id="t19_64" class="t s3_64">} finally { </span>
<span id="t1a_64" class="t s4_64">src.close(); </span>
<span id="t1b_64" class="t s4_64">trg.close(); </span>
<span id="t1c_64" class="t s3_64">} </span>
<span id="t1d_64" class="t s3_64">} </span>
<span id="t1e_64" class="t s1_64">This method repeatedly reads from the source into a buffer and appends from the buffer </span>
<span id="t1f_64" class="t s1_64">into a target. When the source is empty, it closes both the source and the target. (This </span>
<span id="t1g_64" class="t s1_64">example deviates from best practice in that the files are closed in a different block than </span>
<span id="t1h_64" class="t s1_64">the one where they are opened.) The first line specifies that </span><span id="t1i_64" class="t s2_64">S </span><span id="t1j_64" class="t s1_64">ranges over any type that </span>
<span id="t1k_64" class="t s1_64">implements both </span><span id="t1l_64" class="t s2_64">Readable </span><span id="t1m_64" class="t s1_64">and </span><span id="t1n_64" class="t s2_64">Closeable</span><span id="t1o_64" class="t s1_64">, and that </span><span id="t1p_64" class="t s2_64">T </span><span id="t1q_64" class="t s1_64">ranges over any type that imple- </span>
<span id="t1r_64" class="t s1_64">ments </span><span id="t1s_64" class="t s2_64">Appendable </span><span id="t1t_64" class="t s1_64">and </span><span id="t1u_64" class="t s2_64">Closeable</span><span id="t1v_64" class="t s1_64">. When multiple bounds on a type variable appear, </span>
<span id="t1w_64" class="t s1_64">they are separated by ampersands. You cannot use a comma, since that is already used </span>
<span id="t1x_64" class="t s1_64">to separate declarations of type variables. </span>
<span id="t1y_64" class="t s1_64">For example, this method may be called with two files as source and target, or with the </span>
<span id="t1z_64" class="t s1_64">same two files wrapped in buffers as source and target: </span>
<span id="t20_64" class="t s3_64">int size = 32; </span>
<span id="t21_64" class="t s3_64">FileReader r = new FileReader("file.in"); </span>
<span id="t22_64" class="t s3_64">FileWriter w = new FileWriter("file.out"); </span>
<span id="t23_64" class="t s3_64">copy(r,w,size); </span>
<span id="t24_64" class="t s3_64">BufferedReader br = new BufferedReader(new FileReader("file.in")); </span>
<span id="t25_64" class="t s3_64">BufferedWriter bw = new BufferedWriter(new FileWriter("file.out")); </span>
<span id="t26_64" class="t s3_64">copy(br,bw,size); </span>
<span id="t27_64" class="t s5_64">46 </span><span id="t28_64" class="t s5_64">| </span><span id="t29_64" class="t s5_64">Chapter 3: </span><span id="t2a_64" class="t s5_64">Comparison and Bounds </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
