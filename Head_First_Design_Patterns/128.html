<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p128" style="overflow: hidden; position: relative; background-color: white; width: 907px; height: 1045px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_128{left:92px;bottom:55px;letter-spacing:0.17px;}
#t2_128{left:147px;bottom:55px;letter-spacing:-0.13px;}
#t3_128{left:226.5px;bottom:704.5px;letter-spacing:0.12px;word-spacing:-0.03px;}
#t4_128{left:226.4px;bottom:689.2px;letter-spacing:0.1px;word-spacing:0.03px;}
#t5_128{left:425.2px;bottom:512.4px;}
#t6_128{left:460.9px;bottom:509.3px;}
#t7_128{left:480.6px;bottom:510.1px;}
#t8_128{left:491.8px;bottom:511.1px;}
#t9_128{left:510.6px;bottom:554px;}
#ta_128{left:526.4px;bottom:551.5px;}
#tb_128{left:535.9px;bottom:550.5px;}
#tc_128{left:545.3px;bottom:549.9px;}
#td_128{left:555.9px;bottom:549.7px;}
#te_128{left:552.8px;bottom:586.9px;}
#tf_128{left:562.8px;bottom:584.2px;}
#tg_128{left:570.1px;bottom:582.9px;}
#th_128{left:577.1px;bottom:582.4px;}
#ti_128{left:585.4px;bottom:582.4px;}
#tj_128{left:594.9px;bottom:584.4px;}
#tk_128{left:602.2px;bottom:587.5px;}
#tl_128{left:608.8px;bottom:591.5px;}
#tm_128{left:613.7px;bottom:595.5px;}
#tn_128{left:159px;bottom:857px;letter-spacing:-0.33px;word-spacing:0.06px;}
#to_128{left:636px;bottom:857px;letter-spacing:-0.33px;word-spacing:0.06px;}
#tp_128{left:159px;bottom:837px;letter-spacing:-0.26px;word-spacing:-0.01px;}
#tq_128{left:159px;bottom:817px;letter-spacing:-0.27px;}
#tr_128{left:159px;bottom:797px;letter-spacing:-0.24px;word-spacing:-0.03px;}
#ts_128{left:435px;bottom:747.4px;letter-spacing:0.13px;word-spacing:-0.01px;}
#tt_128{left:504.7px;bottom:466.2px;letter-spacing:0.12px;}
#tu_128{left:504.7px;bottom:450.9px;letter-spacing:0.13px;word-spacing:-0.02px;}
#tv_128{left:505.8px;bottom:435.6px;letter-spacing:0.17px;word-spacing:-0.05px;}
#tw_128{left:506.2px;bottom:420.3px;letter-spacing:0.12px;}
#tx_128{left:135px;bottom:857px;}
#ty_128{left:524px;bottom:592px;letter-spacing:-0.42px;}
#tz_128{left:431px;bottom:591px;letter-spacing:-0.42px;}
#t10_128{left:332px;bottom:589px;letter-spacing:-0.42px;}
#t11_128{left:256px;bottom:590px;letter-spacing:-0.42px;}
#t12_128{left:234px;bottom:489.7px;letter-spacing:0.14px;word-spacing:-0.02px;}
#t13_128{left:233.4px;bottom:474.5px;letter-spacing:0.13px;word-spacing:-0.01px;}
#t14_128{left:233.2px;bottom:459.2px;letter-spacing:0.16px;word-spacing:-0.04px;}
#t15_128{left:210.5px;bottom:702.9px;}
#t16_128{left:417.9px;bottom:747.6px;}
#t17_128{left:483.8px;bottom:462.6px;}
#t18_128{left:213.8px;bottom:487.3px;}
#t19_128{left:129.3px;bottom:364.1px;letter-spacing:0.47px;word-spacing:-0.32px;}
#t1a_128{left:146px;bottom:330px;}
#t1b_128{left:171px;bottom:331px;letter-spacing:0.1px;}
#t1c_128{left:146px;bottom:303px;}
#t1d_128{left:171px;bottom:305px;letter-spacing:0.08px;word-spacing:0.03px;}
#t1e_128{left:146px;bottom:277px;}
#t1f_128{left:171px;bottom:278px;letter-spacing:0.1px;}
#t1g_128{left:171px;bottom:260px;letter-spacing:0.1px;}
#t1h_128{left:146px;bottom:232px;}
#t1i_128{left:171px;bottom:233px;letter-spacing:0.1px;}
#t1j_128{left:171px;bottom:215px;letter-spacing:0.1px;}
#t1k_128{left:146px;bottom:187px;}
#t1l_128{left:171px;bottom:188px;letter-spacing:0.1px;}
#t1m_128{left:171px;bottom:170px;letter-spacing:0.1px;}
#t1n_128{left:129.4px;bottom:110.8px;letter-spacing:0.78px;word-spacing:-0.63px;}
#t1o_128{left:129.2px;bottom:85.1px;letter-spacing:0.94px;word-spacing:-0.78px;}
#t1p_128{left:608.9px;bottom:702px;}
#t1q_128{left:632px;bottom:710px;letter-spacing:0.11px;word-spacing:0.01px;}
#t1r_128{left:632px;bottom:694px;letter-spacing:0.14px;}
#t1s_128{left:675.6px;bottom:546.6px;letter-spacing:0.14px;}
#t1t_128{left:676px;bottom:531.3px;letter-spacing:0.17px;word-spacing:-0.06px;}
#t1u_128{left:676.7px;bottom:516px;letter-spacing:0.12px;}
#t1v_128{left:653.4px;bottom:543px;}
#t1w_128{left:688.2px;bottom:772.7px;letter-spacing:-0.04px;}
#t1x_128{left:690.9px;bottom:754.5px;letter-spacing:0.06px;word-spacing:-0.1px;}
#t1y_128{left:683px;bottom:236.2px;letter-spacing:0.1px;word-spacing:-0.15px;}
#t1z_128{left:91px;bottom:971px;letter-spacing:-0.12px;}
#t20_128{left:158px;bottom:971px;letter-spacing:-0.12px;}
#t21_128{left:372px;bottom:603px;letter-spacing:-0.43px;}
#t22_128{left:556px;bottom:607px;letter-spacing:-0.43px;}
#t23_128{left:468px;bottom:606px;letter-spacing:-0.43px;}

.s1_128{font-size:15px;font-family:ArialRoundedMTBold_7g;color:#000;}
.s2_128{font-size:14px;font-family:Arial-BoldItalic_10g;color:#939393;}
.s3_128{font-size:12px;font-family:ArialBlack_r;color:#000;}
.s4_128{font-size:33px;font-family:ComicSansMS_2r;color:#000;}
.s5_128{font-size:18px;font-family:ComicSansMS_2r;color:#000;}
.s6_128{font-size:13px;font-family:ComicSansMS_2r;color:#000;}
.s7_128{font-size:17px;font-family:ArialBlack_r;color:#000;}
.s8_128{font-size:14px;font-family:ITCAmericanTypewriter-Bold_wy;color:#FFF;}
.s9_128{font-size:14px;font-family:CourierNew-Bold_10-;color:#000;}
.sa_128{font-size:12px;font-family:ITCAmericanTypewriter-Bold_wy;color:#FFF;}
.sb_128{font-size:21px;font-family:MarkerFelt-Thin_68;color:#000;}
.sc_128{font-size:18px;font-family:Wingdings_20x;color:#000;}
.sd_128{font-size:15px;font-family:ArialNarrow_86;color:#000;}
.se_128{font-size:20px;font-family:SkippySharp_6e;color:#606060;}
.sf_128{font-size:14px;font-family:Arial-BoldItalic_10g;color:#000;}
.sg_128{font-size:13px;font-family:CourierNew-Bold_10-;color:#000;}
.t.m0_128{transform:matrix(0.999,-0.04,0.04,1,0,0);}
.t.m1_128{transform:matrix(0.994,0.1,-0.1,0.99,0,0);}
.t.m2_128{transform:matrix(0.999,-0.03,0.03,1,0,0);}
.t.m3_128{transform:matrix(0.995,-0.09,0.09,1,0,0);}
.t.m4_128{transform:matrix(0.973,-0.23,0.23,0.97,0,0);}
.t.m5_128{transform:matrix(0.987,0.16,-0.16,0.99,0,0);}
.t.m6_128{transform:matrix(0.994,0.11,-0.11,0.99,0,0);}
.t.m7_128{transform:matrix(0.997,0.06,-0.06,1,0,0);}
.t.m8_128{transform:matrix(0.999,0.02,-0.02,1,0,0);}
.t.m9_128{transform:matrix(0.959,0.28,-0.28,0.96,0,0);}
.t.m10_128{transform:matrix(0.984,0.18,-0.18,0.98,0,0);}
.t.m11_128{transform:matrix(0.996,0.09,-0.09,1,0,0);}
.t.m12_128{transform:matrix(0.999,-0.01,0.01,1,0,0);}
.t.m13_128{transform:matrix(0.983,-0.18,0.18,0.98,0,0);}
.t.m14_128{transform:matrix(0.921,-0.39,0.39,0.92,0,0);}
.t.m15_128{transform:matrix(0.859,-0.51,0.51,0.86,0,0);}
.t.m16_128{transform:matrix(0.786,-0.62,0.62,0.79,0,0);}
.t.m17_128{transform:matrix(0.799,-0.6,0.6,0.8,0,0);}
.t.m18_128{transform:matrix(0.998,-0.05,0.05,1,0,0);}
.t.m19_128{transform:matrix(0.98,-0.2,0.2,0.98,0,0);}
.t.m20_128{transform:matrix(0.975,-0.22,0.22,0.98,0,0);}
.t.m21_128{transform:matrix(0.997,-0.08,0.08,1,0,0);}
.t.m22_128{transform:scale(1);}
.t.m23_128{transform:matrix(0.994,-0.11,0.11,0.99,0,0);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts128" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_10g;
	src: url("fonts/Arial-BoldItalic_10g.woff") format("woff");
}

@font-face {
	font-family: ArialBlack_r;
	src: url("fonts/ArialBlack_r.woff") format("woff");
}

@font-face {
	font-family: ArialNarrow_86;
	src: url("fonts/ArialNarrow_86.woff") format("woff");
}

@font-face {
	font-family: ArialRoundedMTBold_7g;
	src: url("fonts/ArialRoundedMTBold_7g.woff") format("woff");
}

@font-face {
	font-family: ComicSansMS_2r;
	src: url("fonts/ComicSansMS_2r.woff") format("woff");
}

@font-face {
	font-family: CourierNew-Bold_10-;
	src: url("fonts/CourierNew-Bold_10-.woff") format("woff");
}

@font-face {
	font-family: ITCAmericanTypewriter-Bold_wy;
	src: url("fonts/ITCAmericanTypewriter-Bold_wy.woff") format("woff");
}

@font-face {
	font-family: MarkerFelt-Thin_68;
	src: url("fonts/MarkerFelt-Thin_68.woff") format("woff");
}

@font-face {
	font-family: SkippySharp_6e;
	src: url("fonts/SkippySharp_6e.woff") format("woff");
}

@font-face {
	font-family: Wingdings_20x;
	src: url("fonts/Wingdings_20x.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg128Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg128" style="-webkit-user-select: none;"><object width="907" height="1045" data="128/128.svg" type="image/svg+xml" id="pdf128" style="width:907px; height:1045px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_128" class="t s1_128">90 </span><span id="t2_128" class="t s2_128">Chapter 3 </span>
<span id="t3_128" class="t m0_128 s3_128">First, we call cost() on the </span>
<span id="t4_128" class="t m0_128 s3_128">outmost decorator, Whip. </span>
<span id="t5_128" class="t m1_128 s4_128">W </span>
<span id="t6_128" class="t m2_128 s4_128">h </span>
<span id="t7_128" class="t m3_128 s4_128">i </span>
<span id="t8_128" class="t m4_128 s4_128">p </span>
<span id="t9_128" class="t m5_128 s5_128">M </span>
<span id="ta_128" class="t m6_128 s5_128">o </span>
<span id="tb_128" class="t m7_128 s5_128">c </span>
<span id="tc_128" class="t m8_128 s5_128">h </span>
<span id="td_128" class="t m0_128 s5_128">a </span>
<span id="te_128" class="t m9_128 s6_128">D </span>
<span id="tf_128" class="t m10_128 s6_128">a </span>
<span id="tg_128" class="t m11_128 s6_128">r </span>
<span id="th_128" class="t m12_128 s6_128">k </span>
<span id="ti_128" class="t m13_128 s6_128">R </span>
<span id="tj_128" class="t m14_128 s6_128">o </span>
<span id="tk_128" class="t m15_128 s6_128">a </span>
<span id="tl_128" class="t m16_128 s6_128">s </span>
<span id="tm_128" class="t m17_128 s6_128">t </span>
<span id="tn_128" class="t s7_128">Now it’s time to compute the cost for the customer. </span><span id="to_128" class="t s7_128">We do this </span>
<span id="tp_128" class="t s7_128">by calling cost() on the outermost decorator, Whip, and Whip is </span>
<span id="tq_128" class="t s7_128">going to delegate computing the cost to the objects it decorates. </span>
<span id="tr_128" class="t s7_128">Once it gets a cost, it will add on the cost of the Whip. </span>
<span id="ts_128" class="t m18_128 s3_128">Whip calls cost() on Mocha. </span>
<span id="tt_128" class="t m0_128 s3_128">Mocha adds its cost, 20 </span>
<span id="tu_128" class="t m0_128 s3_128">cents, to the result from </span>
<span id="tv_128" class="t m0_128 s3_128">DarkRoast, and returns </span>
<span id="tw_128" class="t m0_128 s3_128">the new total, $1.19. </span>
<span id="tx_128" class="t s8_128">4 </span>
<span id="ty_128" class="t s9_128">.99 </span><span id="tz_128" class="t s9_128">.20 </span>
<span id="t10_128" class="t s9_128">.10 </span><span id="t11_128" class="t s9_128">$1.29 </span>
<span id="t12_128" class="t m8_128 s3_128">Whip adds its total, 10 cents, </span>
<span id="t13_128" class="t m8_128 s3_128">to the result from Mocha, and </span>
<span id="t14_128" class="t m8_128 s3_128">returns the ﬁnal result—$1.29. </span>
<span id="t15_128" class="t m19_128 sa_128">1 </span>
<span id="t16_128" class="t m20_128 sa_128">2 </span>
<span id="t17_128" class="t m21_128 sa_128">5 </span>
<span id="t18_128" class="t m21_128 sa_128">5 </span>
<span id="t19_128" class="t m22_128 sb_128">Okay, here’s what we know so far... </span>
<span id="t1a_128" class="t sc_128">ß </span><span id="t1b_128" class="t sd_128">Decorators have the same supertype as the objects they decorate. </span>
<span id="t1c_128" class="t sc_128">ß </span><span id="t1d_128" class="t sd_128">You can use one or more decorators to wrap an object. </span>
<span id="t1e_128" class="t sc_128">ß </span><span id="t1f_128" class="t sd_128">Given that the decorator has the same supertype as the object it decorates, we can pass </span>
<span id="t1g_128" class="t sd_128">around a decorated object in place of the original (wrapped) object. </span>
<span id="t1h_128" class="t sc_128">ß </span><span id="t1i_128" class="t sd_128">The decorator adds its own behavior either before and/or after delegating to the object it </span>
<span id="t1j_128" class="t sd_128">decorates to do the rest of the job. </span>
<span id="t1k_128" class="t sc_128">ß </span><span id="t1l_128" class="t sd_128">Objects can be decorated at any time, so we can decorate objects dynamically at runtime </span>
<span id="t1m_128" class="t sd_128">with as many decorators as we like. </span>
<span id="t1n_128" class="t m22_128 sb_128">Now let’s see how this all really works by looking at the </span>
<span id="t1o_128" class="t m22_128 sb_128">Decorator Pattern definition and writing some code. </span>
<span id="t1p_128" class="t m21_128 sa_128">3 </span>
<span id="t1q_128" class="t s3_128">Mocha calls cost() on </span>
<span id="t1r_128" class="t s3_128">DarkRoast. </span>
<span id="t1s_128" class="t m0_128 s3_128">DarkRoast </span>
<span id="t1t_128" class="t m0_128 s3_128">returns its cost, </span>
<span id="t1u_128" class="t m0_128 s3_128">99 cents. </span>
<span id="t1v_128" class="t m21_128 sa_128">4 </span>
<span id="t1w_128" class="t m23_128 se_128">(You’ll see how in </span>
<span id="t1x_128" class="t m23_128 se_128">a few pages.) </span>
<span id="t1y_128" class="t m19_128 se_128">Key Point! </span>
<span id="t1z_128" class="t sf_128">decorator </span><span id="t20_128" class="t s2_128">characteristics </span>
<span id="t21_128" class="t sg_128">cost() </span>
<span id="t22_128" class="t sg_128">cost() </span>
<span id="t23_128" class="t sg_128">cost() </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
