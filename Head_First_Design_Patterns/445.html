<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p445" style="overflow: hidden; position: relative; background-color: white; width: 907px; height: 1045px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_445{left:698px;bottom:969px;letter-spacing:0.1px;}
#t2_445{left:725px;bottom:969px;letter-spacing:0.11px;}
#t3_445{left:765px;bottom:969px;letter-spacing:0.13px;}
#t4_445{left:670px;bottom:56px;letter-spacing:-0.11px;}
#t5_445{left:756px;bottom:56px;}
#t6_445{left:790px;bottom:55px;letter-spacing:0.17px;}
#t7_445{left:93px;bottom:859px;letter-spacing:0.05px;word-spacing:0.06px;}
#t8_445{left:525px;bottom:859px;letter-spacing:0.13px;}
#t9_445{left:588px;bottom:859px;letter-spacing:0.07px;word-spacing:0.04px;}
#ta_445{left:93px;bottom:841px;letter-spacing:0.08px;word-spacing:0.03px;}
#tb_445{left:220px;bottom:841px;letter-spacing:0.12px;}
#tc_445{left:284px;bottom:841px;letter-spacing:0.11px;word-spacing:-0.02px;}
#td_445{left:391px;bottom:841px;}
#te_445{left:402px;bottom:841px;letter-spacing:0.08px;word-spacing:0.03px;}
#tf_445{left:93px;bottom:660px;letter-spacing:0.12px;word-spacing:-0.01px;}
#tg_445{left:92px;bottom:905px;letter-spacing:0.31px;word-spacing:-0.5px;}
#th_445{left:573.1px;bottom:570.2px;letter-spacing:0.75px;word-spacing:-0.93px;}
#ti_445{left:120px;bottom:808px;}
#tj_445{left:145px;bottom:809px;letter-spacing:0.12px;word-spacing:-0.02px;}
#tk_445{left:120px;bottom:781px;}
#tl_445{left:145px;bottom:783px;letter-spacing:0.03px;word-spacing:0.08px;}
#tm_445{left:327px;bottom:783px;letter-spacing:-0.29px;}
#tn_445{left:347px;bottom:783px;letter-spacing:0.09px;word-spacing:0.03px;}
#to_445{left:120px;bottom:755px;}
#tp_445{left:145px;bottom:756px;letter-spacing:0.09px;word-spacing:0.03px;}
#tq_445{left:146px;bottom:738px;letter-spacing:0.1px;}
#tr_445{left:120px;bottom:710px;}
#ts_445{left:145px;bottom:711px;letter-spacing:0.1px;word-spacing:0.02px;}
#tt_445{left:146px;bottom:693px;letter-spacing:0.12px;word-spacing:-0.01px;}
#tu_445{left:611.5px;bottom:126.1px;}
#tv_445{left:622px;bottom:121.9px;}
#tw_445{left:630.2px;bottom:119.8px;}
#tx_445{left:635.3px;bottom:118.8px;}
#ty_445{left:645.6px;bottom:118.8px;}
#tz_445{left:658.3px;bottom:121.7px;}
#t10_445{left:665.3px;bottom:124.7px;}
#t11_445{left:603.1px;bottom:480.9px;}
#t12_445{left:614.5px;bottom:475px;}
#t13_445{left:622.7px;bottom:471.8px;}
#t14_445{left:637.2px;bottom:469px;}
#t15_445{left:645.9px;bottom:469.3px;}
#t16_445{left:654.3px;bottom:470.9px;}
#t17_445{left:661.7px;bottom:473.4px;}
#t18_445{left:667.9px;bottom:475.9px;}
#t19_445{left:676.3px;bottom:479px;}
#t1a_445{left:603.1px;bottom:366.4px;}
#t1b_445{left:614px;bottom:360.8px;}
#t1c_445{left:621.7px;bottom:357.8px;}
#t1d_445{left:630.1px;bottom:355px;}
#t1e_445{left:644.6px;bottom:354.7px;}
#t1f_445{left:653.4px;bottom:356px;}
#t1g_445{left:661.3px;bottom:358.6px;}
#t1h_445{left:667.5px;bottom:361.3px;}
#t1i_445{left:674.8px;bottom:363.8px;}
#t1j_445{left:683.9px;bottom:368.4px;}
#t1k_445{left:620.5px;bottom:232.9px;}
#t1l_445{left:631.6px;bottom:229.8px;}
#t1m_445{left:640.7px;bottom:229.1px;}
#t1n_445{left:645.5px;bottom:229.4px;}
#t1o_445{left:272.4px;bottom:352.4px;}
#t1p_445{left:286px;bottom:341px;}
#t1q_445{left:297.3px;bottom:333.2px;}
#t1r_445{left:315.3px;bottom:323.9px;}
#t1s_445{left:329.8px;bottom:318.6px;}
#t1t_445{left:342.9px;bottom:315.4px;}
#t1u_445{left:351px;bottom:314.1px;}
#t1v_445{left:359.5px;bottom:313.5px;}
#t1w_445{left:382.7px;bottom:317.6px;}
#t1x_445{left:394.5px;bottom:322.2px;}
#t1y_445{left:406.3px;bottom:326.5px;}
#t1z_445{left:420.6px;bottom:332.4px;}
#t20_445{left:429.4px;bottom:337.1px;}
#t21_445{left:438.9px;bottom:348.3px;}
#t22_445{left:442px;bottom:402px;letter-spacing:0.1px;}
#t23_445{left:251.1px;bottom:570.1px;letter-spacing:-0.04px;}
#t24_445{left:255.4px;bottom:552.2px;letter-spacing:-0.04px;}
#t25_445{left:265px;bottom:203px;letter-spacing:-0.04px;}
#t26_445{left:267.7px;bottom:184.7px;letter-spacing:-0.04px;}
#t27_445{left:267.5px;bottom:166.4px;letter-spacing:-0.04px;}

.s1_445{font-size:15px;font-family:Arial-BoldItalic_10g;color:#000;}
.s2_445{font-size:15px;font-family:Arial-BoldItalic_10g;color:#525252;}
.s3_445{font-size:14px;font-family:Arial-BoldItalic_10g;color:#939393;}
.s4_445{font-size:14px;font-family:Webdings_10p;color:#939393;}
.s5_445{font-size:15px;font-family:ArialRoundedMTBold_7g;color:#000;}
.s6_445{font-size:15px;font-family:Baskerville_x;color:#000;}
.s7_445{font-size:15px;font-family:Baskerville-Italic_3q;color:#000;}
.s8_445{font-size:28px;font-family:MarkerFelt-Thin_68;color:#000;}
.s9_445{font-size:21px;font-family:MarkerFelt-Thin_68;color:#000;}
.sa_445{font-size:18px;font-family:Wingdings_20x;color:#000;}
.sb_445{font-size:14px;font-family:CourierNew-Bold_10-;color:#000;}
.sc_445{font-size:15px;font-family:ComicSansMS_2r;color:#000;}
.sd_445{font-size:24px;font-family:ComicSansMS_2r;color:#000;}
.se_445{font-size:15px;font-family:ArialNarrow_86;color:#404040;}
.sf_445{font-size:20px;font-family:SkippySharp_6e;color:#606060;}
.t.m0_445{transform:matrix(0.762,-0.05,-0.09,1,0,0);}
.t.m1_445{transform:matrix(0.923,0.38,-0.38,0.92,0,0);}
.t.m2_445{transform:matrix(0.966,0.26,-0.26,0.97,0,0);}
.t.m3_445{transform:matrix(0.986,0.16,-0.16,0.99,0,0);}
.t.m4_445{transform:matrix(0.999,0.01,-0.01,1,0,0);}
.t.m5_445{transform:matrix(0.977,-0.21,0.21,0.98,0,0);}
.t.m6_445{transform:matrix(0.929,-0.37,0.37,0.93,0,0);}
.t.m7_445{transform:matrix(0.938,-0.34,0.34,0.94,0,0);}
.t.m8_445{transform:matrix(0.884,0.47,-0.47,0.88,0,0);}
.t.m9_445{transform:matrix(0.936,0.35,-0.35,0.94,0,0);}
.t.m10_445{transform:matrix(0.975,0.22,-0.22,0.98,0,0);}
.t.m11_445{transform:matrix(0.999,-0.03,0.03,1,0,0);}
.t.m12_445{transform:matrix(0.983,-0.18,0.18,0.98,0,0);}
.t.m13_445{transform:matrix(0.952,-0.31,0.31,0.95,0,0);}
.t.m14_445{transform:matrix(0.92,-0.39,0.39,0.92,0,0);}
.t.m15_445{transform:matrix(0.938,-0.35,0.35,0.94,0,0);}
.t.m16_445{transform:matrix(0.892,-0.45,0.45,0.89,0,0);}
.t.m17_445{transform:matrix(0.93,0.37,-0.37,0.93,0,0);}
.t.m18_445{transform:matrix(0.961,0.28,-0.28,0.96,0,0);}
.t.m19_445{transform:matrix(0.998,0.06,-0.06,1,0,0);}
.t.m20_445{transform:matrix(0.989,-0.14,0.14,0.99,0,0);}
.t.m21_445{transform:matrix(0.913,-0.41,0.41,0.91,0,0);}
.t.m22_445{transform:matrix(0.939,-0.34,0.34,0.94,0,0);}
.t.m23_445{transform:matrix(0.901,-0.43,0.43,0.9,0,0);}
.t.m24_445{transform:matrix(0.731,-0.68,0.68,0.73,0,0);}
.t.m25_445{transform:matrix(0.994,0.11,-0.11,0.99,0,0);}
.t.m26_445{transform:matrix(0.997,-0.07,0.07,1,0,0);}
.t.m27_445{transform:matrix(0.762,0.65,-0.65,0.76,0,0);}
.t.m28_445{transform:matrix(0.828,0.56,-0.56,0.83,0,0);}
.t.m29_445{transform:matrix(0.941,-0.34,0.34,0.94,0,0);}
.t.m30_445{transform:matrix(0.933,-0.36,0.36,0.93,0,0);}
.t.m31_445{transform:matrix(0.928,-0.37,0.37,0.93,0,0);}
.t.m32_445{transform:matrix(0.871,-0.49,0.49,0.87,0,0);}
.t.m33_445{transform:matrix(0.699,-0.72,0.72,0.7,0,0);}
.t.m34_445{transform:matrix(0.554,-0.83,0.83,0.55,0,0);}
.t.m35_445{transform:matrix(0.992,-0.12,0.12,0.99,0,0);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts445" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_10g;
	src: url("fonts/Arial-BoldItalic_10g.woff") format("woff");
}

@font-face {
	font-family: ArialNarrow_86;
	src: url("fonts/ArialNarrow_86.woff") format("woff");
}

@font-face {
	font-family: ArialRoundedMTBold_7g;
	src: url("fonts/ArialRoundedMTBold_7g.woff") format("woff");
}

@font-face {
	font-family: Baskerville-Italic_3q;
	src: url("fonts/Baskerville-Italic_3q.woff") format("woff");
}

@font-face {
	font-family: Baskerville_x;
	src: url("fonts/Baskerville_x.woff") format("woff");
}

@font-face {
	font-family: ComicSansMS_2r;
	src: url("fonts/ComicSansMS_2r.woff") format("woff");
}

@font-face {
	font-family: CourierNew-Bold_10-;
	src: url("fonts/CourierNew-Bold_10-.woff") format("woff");
}

@font-face {
	font-family: MarkerFelt-Thin_68;
	src: url("fonts/MarkerFelt-Thin_68.woff") format("woff");
}

@font-face {
	font-family: SkippySharp_6e;
	src: url("fonts/SkippySharp_6e.woff") format("woff");
}

@font-face {
	font-family: Webdings_10p;
	src: url("fonts/Webdings_10p.woff") format("woff");
}

@font-face {
	font-family: Wingdings_20x;
	src: url("fonts/Wingdings_20x.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg445Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg445" style="-webkit-user-select: none;"><object width="907" height="1045" data="445/445.svg" type="image/svg+xml" id="pdf445" style="width:907px; height:1045px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_445" class="t s1_445">the </span><span id="t2_445" class="t s2_445">state </span><span id="t3_445" class="t s1_445">pattern </span>
<span id="t4_445" class="t s3_445">you are here </span><span id="t5_445" class="t s4_445">4 </span><span id="t6_445" class="t s5_445">407 </span>
<span id="t7_445" class="t s6_445">For starters, you now have a Gumball Machine implementation that is </span><span id="t8_445" class="t s7_445">structurally </span><span id="t9_445" class="t s6_445">quite different from your </span>
<span id="ta_445" class="t s6_445">ﬁrst version, and yet </span><span id="tb_445" class="t s7_445">functionally </span><span id="tc_445" class="t s7_445">it is exactly the same</span><span id="td_445" class="t s6_445">. </span><span id="te_445" class="t s6_445">By structurally changing the implemention you’ve: </span>
<span id="tf_445" class="t s6_445">Now let’s look a little more at the functional aspect of what we did: </span>
<span id="tg_445" class="t s8_445">Let’s take a look at what we’ve done so far... </span>
<span id="th_445" class="t m0_445 s9_445">Gumball Machine States </span>
<span id="ti_445" class="t sa_445">ß </span><span id="tj_445" class="t s6_445">Localized the behavior of each state into its own class. </span>
<span id="tk_445" class="t sa_445">ß </span><span id="tl_445" class="t s6_445">Removed all the troublesome </span><span id="tm_445" class="t sb_445">if </span><span id="tn_445" class="t s6_445">statements that would have been difﬁcult to maintain. </span>
<span id="to_445" class="t sa_445">ß </span><span id="tp_445" class="t s6_445">Closed each state for modiﬁcation, and yet left the Gumball Machine open to extension by </span>
<span id="tq_445" class="t s6_445">adding new state classes (and we’ll do this in a second). </span>
<span id="tr_445" class="t sa_445">ß </span><span id="ts_445" class="t s6_445">Created a code base and class structure that maps much more closely to the Mighty Gumball </span>
<span id="tt_445" class="t s6_445">diagram and is easier to read and understand. </span>
<span id="tu_445" class="t m1_445 sc_445">S </span>
<span id="tv_445" class="t m2_445 sc_445">o </span>
<span id="tw_445" class="t m3_445 sc_445">l </span>
<span id="tx_445" class="t m4_445 sc_445">d </span>
<span id="ty_445" class="t m5_445 sc_445">O </span>
<span id="tz_445" class="t m6_445 sc_445">u </span>
<span id="t10_445" class="t m7_445 sc_445">t </span>
<span id="t11_445" class="t m8_445 sc_445">N </span>
<span id="t12_445" class="t m9_445 sc_445">o </span>
<span id="t13_445" class="t m10_445 sc_445">Q </span>
<span id="t14_445" class="t m11_445 sc_445">u </span>
<span id="t15_445" class="t m12_445 sc_445">a </span>
<span id="t16_445" class="t m13_445 sc_445">r </span>
<span id="t17_445" class="t m14_445 sc_445">t </span>
<span id="t18_445" class="t m15_445 sc_445">e </span>
<span id="t19_445" class="t m16_445 sc_445">r </span>
<span id="t1a_445" class="t m8_445 sc_445">H </span>
<span id="t1b_445" class="t m17_445 sc_445">a </span>
<span id="t1c_445" class="t m18_445 sc_445">s </span>
<span id="t1d_445" class="t m19_445 sc_445">Q </span>
<span id="t1e_445" class="t m20_445 sc_445">u </span>
<span id="t1f_445" class="t m13_445 sc_445">a </span>
<span id="t1g_445" class="t m21_445 sc_445">r </span>
<span id="t1h_445" class="t m22_445 sc_445">t </span>
<span id="t1i_445" class="t m23_445 sc_445">e </span>
<span id="t1j_445" class="t m24_445 sc_445">r </span>
<span id="t1k_445" class="t m18_445 sc_445">S </span>
<span id="t1l_445" class="t m25_445 sc_445">o </span>
<span id="t1m_445" class="t m26_445 sc_445">l </span>
<span id="t1n_445" class="t m12_445 sc_445">d </span>
<span id="t1o_445" class="t m27_445 sd_445">G </span>
<span id="t1p_445" class="t m28_445 sd_445">u </span>
<span id="t1q_445" class="t m8_445 sd_445">m </span>
<span id="t1r_445" class="t m9_445 sd_445">b </span>
<span id="t1s_445" class="t m2_445 sd_445">a </span>
<span id="t1t_445" class="t m3_445 sd_445">l </span>
<span id="t1u_445" class="t m4_445 sd_445">l </span>
<span id="t1v_445" class="t m20_445 sd_445">M </span>
<span id="t1w_445" class="t m29_445 sd_445">a</span><span id="t1x_445" class="t m30_445 sd_445">c </span>
<span id="t1y_445" class="t m31_445 sd_445">h </span>
<span id="t1z_445" class="t m32_445 sd_445">i </span>
<span id="t20_445" class="t m33_445 sd_445">n </span>
<span id="t21_445" class="t m34_445 sd_445">e </span>
<span id="t22_445" class="t se_445">current state </span>
<span id="t23_445" class="t m35_445 sf_445">The Gumball Machine now holds an </span>
<span id="t24_445" class="t m35_445 sf_445">instance of each State class. </span>
<span id="t25_445" class="t m11_445 sf_445">The current state of the </span>
<span id="t26_445" class="t m11_445 sf_445">machine is always one of </span>
<span id="t27_445" class="t m11_445 sf_445">these class instances. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
