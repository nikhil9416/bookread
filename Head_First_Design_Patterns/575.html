<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p575" style="overflow: hidden; position: relative; background-color: white; width: 907px; height: 1045px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_575{left:674px;bottom:969px;letter-spacing:0.16px;}
#t2_575{left:756px;bottom:969px;letter-spacing:0.14px;}
#t3_575{left:670px;bottom:56px;letter-spacing:-0.11px;}
#t4_575{left:756px;bottom:56px;}
#t5_575{left:790px;bottom:55px;letter-spacing:0.17px;}
#t6_575{left:91px;bottom:905px;letter-spacing:0.81px;word-spacing:-1px;}
#t7_575{left:267px;bottom:633px;letter-spacing:-0.29px;}
#t8_575{left:299px;bottom:616px;letter-spacing:-0.29px;}
#t9_575{left:299px;bottom:583px;letter-spacing:-0.29px;}
#ta_575{left:299px;bottom:550px;letter-spacing:-0.29px;}
#tb_575{left:299px;bottom:517px;letter-spacing:-0.29px;}
#tc_575{left:299px;bottom:484px;letter-spacing:-0.29px;}
#td_575{left:299px;bottom:451px;letter-spacing:-0.29px;}
#te_575{left:299px;bottom:418px;letter-spacing:-0.29px;}
#tf_575{left:299px;bottom:385px;letter-spacing:-0.29px;}
#tg_575{left:299px;bottom:352px;letter-spacing:-0.29px;}
#th_575{left:264px;bottom:336px;}
#ti_575{left:114.3px;bottom:585.9px;letter-spacing:0.11px;}
#tj_575{left:103.7px;bottom:567.6px;letter-spacing:0.09px;}
#tk_575{left:97.3px;bottom:549.3px;letter-spacing:0.1px;}
#tl_575{left:154.3px;bottom:530.8px;letter-spacing:0.1px;}
#tm_575{left:126.7px;bottom:435.1px;letter-spacing:0.1px;}
#tn_575{left:147.8px;bottom:418.1px;letter-spacing:0.1px;}
#to_575{left:146.9px;bottom:399.7px;letter-spacing:0.1px;}
#tp_575{left:129px;bottom:380.2px;letter-spacing:0.1px;}
#tq_575{left:194.3px;bottom:365.9px;letter-spacing:0.1px;}
#tr_575{left:308.1px;bottom:265.5px;letter-spacing:0.09px;}
#ts_575{left:310px;bottom:247.3px;letter-spacing:0.09px;}
#tt_575{left:311.4px;bottom:229px;letter-spacing:0.1px;}
#tu_575{left:311.8px;bottom:210.7px;letter-spacing:0.1px;}
#tv_575{left:312.4px;bottom:192.3px;letter-spacing:0.1px;}
#tw_575{left:313.4px;bottom:174px;letter-spacing:0.1px;}
#tx_575{left:467.3px;bottom:260.4px;letter-spacing:0.1px;}
#ty_575{left:467px;bottom:242px;letter-spacing:0.1px;}
#tz_575{left:467.3px;bottom:223.7px;letter-spacing:0.1px;}
#t10_575{left:466.4px;bottom:205.4px;letter-spacing:0.1px;}
#t11_575{left:466.3px;bottom:187px;letter-spacing:0.1px;}
#t12_575{left:91px;bottom:879px;letter-spacing:-0.73px;}
#t13_575{left:132px;bottom:879px;letter-spacing:-0.23px;word-spacing:0.03px;}
#t14_575{left:91px;bottom:861px;letter-spacing:-0.22px;word-spacing:0.01px;}
#t15_575{left:201px;bottom:861px;letter-spacing:-0.25px;word-spacing:0.04px;}
#t16_575{left:407px;bottom:861px;letter-spacing:-0.21px;word-spacing:0.01px;}
#t17_575{left:92px;bottom:842px;letter-spacing:-0.19px;word-spacing:-0.01px;}
#t18_575{left:91px;bottom:824px;letter-spacing:-0.29px;word-spacing:0.08px;}
#t19_575{left:354px;bottom:824px;letter-spacing:-0.22px;word-spacing:0.01px;}
#t1a_575{left:91px;bottom:806px;letter-spacing:-0.23px;word-spacing:0.03px;}
#t1b_575{left:90px;bottom:787px;letter-spacing:-0.23px;word-spacing:0.03px;}
#t1c_575{left:92px;bottom:769px;letter-spacing:-0.22px;word-spacing:0.02px;}
#t1d_575{left:589.3px;bottom:630px;letter-spacing:0.1px;}
#t1e_575{left:593.9px;bottom:612.2px;letter-spacing:0.1px;}
#t1f_575{left:590.9px;bottom:589.7px;letter-spacing:0.11px;}
#t1g_575{left:592.6px;bottom:571.4px;letter-spacing:0.11px;}
#t1h_575{left:586px;bottom:547.9px;letter-spacing:0.1px;}
#t1i_575{left:588px;bottom:529.6px;letter-spacing:0.09px;}
#t1j_575{left:636.1px;bottom:530.1px;letter-spacing:0.1px;}
#t1k_575{left:587.5px;bottom:511.2px;letter-spacing:0.1px;}
#t1l_575{left:614.9px;bottom:481.9px;letter-spacing:0.11px;}
#t1m_575{left:616.2px;bottom:463.6px;letter-spacing:0.11px;}
#t1n_575{left:616.4px;bottom:445.2px;letter-spacing:0.1px;}
#t1o_575{left:91px;bottom:711px;letter-spacing:0.85px;word-spacing:-0.7px;}
#t1p_575{left:92px;bottom:685px;letter-spacing:1.03px;}

.s1_575{font-size:15px;font-family:Arial-BoldItalic_10g;color:#525252;}
.s2_575{font-size:15px;font-family:Arial-BoldItalic_10g;color:#000;}
.s3_575{font-size:14px;font-family:Arial-BoldItalic_10g;color:#939393;}
.s4_575{font-size:14px;font-family:Webdings_10p;color:#939393;}
.s5_575{font-size:15px;font-family:ArialRoundedMTBold_7g;color:#000;}
.s6_575{font-size:28px;font-family:MarkerFelt-Thin_68;color:#000;}
.s7_575{font-size:14px;font-family:CourierNew_146;color:#000;}
.s8_575{font-size:18px;font-family:SkippySharp_6e;color:#606060;}
.s9_575{font-size:15px;font-family:Baskerville_x;color:#000;}
.sa_575{font-size:21px;font-family:MarkerFelt-Thin_68;color:#000;}
.t.m0_575{transform:matrix(0.999,0,0,1,0,0);}
.t.m1_575{transform:matrix(0.997,-0.06,0.06,1,0,0);}
.t.m2_575{transform:matrix(0.999,-0.04,0.04,1,0,0);}
.t.m3_575{transform:matrix(0.986,-0.17,0.17,0.99,0,0);}
.t.m4_575{transform:matrix(0.999,-0.01,0.01,1,0,0);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts575" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_10g;
	src: url("fonts/Arial-BoldItalic_10g.woff") format("woff");
}

@font-face {
	font-family: ArialRoundedMTBold_7g;
	src: url("fonts/ArialRoundedMTBold_7g.woff") format("woff");
}

@font-face {
	font-family: Baskerville_x;
	src: url("fonts/Baskerville_x.woff") format("woff");
}

@font-face {
	font-family: CourierNew_146;
	src: url("fonts/CourierNew_146.woff") format("woff");
}

@font-face {
	font-family: MarkerFelt-Thin_68;
	src: url("fonts/MarkerFelt-Thin_68.woff") format("woff");
}

@font-face {
	font-family: SkippySharp_6e;
	src: url("fonts/SkippySharp_6e.woff") format("woff");
}

@font-face {
	font-family: Webdings_10p;
	src: url("fonts/Webdings_10p.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg575Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg575" style="-webkit-user-select: none;"><object width="907" height="1045" data="575/575.svg" type="image/svg+xml" id="pdf575" style="width:907px; height:1045px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_575" class="t s1_575">compound </span><span id="t2_575" class="t s2_575">patterns </span>
<span id="t3_575" class="t s3_575">you are here </span><span id="t4_575" class="t s4_575">4 </span><span id="t5_575" class="t s5_575">537 </span>
<span id="t6_575" class="t s6_575">Building the pieces </span>
<span id="t7_575" class="t s7_575">public interface BeatModelInterface { </span>
<span id="t8_575" class="t s7_575">void initialize(); </span>
<span id="t9_575" class="t s7_575">void on(); </span>
<span id="ta_575" class="t s7_575">void off(); </span>
<span id="tb_575" class="t s7_575">void setBPM(int bpm); </span>
<span id="tc_575" class="t s7_575">int getBPM(); </span>
<span id="td_575" class="t s7_575">void registerObserver(BeatObserver o); </span>
<span id="te_575" class="t s7_575">void removeObserver(BeatObserver o); </span>
<span id="tf_575" class="t s7_575">void registerObserver(BPMObserver o); </span>
<span id="tg_575" class="t s7_575">void removeObserver(BPMObserver o); </span>
<span id="th_575" class="t s7_575">} </span>
<span id="ti_575" class="t m0_575 s8_575">These are the methods </span>
<span id="tj_575" class="t m0_575 s8_575">the controller will use to </span>
<span id="tk_575" class="t m0_575 s8_575">direct the model based on </span>
<span id="tl_575" class="t m0_575 s8_575">user interaction. </span>
<span id="tm_575" class="t m1_575 s8_575">These methods allow </span>
<span id="tn_575" class="t m1_575 s8_575">the view and the </span>
<span id="to_575" class="t m1_575 s8_575">controller to get </span>
<span id="tp_575" class="t m1_575 s8_575">state and to become </span>
<span id="tq_575" class="t m1_575 s8_575">observers. </span>
<span id="tr_575" class="t m2_575 s8_575">This should look </span>
<span id="ts_575" class="t m2_575 s8_575">familiar, these </span>
<span id="tt_575" class="t m2_575 s8_575">methods allow </span>
<span id="tu_575" class="t m2_575 s8_575">objects to register </span>
<span id="tv_575" class="t m2_575 s8_575">as observers for </span>
<span id="tw_575" class="t m2_575 s8_575">state changes. </span>
<span id="tx_575" class="t m0_575 s8_575">We’ve split this into two kinds of </span>
<span id="ty_575" class="t m0_575 s8_575">observers: observers that want to be </span>
<span id="tz_575" class="t m0_575 s8_575">notified on every beat, and observers </span>
<span id="t10_575" class="t m0_575 s8_575">that just want to be notified with </span>
<span id="t11_575" class="t m0_575 s8_575">the beats per minute change. </span>
<span id="t12_575" class="t s9_575">Okay, </span><span id="t13_575" class="t s9_575">you know the model is responsible for maintaining all the data, state and any </span>
<span id="t14_575" class="t s9_575">application logic. </span><span id="t15_575" class="t s9_575">So what’s the BeatModel got in it? </span><span id="t16_575" class="t s9_575">Its main job is managing the beat, </span>
<span id="t17_575" class="t s9_575">so it has state that maintains the current beats per minute and lots of code that generates </span>
<span id="t18_575" class="t s9_575">MIDI events to create the beat that we hear. </span><span id="t19_575" class="t s9_575">It also exposes an interface that lets the </span>
<span id="t1a_575" class="t s9_575">controller manipulate the beat and lets the view and controller obtain the model’s state. </span>
<span id="t1b_575" class="t s9_575">Also, don’t forget that the model uses the Observer Pattern, so we also need some methods </span>
<span id="t1c_575" class="t s9_575">to let objects register as observers and send out notiﬁcations. </span>
<span id="t1d_575" class="t m3_575 s8_575">This gets called after the </span>
<span id="t1e_575" class="t m3_575 s8_575">BeatModel is instantiated. </span>
<span id="t1f_575" class="t m4_575 s8_575">These methods turn the beat </span>
<span id="t1g_575" class="t m4_575 s8_575">generator on and off. </span>
<span id="t1h_575" class="t m4_575 s8_575">This method sets the beats per </span>
<span id="t1i_575" class="t m4_575 s8_575">minute. </span><span id="t1j_575" class="t m4_575 s8_575">After it is called, the beat </span>
<span id="t1k_575" class="t m4_575 s8_575">frequency changes immediately. </span>
<span id="t1l_575" class="t m4_575 s8_575">The getBPM() method returns </span>
<span id="t1m_575" class="t m4_575 s8_575">the current BPMs, or 0 if </span>
<span id="t1n_575" class="t m4_575 s8_575">the generator is off. </span>
<span id="t1o_575" class="t sa_575">Let’s check out the BeatModelInterface before looking at the </span>
<span id="t1p_575" class="t sa_575">implementation: </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
