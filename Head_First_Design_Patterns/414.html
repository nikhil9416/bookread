<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p414" style="overflow: hidden; position: relative; background-color: white; width: 907px; height: 1045px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_414{left:92px;bottom:55px;letter-spacing:0.17px;}
#t2_414{left:147px;bottom:55px;letter-spacing:-0.13px;}
#t3_414{left:91px;bottom:803px;letter-spacing:0.06px;}
#t4_414{left:176px;bottom:803px;letter-spacing:0.05px;word-spacing:0.06px;}
#t5_414{left:91px;bottom:785px;letter-spacing:0.1px;word-spacing:0.01px;}
#t6_414{left:217px;bottom:785px;letter-spacing:0.05px;word-spacing:0.06px;}
#t7_414{left:91px;bottom:767px;letter-spacing:0.08px;word-spacing:0.03px;}
#t8_414{left:91px;bottom:741px;letter-spacing:0.15px;}
#t9_414{left:183px;bottom:741px;letter-spacing:0.08px;word-spacing:0.03px;}
#ta_414{left:91px;bottom:723px;letter-spacing:0.13px;word-spacing:-0.02px;}
#tb_414{left:91px;bottom:705px;letter-spacing:0.06px;word-spacing:0.05px;}
#tc_414{left:91px;bottom:679px;letter-spacing:0.06px;}
#td_414{left:176px;bottom:679px;letter-spacing:-0.02px;word-spacing:0.12px;}
#te_414{left:91px;bottom:661px;letter-spacing:0.08px;word-spacing:0.03px;}
#tf_414{left:91px;bottom:636px;letter-spacing:0.14px;}
#tg_414{left:183px;bottom:636px;letter-spacing:0.11px;}
#th_414{left:91px;bottom:618px;letter-spacing:0.07px;word-spacing:0.04px;}
#ti_414{left:91px;bottom:599px;letter-spacing:0.08px;word-spacing:0.03px;}
#tj_414{left:91px;bottom:581px;letter-spacing:0.07px;word-spacing:0.04px;}
#tk_414{left:282px;bottom:581px;letter-spacing:0.09px;word-spacing:0.03px;}
#tl_414{left:91px;bottom:563px;letter-spacing:0.11px;}
#tm_414{left:91px;bottom:544px;letter-spacing:0.19px;word-spacing:-0.09px;}
#tn_414{left:230px;bottom:544px;letter-spacing:0.02px;word-spacing:0.09px;}
#to_414{left:91px;bottom:526px;letter-spacing:0.05px;word-spacing:0.06px;}
#tp_414{left:91px;bottom:508px;letter-spacing:0.05px;word-spacing:0.04px;}
#tq_414{left:149px;bottom:508px;letter-spacing:0.07px;word-spacing:0.04px;}
#tr_414{left:91px;bottom:489px;letter-spacing:0.1px;word-spacing:0.02px;}
#ts_414{left:91px;bottom:471px;letter-spacing:0.13px;word-spacing:-0.02px;}
#tt_414{left:91px;bottom:446px;letter-spacing:0.06px;}
#tu_414{left:176px;bottom:446px;letter-spacing:0.05px;word-spacing:0.06px;}
#tv_414{left:91px;bottom:427px;letter-spacing:0.13px;word-spacing:-0.02px;}
#tw_414{left:211px;bottom:427px;letter-spacing:0.09px;word-spacing:0.03px;}
#tx_414{left:91px;bottom:409px;letter-spacing:0.08px;word-spacing:0.03px;}
#ty_414{left:91px;bottom:384px;letter-spacing:0.14px;}
#tz_414{left:183px;bottom:384px;letter-spacing:0.1px;}
#t10_414{left:229px;bottom:384px;letter-spacing:0.1px;}
#t11_414{left:91px;bottom:366px;letter-spacing:0.14px;word-spacing:-0.04px;}
#t12_414{left:91px;bottom:347px;letter-spacing:-0.02px;word-spacing:0.11px;}
#t13_414{left:166px;bottom:347px;letter-spacing:0.09px;word-spacing:0.01px;}
#t14_414{left:91px;bottom:329px;letter-spacing:0.02px;word-spacing:0.09px;}
#t15_414{left:91px;bottom:304px;letter-spacing:0.06px;}
#t16_414{left:176px;bottom:304px;letter-spacing:0.1px;word-spacing:0.01px;}
#t17_414{left:91px;bottom:285px;letter-spacing:0.04px;}
#t18_414{left:155px;bottom:285px;letter-spacing:0.13px;word-spacing:-0.01px;}
#t19_414{left:91px;bottom:267px;letter-spacing:0.1px;word-spacing:0.01px;}
#t1a_414{left:91px;bottom:242px;letter-spacing:0.14px;}
#t1b_414{left:183px;bottom:242px;letter-spacing:0.04px;word-spacing:0.06px;}
#t1c_414{left:91px;bottom:223px;letter-spacing:0.09px;word-spacing:0.02px;}
#t1d_414{left:91px;bottom:205px;letter-spacing:0.08px;word-spacing:0.02px;}
#t1e_414{left:91px;bottom:187px;letter-spacing:0.1px;word-spacing:0.01px;}
#t1f_414{left:91px;bottom:168px;letter-spacing:0.14px;word-spacing:-0.03px;}
#t1g_414{left:91px;bottom:150px;letter-spacing:0.07px;word-spacing:0.04px;}
#t1h_414{left:91px;bottom:132px;letter-spacing:0.13px;word-spacing:-0.02px;}
#t1i_414{left:91px;bottom:107px;letter-spacing:0.06px;}
#t1j_414{left:176px;bottom:107px;letter-spacing:0.08px;word-spacing:0.04px;}
#t1k_414{left:463px;bottom:803px;letter-spacing:0.14px;}
#t1l_414{left:555px;bottom:803px;letter-spacing:0.11px;}
#t1m_414{left:463px;bottom:785px;letter-spacing:0.09px;word-spacing:0.02px;}
#t1n_414{left:463px;bottom:767px;letter-spacing:0.08px;word-spacing:0.03px;}
#t1o_414{left:768px;bottom:767px;letter-spacing:0.11px;}
#t1p_414{left:463px;bottom:748px;letter-spacing:0.08px;word-spacing:0.04px;}
#t1q_414{left:463px;bottom:730px;letter-spacing:0.09px;}
#t1r_414{left:537px;bottom:730px;letter-spacing:0.16px;word-spacing:-0.06px;}
#t1s_414{left:463px;bottom:712px;letter-spacing:0.07px;word-spacing:0.03px;}
#t1t_414{left:463px;bottom:693px;letter-spacing:0.11px;word-spacing:0.01px;}
#t1u_414{left:463px;bottom:668px;letter-spacing:0.06px;}
#t1v_414{left:548px;bottom:668px;letter-spacing:0.14px;word-spacing:-0.03px;}
#t1w_414{left:463px;bottom:650px;letter-spacing:0.12px;}
#t1x_414{left:463px;bottom:631px;letter-spacing:0.1px;word-spacing:0.01px;}
#t1y_414{left:463px;bottom:606px;letter-spacing:0.14px;}
#t1z_414{left:555px;bottom:606px;letter-spacing:0.1px;}
#t20_414{left:463px;bottom:588px;letter-spacing:0.09px;word-spacing:0.02px;}
#t21_414{left:463px;bottom:569px;letter-spacing:0.09px;word-spacing:0.02px;}
#t22_414{left:669px;bottom:569px;letter-spacing:0.12px;word-spacing:-0.02px;}
#t23_414{left:463px;bottom:551px;letter-spacing:0.1px;}
#t24_414{left:463px;bottom:533px;}
#t25_414{left:505px;bottom:533px;letter-spacing:0.21px;word-spacing:-0.1px;}
#t26_414{left:463px;bottom:514px;letter-spacing:0.16px;word-spacing:-0.06px;}
#t27_414{left:463px;bottom:489px;letter-spacing:0.06px;}
#t28_414{left:548px;bottom:489px;letter-spacing:0.1px;}
#t29_414{left:627px;bottom:489px;letter-spacing:0.06px;word-spacing:0.04px;}
#t2a_414{left:463px;bottom:471px;letter-spacing:0.08px;word-spacing:0.03px;}
#t2b_414{left:463px;bottom:453px;letter-spacing:0.07px;word-spacing:0.04px;}
#t2c_414{left:463px;bottom:434px;letter-spacing:0.1px;word-spacing:0.01px;}
#t2d_414{left:678px;bottom:434px;letter-spacing:0.08px;word-spacing:0.01px;}
#t2e_414{left:463px;bottom:416px;letter-spacing:0.1px;word-spacing:0.01px;}
#t2f_414{left:463px;bottom:391px;letter-spacing:0.14px;}
#t2g_414{left:555px;bottom:391px;letter-spacing:-0.62px;}
#t2h_414{left:586px;bottom:391px;letter-spacing:0.15px;word-spacing:-0.04px;}
#t2i_414{left:463px;bottom:372px;letter-spacing:0.09px;word-spacing:0.02px;}
#t2j_414{left:463px;bottom:354px;letter-spacing:0.14px;word-spacing:-0.04px;}
#t2k_414{left:463px;bottom:336px;word-spacing:0.11px;}
#t2l_414{left:463px;bottom:311px;letter-spacing:0.06px;}
#t2m_414{left:548px;bottom:311px;letter-spacing:0.04px;word-spacing:0.06px;}
#t2n_414{left:463px;bottom:292px;letter-spacing:0.16px;word-spacing:-0.05px;}
#t2o_414{left:463px;bottom:267px;letter-spacing:0.14px;}
#t2p_414{left:555px;bottom:267px;letter-spacing:0.06px;word-spacing:0.04px;}
#t2q_414{left:463px;bottom:249px;letter-spacing:-0.22px;}
#t2r_414{left:530px;bottom:249px;letter-spacing:0.07px;word-spacing:0.03px;}
#t2s_414{left:463px;bottom:230px;letter-spacing:0.15px;word-spacing:-0.04px;}
#t2t_414{left:463px;bottom:205px;letter-spacing:0.06px;}
#t2u_414{left:548px;bottom:205px;letter-spacing:0.08px;word-spacing:0.03px;}
#t2v_414{left:463px;bottom:187px;letter-spacing:0.09px;}
#t2w_414{left:463px;bottom:162px;letter-spacing:0.14px;}
#t2x_414{left:555px;bottom:162px;letter-spacing:0.02px;word-spacing:0.09px;}
#t2y_414{left:463px;bottom:143px;letter-spacing:0.1px;word-spacing:0.01px;}
#t2z_414{left:758px;bottom:143px;letter-spacing:0.1px;}
#t30_414{left:463px;bottom:125px;letter-spacing:0.06px;word-spacing:0.04px;}
#t31_414{left:463px;bottom:107px;letter-spacing:0.07px;word-spacing:0.03px;}
#t32_414{left:767px;bottom:107px;letter-spacing:0.03px;}
#t33_414{left:463px;bottom:88px;letter-spacing:0.08px;word-spacing:0.03px;}
#t34_414{left:233px;bottom:872px;letter-spacing:0.06px;word-spacing:0.07px;}
#t35_414{left:233px;bottom:854px;letter-spacing:0.1px;word-spacing:0.04px;}
#t36_414{left:233px;bottom:895px;letter-spacing:-0.21px;}
#t37_414{left:91px;bottom:971px;letter-spacing:-0.11px;}
#t38_414{left:185px;bottom:971px;letter-spacing:-0.14px;}

.s1_414{font-size:15px;font-family:ArialRoundedMTBold_7g;color:#000;}
.s2_414{font-size:14px;font-family:Arial-BoldItalic_10g;color:#939393;}
.s3_414{font-size:15px;font-family:Baskerville_x;color:#000;}
.s4_414{font-size:28px;font-family:Residoo_3mh;color:#000;}
.s5_414{font-size:14px;font-family:Arial-BoldItalic_10g;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts414" type="text/css" >

@font-face {
	font-family: Arial-BoldItalic_10g;
	src: url("fonts/Arial-BoldItalic_10g.woff") format("woff");
}

@font-face {
	font-family: ArialRoundedMTBold_7g;
	src: url("fonts/ArialRoundedMTBold_7g.woff") format("woff");
}

@font-face {
	font-family: Baskerville_x;
	src: url("fonts/Baskerville_x.woff") format("woff");
}

@font-face {
	font-family: Residoo_3mh;
	src: url("fonts/Residoo_3mh.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg414Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg414" style="-webkit-user-select: none;"><object width="907" height="1045" data="414/414.svg" type="image/svg+xml" id="pdf414" style="width:907px; height:1045px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_414" class="t s1_414">376 </span><span id="t2_414" class="t s2_414">Chapter 9 </span>
<span id="t3_414" class="t s1_414">HeadFirst: </span><span id="t4_414" class="t s3_414">We’re here tonight speaking with the </span>
<span id="t5_414" class="t s3_414">Composite Pattern. </span><span id="t6_414" class="t s3_414">Why don’t you tell us a little about </span>
<span id="t7_414" class="t s3_414">yourself, Composite? </span>
<span id="t8_414" class="t s1_414">Composite: </span><span id="t9_414" class="t s3_414">Sure... I’m the pattern to use when you </span>
<span id="ta_414" class="t s3_414">have collections of objects with whole-part relationships </span>
<span id="tb_414" class="t s3_414">and you want to be able to treat those objects uniformly. </span>
<span id="tc_414" class="t s1_414">HeadFirst: </span><span id="td_414" class="t s3_414">Okay, let’s dive right in here... what do you </span>
<span id="te_414" class="t s3_414">mean by whole-part relationships? </span>
<span id="tf_414" class="t s1_414">Composite: </span><span id="tg_414" class="t s3_414">Imagine a graphical user interface; there </span>
<span id="th_414" class="t s3_414">you’ll often ﬁnd a top level component like a Frame or </span>
<span id="ti_414" class="t s3_414">a Panel, containing other components, like menus, text </span>
<span id="tj_414" class="t s3_414">panes, scrollbars and buttons. </span><span id="tk_414" class="t s3_414">So your GUI consists </span>
<span id="tl_414" class="t s3_414">of several parts, but when you display it, you generally </span>
<span id="tm_414" class="t s3_414">think of it as a whole. </span><span id="tn_414" class="t s3_414">You tell the top level component </span>
<span id="to_414" class="t s3_414">to display, and count on that component to display all </span>
<span id="tp_414" class="t s3_414">its parts. </span><span id="tq_414" class="t s3_414">We call the components that contain other </span>
<span id="tr_414" class="t s3_414">components, composite objects, and components that </span>
<span id="ts_414" class="t s3_414">don’t contain other components, leaf objects. </span>
<span id="tt_414" class="t s1_414">HeadFirst: </span><span id="tu_414" class="t s3_414">Is that what you mean by treating the </span>
<span id="tv_414" class="t s3_414">objects uniformly? </span><span id="tw_414" class="t s3_414">Having common methods you can </span>
<span id="tx_414" class="t s3_414">call on composites and leaves? </span>
<span id="ty_414" class="t s1_414">Composite: </span><span id="tz_414" class="t s3_414">Right. </span><span id="t10_414" class="t s3_414">I can tell a composite object to </span>
<span id="t11_414" class="t s3_414">display or a leaf object to display and they will do the </span>
<span id="t12_414" class="t s3_414">right thing. </span><span id="t13_414" class="t s3_414">The composite object will display by telling </span>
<span id="t14_414" class="t s3_414">all its components to display. </span>
<span id="t15_414" class="t s1_414">HeadFirst: </span><span id="t16_414" class="t s3_414">That implies that every object has the same </span>
<span id="t17_414" class="t s3_414">interface. </span><span id="t18_414" class="t s3_414">What if you have objects in your composite </span>
<span id="t19_414" class="t s3_414">that do different things? </span>
<span id="t1a_414" class="t s1_414">Composite: </span><span id="t1b_414" class="t s3_414">Well, in order for the composite to work </span>
<span id="t1c_414" class="t s3_414">transparently to the client, you must implement the same </span>
<span id="t1d_414" class="t s3_414">interface for all objects in the composite, otherwise, the </span>
<span id="t1e_414" class="t s3_414">client has to worry about which interface each object </span>
<span id="t1f_414" class="t s3_414">is implementing, which kind of defeats the purpose. </span>
<span id="t1g_414" class="t s3_414">Obviously that means that at times you’ll have objects for </span>
<span id="t1h_414" class="t s3_414">which some of the method calls don’t make sense. </span>
<span id="t1i_414" class="t s1_414">HeadFirst: </span><span id="t1j_414" class="t s3_414">So how do you handle that? </span>
<span id="t1k_414" class="t s1_414">Composite: </span><span id="t1l_414" class="t s3_414">Well there’s a couple of ways to handle </span>
<span id="t1m_414" class="t s3_414">it; sometimes you can just do nothing, or return null or </span>
<span id="t1n_414" class="t s3_414">false – whatever makes sense in your application. </span><span id="t1o_414" class="t s3_414">Other </span>
<span id="t1p_414" class="t s3_414">times you’ll want to be more proactive and throw an </span>
<span id="t1q_414" class="t s3_414">exception. </span><span id="t1r_414" class="t s3_414">Of course, then the client has to be willing to </span>
<span id="t1s_414" class="t s3_414">do a little work and make sure that the method call didn’t </span>
<span id="t1t_414" class="t s3_414">do something unexpected. </span>
<span id="t1u_414" class="t s1_414">HeadFirst: </span><span id="t1v_414" class="t s3_414">But if the client doesn’t know which kind </span>
<span id="t1w_414" class="t s3_414">of object they’re dealing with, how would they ever know </span>
<span id="t1x_414" class="t s3_414">which calls to make without checking the type? </span>
<span id="t1y_414" class="t s1_414">Composite: </span><span id="t1z_414" class="t s3_414">If you’re a little creative you can structure </span>
<span id="t20_414" class="t s3_414">your methods so that the default implementations do </span>
<span id="t21_414" class="t s3_414">something that does make sense. </span><span id="t22_414" class="t s3_414">For instance, if the </span>
<span id="t23_414" class="t s3_414">client is calling getChild(), on the composite this makes </span>
<span id="t24_414" class="t s3_414">sense. </span><span id="t25_414" class="t s3_414">And it makes sense on a leaf too, if you think of </span>
<span id="t26_414" class="t s3_414">the leaf as an object with no children. </span>
<span id="t27_414" class="t s1_414">HeadFirst: </span><span id="t28_414" class="t s3_414">Ah... smart. </span><span id="t29_414" class="t s3_414">But, I’ve heard some clients </span>
<span id="t2a_414" class="t s3_414">are so worried about this issue, that they require separate </span>
<span id="t2b_414" class="t s3_414">interfaces for different objects so they aren’t allowed </span>
<span id="t2c_414" class="t s3_414">to make nonsensical method calls. </span><span id="t2d_414" class="t s3_414">Is that still the </span>
<span id="t2e_414" class="t s3_414">Composite Pattern? </span>
<span id="t2f_414" class="t s1_414">Composite: </span><span id="t2g_414" class="t s3_414">Yes. </span><span id="t2h_414" class="t s3_414">It’s a much safer version of the </span>
<span id="t2i_414" class="t s3_414">Composite Pattern, but it requires the client to check the </span>
<span id="t2j_414" class="t s3_414">type of every object before making a call so the object </span>
<span id="t2k_414" class="t s3_414">can be cast correctly. </span>
<span id="t2l_414" class="t s1_414">HeadFirst: </span><span id="t2m_414" class="t s3_414">Tell us a little more about how these </span>
<span id="t2n_414" class="t s3_414">composite and leaf objects are structured. </span>
<span id="t2o_414" class="t s1_414">Composite: </span><span id="t2p_414" class="t s3_414">Usually it’s a tree structure, some kind of </span>
<span id="t2q_414" class="t s3_414">hierarchy. </span><span id="t2r_414" class="t s3_414">The root is the top level composite, and all its </span>
<span id="t2s_414" class="t s3_414">children are either composites or leaf nodes. </span>
<span id="t2t_414" class="t s1_414">HeadFirst: </span><span id="t2u_414" class="t s3_414">Do children ever point back up to their </span>
<span id="t2v_414" class="t s3_414">parents? </span>
<span id="t2w_414" class="t s1_414">Composite: </span><span id="t2x_414" class="t s3_414">Yes, a component can have a pointer to a </span>
<span id="t2y_414" class="t s3_414">parent to make traversal of the structure easier. </span><span id="t2z_414" class="t s3_414">And, if </span>
<span id="t30_414" class="t s3_414">you have a reference to a child, and you need to delete it, </span>
<span id="t31_414" class="t s3_414">you’ll need to get the parent to remove the child. </span><span id="t32_414" class="t s3_414">Having </span>
<span id="t33_414" class="t s3_414">the parent reference makes that easier too. </span>
<span id="t34_414" class="t s1_414">This week’s interview: </span>
<span id="t35_414" class="t s1_414">The Composite Pattern, on Implementation issues </span>
<span id="t36_414" class="t s4_414">Patterns Exposed </span>
<span id="t37_414" class="t s5_414">interview with </span><span id="t38_414" class="t s2_414">composite </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
