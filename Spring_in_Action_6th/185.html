<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p185" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_185{left:87px;bottom:960px;letter-spacing:-0.13px;}
#t2_185{left:299px;bottom:961px;}
#t3_185{left:307px;bottom:962px;letter-spacing:-0.15px;}
#t4_185{left:347px;bottom:961px;}
#t5_185{left:366px;bottom:960px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t6_185{left:87px;bottom:917px;letter-spacing:-0.46px;}
#t7_185{left:142px;bottom:917px;letter-spacing:0.01px;word-spacing:0.03px;}
#t8_185{left:142px;bottom:892px;letter-spacing:0.12px;word-spacing:0.26px;}
#t9_185{left:142px;bottom:872px;letter-spacing:0.12px;word-spacing:0.44px;}
#ta_185{left:142px;bottom:852px;letter-spacing:0.11px;word-spacing:-0.06px;}
#tb_185{left:403px;bottom:852px;letter-spacing:0.22px;}
#tc_185{left:579px;bottom:852px;letter-spacing:0.13px;word-spacing:-0.09px;}
#td_185{left:142px;bottom:832px;letter-spacing:0.11px;word-spacing:-0.03px;}
#te_185{left:142px;bottom:802px;letter-spacing:0.14px;}
#tf_185{left:157px;bottom:786px;letter-spacing:0.13px;}
#tg_185{left:172px;bottom:771px;letter-spacing:0.12px;}
#th_185{left:172px;bottom:756px;letter-spacing:0.12px;word-spacing:0.02px;}
#ti_185{left:142px;bottom:719px;letter-spacing:0.11px;word-spacing:0.8px;}
#tj_185{left:142px;bottom:699px;letter-spacing:0.13px;word-spacing:3.09px;}
#tk_185{left:142px;bottom:679px;letter-spacing:0.13px;word-spacing:3.18px;}
#tl_185{left:142px;bottom:659px;letter-spacing:0.13px;word-spacing:-0.24px;}
#tm_185{left:142px;bottom:639px;letter-spacing:0.13px;word-spacing:-0.16px;}
#tn_185{left:142px;bottom:620px;letter-spacing:0.22px;}
#to_185{left:318px;bottom:620px;letter-spacing:0.1px;word-spacing:-0.04px;}
#tp_185{left:142px;bottom:589px;letter-spacing:0.13px;word-spacing:0.01px;}
#tq_185{left:142px;bottom:554px;letter-spacing:0.12px;word-spacing:1.22px;}
#tr_185{left:630px;bottom:554px;letter-spacing:0.22px;}
#ts_185{left:666px;bottom:554px;letter-spacing:0.12px;}
#tt_185{left:142px;bottom:534px;letter-spacing:0.13px;word-spacing:1.34px;}
#tu_185{left:142px;bottom:514px;letter-spacing:0.11px;word-spacing:-0.02px;}
#tv_185{left:165px;bottom:494px;letter-spacing:0.12px;word-spacing:0.43px;}
#tw_185{left:142px;bottom:474px;letter-spacing:0.12px;}
#tx_185{left:142px;bottom:444px;letter-spacing:0.14px;}
#ty_185{left:142px;bottom:409px;letter-spacing:0.11px;word-spacing:0.84px;}
#tz_185{left:237px;bottom:409px;letter-spacing:0.22px;}
#t10_185{left:414px;bottom:409px;letter-spacing:0.13px;word-spacing:0.78px;}
#t11_185{left:688px;bottom:409px;letter-spacing:0.09px;}
#t12_185{left:142px;bottom:389px;letter-spacing:0.07px;}
#t13_185{left:165px;bottom:389px;letter-spacing:0.11px;word-spacing:1.94px;}
#t14_185{left:142px;bottom:369px;letter-spacing:0.12px;word-spacing:-0.02px;}
#t15_185{left:142px;bottom:339px;letter-spacing:0.14px;}
#t16_185{left:142px;bottom:303px;letter-spacing:0.11px;word-spacing:0.01px;}
#t17_185{left:142px;bottom:273px;letter-spacing:0.14px;}
#t18_185{left:157px;bottom:258px;letter-spacing:0.13px;}
#t19_185{left:172px;bottom:243px;letter-spacing:0.12px;}
#t1a_185{left:172px;bottom:227px;letter-spacing:0.12px;word-spacing:0.02px;}
#t1b_185{left:172px;bottom:212px;letter-spacing:0.12px;word-spacing:0.02px;}
#t1c_185{left:172px;bottom:197px;letter-spacing:0.14px;}
#t1d_185{left:142px;bottom:160px;letter-spacing:0.12px;word-spacing:0.03px;}
#t1e_185{left:142px;bottom:140px;letter-spacing:0.12px;word-spacing:0.51px;}
#t1f_185{left:219px;bottom:140px;letter-spacing:0.21px;}
#t1g_185{left:262px;bottom:140px;letter-spacing:0.12px;word-spacing:0.52px;}
#t1h_185{left:142px;bottom:120px;letter-spacing:0.12px;word-spacing:3.11px;}
#t1i_185{left:142px;bottom:100px;letter-spacing:0.11px;word-spacing:-0.04px;}
#t1j_185{left:213px;bottom:100px;letter-spacing:0.21px;}
#t1k_185{left:256px;bottom:100px;letter-spacing:0.1px;}

.s1_185{font-size:14px;font-family:NewBaskerville-Bold_h-a;color:#000;}
.s2_185{font-size:12px;font-family:FranklinGothic-Demi_ib4;color:#656565;}
.s3_185{font-size:10px;font-family:FranklinGothic-Demi_ib4;color:#656565;}
.s4_185{font-size:14px;font-family:NewBaskerville-BoldItalic_h-c;color:#656565;}
.s5_185{font-size:16px;font-family:FranklinGothic-DemiItal_ib5;color:#476B85;}
.s6_185{font-size:15px;font-family:NewBaskerville-Roman_ib3;color:#252525;}
.s7_185{font-size:14px;font-family:Courier_h-e;color:#252525;}
.s8_185{font-size:12px;font-family:Courier_h-e;color:#252525;}
.s9_185{font-size:15px;font-family:NewBaskerville-Italic_ib2;color:#252525;}
.t.v0_185{transform:scaleX(0.907);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts185" type="text/css" >

@font-face {
	font-family: Courier_h-e;
	src: url("fonts/Courier_h-e.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-DemiItal_ib5;
	src: url("fonts/FranklinGothic-DemiItal_ib5.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_ib4;
	src: url("fonts/FranklinGothic-Demi_ib4.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_h-c;
	src: url("fonts/NewBaskerville-BoldItalic_h-c.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_h-a;
	src: url("fonts/NewBaskerville-Bold_h-a.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Italic_ib2;
	src: url("fonts/NewBaskerville-Italic_ib2.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ib3;
	src: url("fonts/NewBaskerville-Roman_ib3.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg185Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg185" style="-webkit-user-select: none;"><object width="811" height="1017" data="185/185.svg" type="image/svg+xml" id="pdf185" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_185" class="t s1_185">158 </span><span id="t2_185" class="t s2_185">C</span><span id="t3_185" class="t s3_185">HAPTER </span><span id="t4_185" class="t s2_185">6 </span><span id="t5_185" class="t s4_185">Working with configuration properties </span>
<span id="t6_185" class="t s5_185">6.3.2 </span><span id="t7_185" class="t s5_185">Activating profiles </span>
<span id="t8_185" class="t s6_185">Setting profile-specific properties will do no good unless those profiles are active. But </span>
<span id="t9_185" class="t s6_185">how can you make a profile active? All it takes to make a profile active is to include it </span>
<span id="ta_185" class="t s6_185">in the list of profile names given to the </span><span id="tb_185" class="t v0_185 s7_185">spring.profiles.active </span><span id="tc_185" class="t s6_185">property. For exam- </span>
<span id="td_185" class="t s6_185">ple, you could set it in application.yml like this: </span>
<span id="te_185" class="t s8_185">spring: </span>
<span id="tf_185" class="t s8_185">profiles: </span>
<span id="tg_185" class="t s8_185">active: </span>
<span id="th_185" class="t s8_185">- prod </span>
<span id="ti_185" class="t s6_185">But that’s perhaps the worst possible way to set an active profile. If you set the active </span>
<span id="tj_185" class="t s6_185">profile in application.yml, then that profile becomes the default profile, and you </span>
<span id="tk_185" class="t s6_185">achieve none of the benefits of using profiles to separate the production-specific </span>
<span id="tl_185" class="t s6_185">properties from development properties. Instead, I recommend that you set the active </span>
<span id="tm_185" class="t s6_185">profile(s) with environment variables. On the production environment, you would set </span>
<span id="tn_185" class="t v0_185 s7_185">SPRING_PROFILES_ACTIVE </span><span id="to_185" class="t s6_185">like this: </span>
<span id="tp_185" class="t s8_185">% export SPRING_PROFILES_ACTIVE=prod </span>
<span id="tq_185" class="t s6_185">From then on, any applications deployed to that machine will have the </span><span id="tr_185" class="t v0_185 s7_185">prod </span><span id="ts_185" class="t s6_185">profile </span>
<span id="tt_185" class="t s6_185">active, and the corresponding configuration properties would take precedence over </span>
<span id="tu_185" class="t s6_185">the properties in the default profile. </span>
<span id="tv_185" class="t s6_185">If you’re running the application as an executable JAR file, you might also set the </span>
<span id="tw_185" class="t s6_185">active profile with a command-line argument like this: </span>
<span id="tx_185" class="t s8_185">% java -jar taco-cloud.jar --spring.profiles.active=prod </span>
<span id="ty_185" class="t s6_185">Note that the </span><span id="tz_185" class="t v0_185 s7_185">spring.profiles.active </span><span id="t10_185" class="t s6_185">property name contains the plural word </span><span id="t11_185" class="t s9_185">pro- </span>
<span id="t12_185" class="t s9_185">files</span><span id="t13_185" class="t s6_185">. This means you can specify more than one active profile. Often, this is with a </span>
<span id="t14_185" class="t s6_185">comma-separated list as when setting it with an environment variable, as shown here: </span>
<span id="t15_185" class="t s8_185">% export SPRING_PROFILES_ACTIVE=prod,audit,ha </span>
<span id="t16_185" class="t s6_185">But in YAML, you’d specify it as a list like this: </span>
<span id="t17_185" class="t s8_185">spring: </span>
<span id="t18_185" class="t s8_185">profiles: </span>
<span id="t19_185" class="t s8_185">active: </span>
<span id="t1a_185" class="t s8_185">- prod </span>
<span id="t1b_185" class="t s8_185">- audit </span>
<span id="t1c_185" class="t s8_185">- ha </span>
<span id="t1d_185" class="t s6_185">It’s also worth noting that if you deploy a Spring application to Cloud Foundry, a pro- </span>
<span id="t1e_185" class="t s6_185">file named </span><span id="t1f_185" class="t v0_185 s7_185">cloud </span><span id="t1g_185" class="t s6_185">is automatically activated for you. If Cloud Foundry is your produc- </span>
<span id="t1h_185" class="t s6_185">tion environment, you’ll want to be sure to specify production-specific properties </span>
<span id="t1i_185" class="t s6_185">under the </span><span id="t1j_185" class="t v0_185 s7_185">cloud </span><span id="t1k_185" class="t s6_185">profile. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
