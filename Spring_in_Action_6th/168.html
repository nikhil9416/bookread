<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p168" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_168{left:703px;bottom:960px;letter-spacing:-0.13px;}
#t2_168{left:319px;bottom:961px;letter-spacing:-0.11px;word-spacing:0.01px;}
#t3_168{left:156px;bottom:917px;letter-spacing:0.12px;word-spacing:1.25px;}
#t4_168{left:156px;bottom:898px;letter-spacing:0.12px;word-spacing:2.36px;}
#t5_168{left:156px;bottom:878px;letter-spacing:0.12px;word-spacing:0.25px;}
#t6_168{left:515px;bottom:878px;letter-spacing:0.22px;}
#t7_168{left:707px;bottom:878px;letter-spacing:0.13px;}
#t8_168{left:156px;bottom:858px;letter-spacing:0.1px;word-spacing:-0.17px;}
#t9_168{left:607px;bottom:858px;letter-spacing:0.22px;}
#ta_168{left:156px;bottom:838px;letter-spacing:0.22px;}
#tb_168{left:234px;bottom:838px;letter-spacing:0.11px;word-spacing:0.03px;}
#tc_168{left:179px;bottom:818px;letter-spacing:0.12px;word-spacing:0.6px;}
#td_168{left:156px;bottom:798px;letter-spacing:0.13px;word-spacing:2.38px;}
#te_168{left:156px;bottom:778px;letter-spacing:0.12px;word-spacing:-0.03px;}
#tf_168{left:156px;bottom:759px;letter-spacing:0.11px;word-spacing:0.41px;}
#tg_168{left:156px;bottom:739px;letter-spacing:0.12px;word-spacing:-0.04px;}
#th_168{left:101px;bottom:696px;letter-spacing:-0.54px;}
#ti_168{left:156px;bottom:696px;letter-spacing:0.03px;word-spacing:0.05px;}
#tj_168{left:156px;bottom:672px;letter-spacing:0.12px;word-spacing:0.32px;}
#tk_168{left:156px;bottom:652px;letter-spacing:0.12px;word-spacing:0.01px;}
#tl_168{left:180px;bottom:627px;}
#tm_168{left:198px;bottom:626px;letter-spacing:0.12px;word-spacing:-0.4px;}
#tn_168{left:272px;bottom:626px;letter-spacing:0.12px;word-spacing:-0.38px;}
#to_168{left:198px;bottom:607px;letter-spacing:0.13px;word-spacing:-0.28px;}
#tp_168{left:198px;bottom:587px;letter-spacing:0.12px;word-spacing:-0.04px;}
#tq_168{left:180px;bottom:566px;}
#tr_168{left:198px;bottom:565px;letter-spacing:0.09px;word-spacing:-0.03px;}
#ts_168{left:302px;bottom:565px;letter-spacing:0.11px;word-spacing:-0.02px;}
#tt_168{left:198px;bottom:545px;letter-spacing:0.12px;word-spacing:-0.04px;}
#tu_168{left:156px;bottom:518px;letter-spacing:0.12px;word-spacing:1.12px;}
#tv_168{left:156px;bottom:498px;letter-spacing:0.11px;word-spacing:4.95px;}
#tw_168{left:614px;bottom:498px;letter-spacing:0.21px;}
#tx_168{left:653px;bottom:498px;letter-spacing:0.13px;}
#ty_168{left:156px;bottom:478px;letter-spacing:0.12px;word-spacing:1.36px;}
#tz_168{left:156px;bottom:458px;letter-spacing:0.12px;word-spacing:2.72px;}
#t10_168{left:384px;bottom:459px;letter-spacing:0.24px;}
#t11_168{left:430px;bottom:458px;letter-spacing:0.13px;word-spacing:2.68px;}
#t12_168{left:597px;bottom:459px;letter-spacing:0.22px;}
#t13_168{left:682px;bottom:458px;letter-spacing:0.13px;word-spacing:2.72px;}
#t14_168{left:156px;bottom:439px;letter-spacing:0.13px;word-spacing:-0.04px;}
#t15_168{left:156px;bottom:405px;letter-spacing:0.14px;}
#t16_168{left:156px;bottom:390px;letter-spacing:0.14px;}
#t17_168{left:171px;bottom:375px;letter-spacing:0.13px;word-spacing:0.01px;}
#t18_168{left:200px;bottom:359px;letter-spacing:0.13px;}
#t19_168{left:200px;bottom:344px;letter-spacing:0.13px;}
#t1a_168{left:200px;bottom:329px;letter-spacing:0.14px;}
#t1b_168{left:200px;bottom:314px;letter-spacing:0.13px;}
#t1c_168{left:156px;bottom:298px;}
#t1d_168{left:156px;bottom:258px;letter-spacing:0.12px;word-spacing:1.34px;}
#t1e_168{left:222px;bottom:259px;letter-spacing:0.22px;}
#t1f_168{left:314px;bottom:258px;letter-spacing:0.09px;}
#t1g_168{left:344px;bottom:259px;letter-spacing:0.21px;}
#t1h_168{left:444px;bottom:258px;letter-spacing:0.14px;word-spacing:1.32px;}
#t1i_168{left:570px;bottom:259px;letter-spacing:0.21px;}
#t1j_168{left:623px;bottom:258px;letter-spacing:0.11px;word-spacing:1.44px;}
#t1k_168{left:156px;bottom:238px;letter-spacing:0.12px;word-spacing:-0.37px;}
#t1l_168{left:156px;bottom:219px;letter-spacing:0.12px;word-spacing:-0.02px;}
#t1m_168{left:485px;bottom:219px;letter-spacing:0.22px;}
#t1n_168{left:568px;bottom:219px;letter-spacing:0.12px;word-spacing:-0.02px;}
#t1o_168{left:156px;bottom:199px;letter-spacing:0.13px;word-spacing:-0.02px;}
#t1p_168{left:178px;bottom:179px;letter-spacing:0.12px;word-spacing:-0.01px;}
#t1q_168{left:156px;bottom:159px;letter-spacing:0.12px;word-spacing:0.89px;}
#t1r_168{left:605px;bottom:159px;letter-spacing:0.22px;}
#t1s_168{left:688px;bottom:159px;letter-spacing:0.15px;}
#t1t_168{left:156px;bottom:139px;letter-spacing:0.12px;word-spacing:-0.03px;}
#t1u_168{left:179px;bottom:119px;letter-spacing:0.13px;word-spacing:0.09px;}
#t1v_168{left:156px;bottom:99px;letter-spacing:0.11px;word-spacing:0.05px;}

.s1_168{font-size:14px;font-family:NewBaskerville-Bold_h-a;color:#000;}
.s2_168{font-size:14px;font-family:NewBaskerville-BoldItalic_h-c;color:#656565;}
.s3_168{font-size:15px;font-family:NewBaskerville-Roman_ib3;color:#252525;}
.s4_168{font-size:14px;font-family:Courier_h-e;color:#252525;}
.s5_168{font-size:19px;font-family:FranklinGothic-DemiItal_ib5;color:#476B85;}
.s6_168{font-size:13px;font-family:Wingdings2_hia;color:#CCA659;}
.s7_168{font-size:15px;font-family:NewBaskerville-Italic_ib2;color:#252525;}
.s8_168{font-size:12px;font-family:Courier_h-e;color:#252525;}
.t.v0_168{transform:scaleX(0.907);}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts168" type="text/css" >

@font-face {
	font-family: Courier_h-e;
	src: url("fonts/Courier_h-e.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-DemiItal_ib5;
	src: url("fonts/FranklinGothic-DemiItal_ib5.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_h-c;
	src: url("fonts/NewBaskerville-BoldItalic_h-c.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_h-a;
	src: url("fonts/NewBaskerville-Bold_h-a.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Italic_ib2;
	src: url("fonts/NewBaskerville-Italic_ib2.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ib3;
	src: url("fonts/NewBaskerville-Roman_ib3.woff") format("woff");
}

@font-face {
	font-family: Wingdings2_hia;
	src: url("fonts/Wingdings2_hia.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg168Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg168" style="-webkit-user-select: none;"><object width="811" height="1017" data="168/168.svg" type="image/svg+xml" id="pdf168" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_168" class="t s1_168">141 </span><span id="t2_168" class="t s2_168">Fine-tuning autoconfiguration </span>
<span id="t3_168" class="t s3_168">application context. Spring will inject values from one of several property sources— </span>
<span id="t4_168" class="t s3_168">including JVM system properties, command-line arguments, and environment vari- </span>
<span id="t5_168" class="t s3_168">ables—into the bean properties. We’ll see how to use </span><span id="t6_168" class="t v0_168 s4_168">@ConfigurationProperties </span><span id="t7_168" class="t s3_168">on </span>
<span id="t8_168" class="t s3_168">our own beans in section 6.2. But Spring Boot itself provides several </span><span id="t9_168" class="t v0_168 s4_168">@Configuration- </span>
<span id="ta_168" class="t v0_168 s4_168">Properties</span><span id="tb_168" class="t s3_168">-annotated beans that we’ll configure first. </span>
<span id="tc_168" class="t s3_168">In this chapter, you’re going to take a step back from implementing new features </span>
<span id="td_168" class="t s3_168">in the Taco Cloud application to explore configuration properties. What you take </span>
<span id="te_168" class="t s3_168">away will no doubt prove useful as you move forward in the chapters that follow. We’ll </span>
<span id="tf_168" class="t s3_168">start by seeing how to employ configuration properties to fine-tune what Spring Boot </span>
<span id="tg_168" class="t s3_168">automatically configures. </span>
<span id="th_168" class="t s5_168">6.1 </span><span id="ti_168" class="t s5_168">Fine-tuning autoconfiguration </span>
<span id="tj_168" class="t s3_168">Before we dive in too deeply with configuration properties, it’s important to establish </span>
<span id="tk_168" class="t s3_168">the following different (but related) kinds of configurations in Spring: </span>
<span id="tl_168" class="t s6_168"> </span><span id="tm_168" class="t s7_168">Bean wiring </span><span id="tn_168" class="t s3_168">—Configuration that declares application components to be created </span>
<span id="to_168" class="t s3_168">as beans in the Spring application context and how they should be injected into </span>
<span id="tp_168" class="t s3_168">each other </span>
<span id="tq_168" class="t s6_168"> </span><span id="tr_168" class="t s7_168">Property injection </span><span id="ts_168" class="t s3_168">—Configuration that sets values on beans in the Spring applica- </span>
<span id="tt_168" class="t s3_168">tion context </span>
<span id="tu_168" class="t s3_168">In Spring’s XML and Java configuration, these two types of configurations are often </span>
<span id="tv_168" class="t s3_168">declared explicitly in the same place. In Java configuration, a </span><span id="tw_168" class="t v0_168 s4_168">@Bean</span><span id="tx_168" class="t s3_168">-annotated </span>
<span id="ty_168" class="t s3_168">method is likely to both instantiate a bean and then set values to its properties. For </span>
<span id="tz_168" class="t s3_168">example, consider the following </span><span id="t10_168" class="t v0_168 s4_168">@Bean </span><span id="t11_168" class="t s3_168">method that declares a </span><span id="t12_168" class="t v0_168 s4_168">DataSource </span><span id="t13_168" class="t s3_168">for an </span>
<span id="t14_168" class="t s3_168">embedded H2 database: </span>
<span id="t15_168" class="t s8_168">@Bean </span>
<span id="t16_168" class="t s8_168">public DataSource dataSource() { </span>
<span id="t17_168" class="t s8_168">return new EmbeddedDatabaseBuilder() </span>
<span id="t18_168" class="t s8_168">.setType(H2) </span>
<span id="t19_168" class="t s8_168">.addScript("taco_schema.sql") </span>
<span id="t1a_168" class="t s8_168">.addScripts("user_data.sql", "ingredient_data.sql") </span>
<span id="t1b_168" class="t s8_168">.build(); </span>
<span id="t1c_168" class="t s8_168">} </span>
<span id="t1d_168" class="t s3_168">Here the </span><span id="t1e_168" class="t v0_168 s4_168">addScript() </span><span id="t1f_168" class="t s3_168">and </span><span id="t1g_168" class="t v0_168 s4_168">addScripts() </span><span id="t1h_168" class="t s3_168">methods set some </span><span id="t1i_168" class="t v0_168 s4_168">String </span><span id="t1j_168" class="t s3_168">properties with </span>
<span id="t1k_168" class="t s3_168">the name of SQL scripts that should be applied to the database once the data source is </span>
<span id="t1l_168" class="t s3_168">ready. Whereas this is how you might configure a </span><span id="t1m_168" class="t v0_168 s4_168">DataSource </span><span id="t1n_168" class="t s3_168">bean if you aren’t using </span>
<span id="t1o_168" class="t s3_168">Spring Boot, autoconfiguration makes this method completely unnecessary. </span>
<span id="t1p_168" class="t s3_168">If the H2 dependency is available in the runtime classpath, then Spring Boot auto- </span>
<span id="t1q_168" class="t s3_168">matically creates in the Spring application context an appropriate </span><span id="t1r_168" class="t v0_168 s4_168">DataSource </span><span id="t1s_168" class="t s3_168">bean, </span>
<span id="t1t_168" class="t s3_168">which applies the SQL scripts schema.sql and data.sql. </span>
<span id="t1u_168" class="t s3_168">But what if you want to name the SQL scripts something else? Or what if you need </span>
<span id="t1v_168" class="t s3_168">to specify more than two SQL scripts? That’s where configuration properties come in. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
