<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p352" style="overflow: hidden; position: relative; background-color: white; width: 662px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_352{left:57px;bottom:942px;letter-spacing:0.2px;}
#t2_352{left:72px;bottom:942px;}
#t3_352{left:76px;bottom:942px;}
#t4_352{left:84px;bottom:942px;letter-spacing:0.11px;word-spacing:2.9px;}
#t5_352{left:584px;bottom:942px;letter-spacing:0.2px;}
#t6_352{left:57px;bottom:799px;letter-spacing:0.05px;}
#t7_352{left:57px;bottom:781px;letter-spacing:0.05px;word-spacing:5.15px;}
#t8_352{left:287px;bottom:781px;letter-spacing:0.14px;word-spacing:4.49px;}
#t9_352{left:89px;bottom:763px;letter-spacing:0.1px;word-spacing:4.78px;}
#ta_352{left:89px;bottom:726px;letter-spacing:0.07px;word-spacing:4.92px;}
#tb_352{left:120px;bottom:708px;letter-spacing:0.09px;word-spacing:4.83px;}
#tc_352{left:120px;bottom:690px;letter-spacing:0.11px;word-spacing:4.76px;}
#td_352{left:120px;bottom:671px;letter-spacing:0.05px;word-spacing:4.86px;}
#te_352{left:152px;bottom:653px;letter-spacing:0.08px;word-spacing:5px;}
#tf_352{left:152px;bottom:635px;letter-spacing:0.11px;word-spacing:4.75px;}
#tg_352{left:120px;bottom:617px;letter-spacing:0.11px;word-spacing:4.79px;}
#th_352{left:89px;bottom:598px;}
#ti_352{left:89px;bottom:562px;letter-spacing:0.07px;word-spacing:4.88px;}
#tj_352{left:120px;bottom:543px;letter-spacing:0.11px;word-spacing:4.76px;}
#tk_352{left:120px;bottom:525px;letter-spacing:0.11px;word-spacing:4.76px;}
#tl_352{left:120px;bottom:507px;letter-spacing:0.05px;word-spacing:4.86px;}
#tm_352{left:152px;bottom:489px;letter-spacing:0.08px;word-spacing:5px;}
#tn_352{left:152px;bottom:470px;letter-spacing:0.09px;word-spacing:4.84px;}
#to_352{left:184px;bottom:452px;letter-spacing:0.07px;word-spacing:5.02px;}
#tp_352{left:152px;bottom:434px;letter-spacing:0.09px;word-spacing:4.97px;}
#tq_352{left:120px;bottom:416px;letter-spacing:0.11px;word-spacing:4.79px;}
#tr_352{left:120px;bottom:397px;letter-spacing:0.1px;word-spacing:4.97px;}
#ts_352{left:89px;bottom:379px;}
#tt_352{left:89px;bottom:343px;letter-spacing:0.06px;word-spacing:5px;}
#tu_352{left:120px;bottom:324px;letter-spacing:0.07px;word-spacing:4.96px;}
#tv_352{left:120px;bottom:306px;letter-spacing:0.09px;word-spacing:4.89px;}
#tw_352{left:120px;bottom:270px;letter-spacing:0.09px;word-spacing:4.85px;}
#tx_352{left:152px;bottom:251px;letter-spacing:0.11px;word-spacing:4.74px;}
#ty_352{left:120px;bottom:233px;}
#tz_352{left:89px;bottom:215px;}
#t10_352{left:57px;bottom:196px;}
#t11_352{left:82px;bottom:167px;}
#t12_352{left:91px;bottom:167px;letter-spacing:0.15px;word-spacing:0.24px;}
#t13_352{left:154px;bottom:167px;}
#t14_352{left:158px;bottom:167px;}
#t15_352{left:165px;bottom:167px;letter-spacing:0.07px;word-spacing:0.84px;}
#t16_352{left:542px;bottom:167px;letter-spacing:0.2px;}
#t17_352{left:573px;bottom:167px;letter-spacing:0.13px;}

.s0_352{font-size:15px;font-family:TeXPalladioL-ItalicOsF_amn;color:#000;}
.s1_352{font-size:15px;font-family:Palatino-Italic_amd;color:#000;}
.s2_352{font-size:15px;font-family:TeXPalladioL-SC_amc;color:#000;}
.s3_352{font-size:13px;font-family:LucidaSansTypewriter_amm;color:#000;}
.s4_352{font-size:15px;font-family:Palatino-Roman_ame;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts352" type="text/css" >

@font-face {
	font-family: LucidaSansTypewriter_amm;
	src: url("fonts/LucidaSansTypewriter_amm.woff") format("woff");
}

@font-face {
	font-family: Palatino-Italic_amd;
	src: url("fonts/Palatino-Italic_amd.woff") format("woff");
}

@font-face {
	font-family: Palatino-Roman_ame;
	src: url("fonts/Palatino-Roman_ame.woff") format("woff");
}

@font-face {
	font-family: TeXPalladioL-ItalicOsF_amn;
	src: url("fonts/TeXPalladioL-ItalicOsF_amn.woff") format("woff");
}

@font-face {
	font-family: TeXPalladioL-SC_amc;
	src: url("fonts/TeXPalladioL-SC_amc.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg352Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg352" style="-webkit-user-select: none;"><object width="662" height="1017" data="352/352.svg" type="image/svg+xml" id="pdf352" style="width:662px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_352" class="t s0_352">15</span><span id="t2_352" class="t s1_352">.</span><span id="t3_352" class="t s0_352">4</span><span id="t4_352" class="t s1_352">. Nonblocking algorithms </span><span id="t5_352" class="t s2_352">331 </span>
<span id="t6_352" class="t s3_352">@ThreadSafe </span>
<span id="t7_352" class="t s3_352">public class ConcurrentStack </span><span id="t8_352" class="t s3_352">&lt;E&gt; { </span>
<span id="t9_352" class="t s3_352">AtomicReference&lt;Node&lt;E&gt;&gt; top = new AtomicReference&lt;Node&lt;E&gt;&gt;(); </span>
<span id="ta_352" class="t s3_352">public void push(E item) { </span>
<span id="tb_352" class="t s3_352">Node&lt;E&gt; newHead = new Node&lt;E&gt;(item); </span>
<span id="tc_352" class="t s3_352">Node&lt;E&gt; oldHead; </span>
<span id="td_352" class="t s3_352">do { </span>
<span id="te_352" class="t s3_352">oldHead = top.get(); </span>
<span id="tf_352" class="t s3_352">newHead.next = oldHead; </span>
<span id="tg_352" class="t s3_352">} while (!top.compareAndSet(oldHead, newHead)); </span>
<span id="th_352" class="t s3_352">} </span>
<span id="ti_352" class="t s3_352">public E pop() { </span>
<span id="tj_352" class="t s3_352">Node&lt;E&gt; oldHead; </span>
<span id="tk_352" class="t s3_352">Node&lt;E&gt; newHead; </span>
<span id="tl_352" class="t s3_352">do { </span>
<span id="tm_352" class="t s3_352">oldHead = top.get(); </span>
<span id="tn_352" class="t s3_352">if (oldHead == null) </span>
<span id="to_352" class="t s3_352">return null; </span>
<span id="tp_352" class="t s3_352">newHead = oldHead.next; </span>
<span id="tq_352" class="t s3_352">} while (!top.compareAndSet(oldHead, newHead)); </span>
<span id="tr_352" class="t s3_352">return oldHead.item; </span>
<span id="ts_352" class="t s3_352">} </span>
<span id="tt_352" class="t s3_352">private static class Node &lt;E&gt; { </span>
<span id="tu_352" class="t s3_352">public final E item; </span>
<span id="tv_352" class="t s3_352">public Node&lt;E&gt; next; </span>
<span id="tw_352" class="t s3_352">public Node(E item) { </span>
<span id="tx_352" class="t s3_352">this.item = item; </span>
<span id="ty_352" class="t s3_352">} </span>
<span id="tz_352" class="t s3_352">} </span>
<span id="t10_352" class="t s3_352">} </span>
<span id="t11_352" class="t s4_352">L</span><span id="t12_352" class="t s2_352">isting 15</span><span id="t13_352" class="t s4_352">.</span><span id="t14_352" class="t s2_352">6</span><span id="t15_352" class="t s4_352">. Nonblocking stack using Treiberâ€™s algorithm (Treiber, </span><span id="t16_352" class="t s2_352">1986</span><span id="t17_352" class="t s4_352">). </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
