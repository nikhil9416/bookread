<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p192" style="overflow: hidden; position: relative; background-color: white; width: 909px; height: 1286px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_192{left:450px;bottom:46px;letter-spacing:-0.13px;}
#t2_192{left:93px;bottom:1189px;}
#t3_192{left:120px;bottom:1189px;letter-spacing:0.01px;word-spacing:2.41px;}
#t4_192{left:771px;bottom:1188px;letter-spacing:0.18px;}
#t5_192{left:120px;bottom:1159px;letter-spacing:0.01px;word-spacing:2.44px;}
#t6_192{left:120px;bottom:1130px;letter-spacing:0.01px;word-spacing:-0.05px;}
#t7_192{left:65px;bottom:1071px;letter-spacing:0.22px;word-spacing:-0.16px;}
#t8_192{left:65px;bottom:1009px;letter-spacing:0.16px;word-spacing:5.32px;}
#t9_192{left:65px;bottom:980px;letter-spacing:0.14px;word-spacing:0.31px;}
#ta_192{left:65px;bottom:951px;letter-spacing:0.14px;word-spacing:1.66px;}
#tb_192{left:65px;bottom:922px;letter-spacing:0.14px;word-spacing:-0.09px;}
#tc_192{left:93px;bottom:873px;}
#td_192{left:120px;bottom:872px;letter-spacing:0.23px;}
#te_192{left:239px;bottom:873px;}
#tf_192{left:252px;bottom:873px;letter-spacing:0.01px;word-spacing:2.94px;}
#tg_192{left:120px;bottom:844px;letter-spacing:0.01px;word-spacing:-0.04px;}
#th_192{left:93px;bottom:815px;}
#ti_192{left:120px;bottom:814px;letter-spacing:0.23px;}
#tj_192{left:248px;bottom:815px;}
#tk_192{left:262px;bottom:815px;letter-spacing:0.03px;}
#tl_192{left:294px;bottom:814px;letter-spacing:0.18px;}
#tm_192{left:399px;bottom:815px;letter-spacing:0.01px;word-spacing:0.62px;}
#tn_192{left:120px;bottom:785px;letter-spacing:0.01px;word-spacing:1.13px;}
#to_192{left:120px;bottom:756px;letter-spacing:0.23px;}
#tp_192{left:239px;bottom:757px;letter-spacing:0.01px;word-spacing:3.36px;}
#tq_192{left:120px;bottom:727px;letter-spacing:0.02px;}
#tr_192{left:93px;bottom:699px;}
#ts_192{left:120px;bottom:698px;letter-spacing:0.2px;}
#tt_192{left:284px;bottom:699px;}
#tu_192{left:298px;bottom:699px;word-spacing:2.72px;}
#tv_192{left:120px;bottom:669px;word-spacing:0.25px;}
#tw_192{left:120px;bottom:640px;letter-spacing:0.02px;word-spacing:3.43px;}
#tx_192{left:120px;bottom:612px;letter-spacing:0.01px;}
#ty_192{left:212px;bottom:611px;}
#tz_192{left:229px;bottom:612px;letter-spacing:0.01px;word-spacing:-0.09px;}
#t10_192{left:318px;bottom:611px;}
#t11_192{left:331px;bottom:612px;}
#t12_192{left:65px;bottom:560px;letter-spacing:0.19px;}
#t13_192{left:109px;bottom:560px;letter-spacing:0.16px;}
#t14_192{left:248px;bottom:560px;letter-spacing:0.15px;}
#t15_192{left:343px;bottom:560px;letter-spacing:0.12px;}
#t16_192{left:374px;bottom:560px;letter-spacing:0.16px;}
#t17_192{left:410px;bottom:560px;letter-spacing:0.08px;}
#t18_192{left:437px;bottom:560px;letter-spacing:0.2px;}
#t19_192{left:620px;bottom:560px;letter-spacing:0.17px;}
#t1a_192{left:697px;bottom:560px;letter-spacing:0.18px;}
#t1b_192{left:736px;bottom:560px;letter-spacing:0.1px;}
#t1c_192{left:780px;bottom:560px;letter-spacing:0.17px;}
#t1d_192{left:832px;bottom:560px;letter-spacing:0.24px;}
#t1e_192{left:65px;bottom:531px;letter-spacing:0.15px;word-spacing:1px;}
#t1f_192{left:65px;bottom:502px;letter-spacing:0.16px;word-spacing:1.77px;}
#t1g_192{left:65px;bottom:473px;letter-spacing:0.16px;word-spacing:2.88px;}
#t1h_192{left:65px;bottom:444px;letter-spacing:0.15px;word-spacing:1.75px;}
#t1i_192{left:65px;bottom:415px;letter-spacing:0.14px;word-spacing:-0.12px;}
#t1j_192{left:65px;bottom:357px;letter-spacing:0.21px;word-spacing:0.05px;}
#t1k_192{left:65px;bottom:295px;letter-spacing:0.15px;word-spacing:0.94px;}
#t1l_192{left:65px;bottom:266px;letter-spacing:0.15px;word-spacing:0.85px;}
#t1m_192{left:65px;bottom:237px;letter-spacing:0.16px;}
#t1n_192{left:390px;bottom:3px;letter-spacing:0.13px;}

.s1_192{font-size:14px;font-family:TimesNewRomanPSMT_g;color:#000;}
.s2_192{font-size:15px;font-family:SymbolMT_a5;color:#000;}
.s3_192{font-size:16px;font-family:Georgia_11;color:#000;}
.s4_192{font-size:18px;font-family:Georgia_11;color:#000;}
.s5_192{font-size:21px;font-family:Georgia-Bold_l;color:#000;}
.s6_192{font-size:16px;font-family:Georgia-Italic_16;color:#000;}
.s7_192{font-size:15px;font-family:Helvetica, Arial, sans-serif;color:#00F;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts192" type="text/css" >

@font-face {
	font-family: Georgia-Bold_l;
	src: url("fonts/Georgia-Bold_l.woff") format("woff");
}

@font-face {
	font-family: Georgia-Italic_16;
	src: url("fonts/Georgia-Italic_16.woff") format("woff");
}

@font-face {
	font-family: Georgia_11;
	src: url("fonts/Georgia_11.woff") format("woff");
}

@font-face {
	font-family: SymbolMT_a5;
	src: url("fonts/SymbolMT_a5.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPSMT_g;
	src: url("fonts/TimesNewRomanPSMT_g.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg192Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg192" style="-webkit-user-select: none;"><object width="909" height="1286" data="192/192.svg" type="image/svg+xml" id="pdf192" style="width:909px; height:1286px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_192" class="t s1_192">192 </span>
<span id="t2_192" class="t s2_192"> </span><span id="t3_192" class="t s3_192">Finally, all the partial results are combined pairwise using the function returned by the </span><span id="t4_192" class="t s4_192">combiner </span>
<span id="t5_192" class="t s3_192">method of the collector. This is done by combining results corresponding to substreams associated </span>
<span id="t6_192" class="t s3_192">with each split of the original stream. </span>
<span id="t7_192" class="t s5_192">Characteristics method </span>
<span id="t8_192" class="t s4_192">The last method, characteristics, returns an immutable set of Characteristics, defining the </span>
<span id="t9_192" class="t s4_192">behavior of the collector—in particular providing hints about whether the stream can be reduced </span>
<span id="ta_192" class="t s4_192">in parallel and which optimizations are valid when doing so. Characteristics is an enumeration </span>
<span id="tb_192" class="t s4_192">containing three items: </span>
<span id="tc_192" class="t s2_192"> </span><span id="td_192" class="t s4_192">UNORDERED</span><span id="te_192" class="t s6_192">—</span><span id="tf_192" class="t s3_192">The result of the reduction isn’t affected by the order in which the items in the </span>
<span id="tg_192" class="t s3_192">stream are traversed and accumulated. </span>
<span id="th_192" class="t s2_192"> </span><span id="ti_192" class="t s4_192">CONCURRENT</span><span id="tj_192" class="t s6_192">—</span><span id="tk_192" class="t s3_192">The </span><span id="tl_192" class="t s4_192">accumulator </span><span id="tm_192" class="t s3_192">function can be called concurrently from multiple threads, and </span>
<span id="tn_192" class="t s3_192">then this collector can perform a parallel reduction of the stream. If the collector isn’t also flagged as </span>
<span id="to_192" class="t s4_192">UNORDERED</span><span id="tp_192" class="t s3_192">, it can perform a parallel reduction only when it’s applied to an unordered data </span>
<span id="tq_192" class="t s3_192">source. </span>
<span id="tr_192" class="t s2_192"> </span><span id="ts_192" class="t s4_192">IDENTITY_FINISH</span><span id="tt_192" class="t s6_192">—</span><span id="tu_192" class="t s3_192">This indicates the function returned by the finisher method is the identity </span>
<span id="tv_192" class="t s3_192">one, and its application can be omitted. In this case, the accumulator object is directly used as the final </span>
<span id="tw_192" class="t s3_192">result of the reduction process. This also implies that it’s safe to do an unchecked cast from the </span>
<span id="tx_192" class="t s3_192">accumulator </span><span id="ty_192" class="t s4_192">A </span><span id="tz_192" class="t s3_192">to the result </span><span id="t10_192" class="t s4_192">R</span><span id="t11_192" class="t s3_192">. </span>
<span id="t12_192" class="t s4_192">The </span><span id="t13_192" class="t s4_192">ToListCollector </span><span id="t14_192" class="t s4_192">developed </span><span id="t15_192" class="t s4_192">so </span><span id="t16_192" class="t s4_192">far </span><span id="t17_192" class="t s4_192">is </span><span id="t18_192" class="t s4_192">IDENTITY_FINISH, </span><span id="t19_192" class="t s4_192">because </span><span id="t1a_192" class="t s4_192">the </span><span id="t1b_192" class="t s4_192">List </span><span id="t1c_192" class="t s4_192">used </span><span id="t1d_192" class="t s4_192">to </span>
<span id="t1e_192" class="t s4_192">accumulate the elements in the stream is already the expected final result and doesn’t need any </span>
<span id="t1f_192" class="t s4_192">further transformation, but it isn’t UNORDERED because if you apply it to an ordered stream </span>
<span id="t1g_192" class="t s4_192">you want this ordering to be preserved in the resulting List. Finally, it’s CONCURRENT, but </span>
<span id="t1h_192" class="t s4_192">following what we just said, the stream will be processed in parallel only if its underlying data </span>
<span id="t1i_192" class="t s4_192">source is unordered. </span>
<span id="t1j_192" class="t s5_192">6.5.2. Putting them all together </span>
<span id="t1k_192" class="t s4_192">The five methods analyzed in the preceding subsection are everything you need to develop your </span>
<span id="t1l_192" class="t s4_192">own ToListCollector, so you can implement it by putting all of them together, as the next listing </span>
<span id="t1m_192" class="t s4_192">shows. </span>
<span id="t1n_192" class="t s7_192">www.it-ebooks.info </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
