<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p313" style="overflow: hidden; position: relative; background-color: white; width: 909px; height: 1286px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_313{left:450px;bottom:46px;letter-spacing:-0.13px;}
#t2_313{left:65px;bottom:1188px;letter-spacing:0.16px;word-spacing:4.46px;}
#t3_313{left:65px;bottom:1159px;letter-spacing:0.15px;word-spacing:-0.16px;}
#t4_313{left:93px;bottom:1109px;}
#t5_313{left:120px;bottom:1109px;letter-spacing:0.01px;word-spacing:3.06px;}
#t6_313{left:120px;bottom:1080px;letter-spacing:0.01px;word-spacing:-0.1px;}
#t7_313{left:93px;bottom:1052px;}
#t8_313{left:120px;bottom:1051px;letter-spacing:0.01px;word-spacing:-0.07px;}
#t9_313{left:547px;bottom:1050px;letter-spacing:0.19px;}
#ta_313{left:602px;bottom:1051px;}
#tb_313{left:93px;bottom:1023px;}
#tc_313{left:120px;bottom:1022px;word-spacing:2.78px;}
#td_313{left:598px;bottom:1021px;letter-spacing:0.19px;}
#te_313{left:653px;bottom:1022px;letter-spacing:0.02px;word-spacing:2.76px;}
#tf_313{left:120px;bottom:993px;word-spacing:-0.03px;}
#tg_313{left:93px;bottom:965px;}
#th_313{left:120px;bottom:964px;letter-spacing:0.02px;word-spacing:0.61px;}
#ti_313{left:348px;bottom:963px;letter-spacing:0.19px;}
#tj_313{left:407px;bottom:964px;letter-spacing:0.02px;word-spacing:0.55px;}
#tk_313{left:120px;bottom:935px;letter-spacing:0.01px;}
#tl_313{left:93px;bottom:907px;}
#tm_313{left:120px;bottom:906px;word-spacing:3.47px;}
#tn_313{left:227px;bottom:905px;letter-spacing:0.19px;}
#to_313{left:289px;bottom:906px;word-spacing:3.57px;}
#tp_313{left:120px;bottom:877px;letter-spacing:0.01px;word-spacing:0.9px;}
#tq_313{left:610px;bottom:876px;letter-spacing:0.19px;}
#tr_313{left:665px;bottom:877px;letter-spacing:0.01px;word-spacing:0.86px;}
#ts_313{left:120px;bottom:848px;letter-spacing:-0.01px;word-spacing:-0.01px;}
#tt_313{left:65px;bottom:797px;letter-spacing:0.16px;word-spacing:0.18px;}
#tu_313{left:65px;bottom:768px;letter-spacing:0.14px;word-spacing:0.24px;}
#tv_313{left:65px;bottom:739px;letter-spacing:0.16px;word-spacing:0.88px;}
#tw_313{left:65px;bottom:710px;letter-spacing:0.16px;word-spacing:2.7px;}
#tx_313{left:65px;bottom:681px;letter-spacing:0.14px;word-spacing:-0.13px;}
#ty_313{left:65px;bottom:622px;letter-spacing:0.22px;word-spacing:0.05px;}
#tz_313{left:65px;bottom:560px;letter-spacing:0.16px;word-spacing:2.38px;}
#t10_313{left:65px;bottom:531px;letter-spacing:0.15px;word-spacing:2.32px;}
#t11_313{left:65px;bottom:502px;letter-spacing:0.14px;word-spacing:-0.1px;}
#t12_313{left:93px;bottom:453px;}
#t13_313{left:120px;bottom:452px;word-spacing:1.04px;}
#t14_313{left:120px;bottom:423px;word-spacing:-0.06px;}
#t15_313{left:93px;bottom:395px;}
#t16_313{left:120px;bottom:394px;letter-spacing:0.02px;word-spacing:1.52px;}
#t17_313{left:120px;bottom:365px;letter-spacing:0.01px;word-spacing:2.13px;}
#t18_313{left:120px;bottom:336px;letter-spacing:0.01px;word-spacing:3.87px;}
#t19_313{left:120px;bottom:307px;letter-spacing:0.01px;word-spacing:1.72px;}
#t1a_313{left:120px;bottom:278px;word-spacing:3.25px;}
#t1b_313{left:120px;bottom:249px;letter-spacing:0.01px;word-spacing:-0.07px;}
#t1c_313{left:93px;bottom:221px;}
#t1d_313{left:120px;bottom:220px;letter-spacing:0.01px;word-spacing:2.94px;}
#t1e_313{left:120px;bottom:191px;letter-spacing:0.01px;word-spacing:3.4px;}
#t1f_313{left:120px;bottom:162px;word-spacing:1.02px;}
#t1g_313{left:120px;bottom:133px;letter-spacing:0.01px;word-spacing:0.24px;}
#t1h_313{left:120px;bottom:104px;word-spacing:-0.04px;}
#t1i_313{left:390px;bottom:3px;letter-spacing:0.13px;}

.s1_313{font-size:14px;font-family:TimesNewRomanPSMT_390;color:#000;}
.s2_313{font-size:18px;font-family:Georgia_397;color:#000;}
.s3_313{font-size:15px;font-family:SymbolMT_3cv;color:#000;}
.s4_313{font-size:16px;font-family:Georgia_397;color:#000;}
.s5_313{font-size:21px;font-family:Georgia-Bold_391;color:#000;}
.s6_313{font-size:15px;font-family:Helvetica, Arial, sans-serif;color:#00F;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts313" type="text/css" >

@font-face {
	font-family: Georgia-Bold_391;
	src: url("fonts/Georgia-Bold_391.woff") format("woff");
}

@font-face {
	font-family: Georgia_397;
	src: url("fonts/Georgia_397.woff") format("woff");
}

@font-face {
	font-family: SymbolMT_3cv;
	src: url("fonts/SymbolMT_3cv.woff") format("woff");
}

@font-face {
	font-family: TimesNewRomanPSMT_390;
	src: url("fonts/TimesNewRomanPSMT_390.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg313Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg313" style="-webkit-user-select: none;"><object width="909" height="1286" data="313/313.svg" type="image/svg+xml" id="pdf313" style="width:909px; height:1286px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_313" class="t s1_313">313 </span>
<span id="t2_313" class="t s2_313">from another query.” But implementing this with the operations available in a Future is a </span>
<span id="t3_313" class="t s2_313">different story. This is why more declarative features would be useful, such as these: </span>
<span id="t4_313" class="t s3_313"> </span><span id="t5_313" class="t s4_313">Combining two asynchronous computations in one—both when they’re independent and when the </span>
<span id="t6_313" class="t s4_313">second depends on the result of the first </span>
<span id="t7_313" class="t s3_313"> </span><span id="t8_313" class="t s4_313">Waiting for the completion of all tasks performed by a set of </span><span id="t9_313" class="t s2_313">Future</span><span id="ta_313" class="t s4_313">s </span>
<span id="tb_313" class="t s3_313"> </span><span id="tc_313" class="t s4_313">Waiting for the completion of only the quickest task in a set of </span><span id="td_313" class="t s2_313">Future</span><span id="te_313" class="t s4_313">s (possibly because they’re </span>
<span id="tf_313" class="t s4_313">trying to calculate the same value in different ways) and retrieving its result </span>
<span id="tg_313" class="t s3_313"> </span><span id="th_313" class="t s4_313">Programmatically completing a </span><span id="ti_313" class="t s2_313">Future </span><span id="tj_313" class="t s4_313">(that is, by manually providing the result of the asynchronous </span>
<span id="tk_313" class="t s4_313">operation) </span>
<span id="tl_313" class="t s3_313"> </span><span id="tm_313" class="t s4_313">Reacting to a </span><span id="tn_313" class="t s2_313">Future </span><span id="to_313" class="t s4_313">completion (that is, being notified when the completion happens and then </span>
<span id="tp_313" class="t s4_313">having the ability to perform a further action using the result of the </span><span id="tq_313" class="t s2_313">Future</span><span id="tr_313" class="t s4_313">, instead of being blocked </span>
<span id="ts_313" class="t s4_313">waiting for its result) </span>
<span id="tt_313" class="t s2_313">In this chapter, you’ll learn how the new CompletableFuture class (which implements the Future </span>
<span id="tu_313" class="t s2_313">interface) makes all of this possible in a declarative way using Java 8’s new features. The designs </span>
<span id="tv_313" class="t s2_313">of Stream and CompletableFuture follow similar patterns: both use lambda expressions and the </span>
<span id="tw_313" class="t s2_313">idea of pipelining. For this reason you could say that CompletableFuture is to a plain Future </span>
<span id="tx_313" class="t s2_313">what Stream is to a Collection. </span>
<span id="ty_313" class="t s5_313">11.1.2. Using CompletableFutures to build an asynchronous application </span>
<span id="tz_313" class="t s2_313">To demonstrate the CompletableFuture features, we incrementally develop a best-price-finder </span>
<span id="t10_313" class="t s2_313">application that contacts multiple online shops to find the lowest price for a given product or </span>
<span id="t11_313" class="t s2_313">service. Along the way, you’ll learn several important skills: </span>
<span id="t12_313" class="t s3_313"> </span><span id="t13_313" class="t s4_313">First, you’ll learn how to provide an asynchronous API for your customers (useful if you’re the owner </span>
<span id="t14_313" class="t s4_313">of one of the online shops). </span>
<span id="t15_313" class="t s3_313"> </span><span id="t16_313" class="t s4_313">Second, you’ll learn how to make your code non-blocking when you’re a consumer of a synchronous </span>
<span id="t17_313" class="t s4_313">API. You’ll discover how to pipeline two subsequent asynchronous operations, merging them into a </span>
<span id="t18_313" class="t s4_313">single asynchronous computation. This situation would arise, for example, when the online shop </span>
<span id="t19_313" class="t s4_313">returns a discount code along with the original price of the item you wanted to buy—so you have to </span>
<span id="t1a_313" class="t s4_313">contact a second remote discount service to find out the percentage discount associated with this </span>
<span id="t1b_313" class="t s4_313">discount code before finally calculating the actual price of that item. </span>
<span id="t1c_313" class="t s3_313"> </span><span id="t1d_313" class="t s4_313">You’ll also learn how to reactively process events representing the completion of an asynchronous </span>
<span id="t1e_313" class="t s4_313">operation and how that allows the best-price-finder application to constantly update the best-buy </span>
<span id="t1f_313" class="t s4_313">quote for the item you want to buy as each shop returns its price, instead of having to wait for all the </span>
<span id="t1g_313" class="t s4_313">shops to return their respective quotes (which also risks giving the user a blank screen forever if one of </span>
<span id="t1h_313" class="t s4_313">the shops’ servers is down). </span>
<span id="t1i_313" class="t s6_313">www.it-ebooks.info </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
