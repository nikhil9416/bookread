<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p447" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_447{left:544px;bottom:947px;letter-spacing:1.63px;}
#t2_447{left:585px;bottom:947px;letter-spacing:1.67px;}
#t3_447{left:681px;bottom:946px;letter-spacing:-0.17px;}
#t4_447{left:106px;bottom:893px;}
#t5_447{left:121px;bottom:893px;letter-spacing:0.04px;word-spacing:3.09px;}
#t6_447{left:404px;bottom:893px;letter-spacing:0.1px;word-spacing:2.72px;}
#t7_447{left:121px;bottom:874px;letter-spacing:0.03px;word-spacing:2.68px;}
#t8_447{left:121px;bottom:856px;letter-spacing:0.04px;word-spacing:3.27px;}
#t9_447{left:121px;bottom:838px;letter-spacing:0.1px;word-spacing:3.57px;}
#ta_447{left:121px;bottom:819px;letter-spacing:0.03px;word-spacing:3.54px;}
#tb_447{left:121px;bottom:801px;letter-spacing:0.1px;word-spacing:1.29px;}
#tc_447{left:121px;bottom:777px;letter-spacing:0.07px;word-spacing:1.46px;}
#td_447{left:121px;bottom:759px;letter-spacing:0.07px;word-spacing:2.3px;}
#te_447{left:121px;bottom:740px;letter-spacing:0.11px;word-spacing:3.27px;}
#tf_447{left:121px;bottom:722px;}
#tg_447{left:140px;bottom:722px;letter-spacing:0.09px;}
#th_447{left:184px;bottom:722px;letter-spacing:0.09px;word-spacing:3.75px;}
#ti_447{left:121px;bottom:704px;letter-spacing:0.09px;word-spacing:1.52px;}
#tj_447{left:121px;bottom:686px;}
#tk_447{left:133px;bottom:686px;}
#tl_447{left:139px;bottom:686px;}
#tm_447{left:150px;bottom:686px;letter-spacing:0.08px;}
#tn_447{left:165px;bottom:686px;}
#to_447{left:174px;bottom:686px;letter-spacing:0.09px;word-spacing:1.29px;}
#tp_447{left:121px;bottom:667px;letter-spacing:0.09px;word-spacing:-0.13px;}
#tq_447{left:121px;bottom:649px;letter-spacing:0.07px;word-spacing:1.33px;}
#tr_447{left:106px;bottom:619px;}
#ts_447{left:121px;bottom:619px;letter-spacing:0.06px;word-spacing:0.34px;}
#tt_447{left:358px;bottom:619px;letter-spacing:0.05px;word-spacing:-0.12px;}
#tu_447{left:121px;bottom:600px;letter-spacing:0.07px;word-spacing:3.3px;}
#tv_447{left:121px;bottom:582px;letter-spacing:0.09px;word-spacing:1.18px;}
#tw_447{left:229px;bottom:582px;}
#tx_447{left:241px;bottom:582px;}
#ty_447{left:247px;bottom:582px;}
#tz_447{left:258px;bottom:582px;letter-spacing:0.08px;}
#t10_447{left:273px;bottom:582px;}
#t11_447{left:282px;bottom:582px;letter-spacing:0.1px;word-spacing:1.16px;}
#t12_447{left:121px;bottom:564px;letter-spacing:0.08px;word-spacing:1.31px;}
#t13_447{left:138px;bottom:533px;}
#t14_447{left:154px;bottom:533px;letter-spacing:-0.03px;word-spacing:1.77px;}
#t15_447{left:441px;bottom:533px;letter-spacing:0.07px;word-spacing:1.19px;}
#t16_447{left:154px;bottom:515px;letter-spacing:0.11px;word-spacing:1.26px;}
#t17_447{left:138px;bottom:491px;}
#t18_447{left:154px;bottom:491px;letter-spacing:0.1px;word-spacing:1.88px;}
#t19_447{left:444px;bottom:491px;letter-spacing:0.07px;word-spacing:1.59px;}
#t1a_447{left:154px;bottom:472px;letter-spacing:0.09px;word-spacing:1.24px;}
#t1b_447{left:318px;bottom:472px;letter-spacing:0.1px;}
#t1c_447{left:365px;bottom:472px;letter-spacing:0.09px;}
#t1d_447{left:383px;bottom:472px;letter-spacing:0.09px;word-spacing:1.59px;}
#t1e_447{left:495px;bottom:472px;letter-spacing:0.04px;word-spacing:1.35px;}
#t1f_447{left:154px;bottom:454px;letter-spacing:0.05px;word-spacing:1.3px;}
#t1g_447{left:154px;bottom:436px;letter-spacing:0.06px;word-spacing:0.97px;}
#t1h_447{left:154px;bottom:418px;letter-spacing:0.02px;word-spacing:3.4px;}
#t1i_447{left:154px;bottom:399px;letter-spacing:0.09px;word-spacing:1.08px;}
#t1j_447{left:154px;bottom:381px;letter-spacing:-0.07px;}
#t1k_447{left:138px;bottom:357px;}
#t1l_447{left:154px;bottom:357px;letter-spacing:-0.06px;word-spacing:2.15px;}
#t1m_447{left:458px;bottom:357px;letter-spacing:0.04px;word-spacing:1.59px;}
#t1n_447{left:154px;bottom:338px;letter-spacing:0.05px;word-spacing:0.94px;}
#t1o_447{left:154px;bottom:320px;letter-spacing:0.02px;word-spacing:2.19px;}
#t1p_447{left:154px;bottom:302px;letter-spacing:0.08px;word-spacing:0.97px;}
#t1q_447{left:154px;bottom:284px;letter-spacing:0.01px;word-spacing:1.56px;}
#t1r_447{left:154px;bottom:265px;letter-spacing:0.08px;}
#t1s_447{left:154px;bottom:244px;letter-spacing:0.07px;word-spacing:1.67px;}
#t1t_447{left:154px;bottom:226px;letter-spacing:0.07px;word-spacing:2.62px;}
#t1u_447{left:499px;bottom:226px;}
#t1v_447{left:511px;bottom:226px;}
#t1w_447{left:517px;bottom:226px;}
#t1x_447{left:529px;bottom:226px;letter-spacing:0.08px;}
#t1y_447{left:543px;bottom:226px;}
#t1z_447{left:552px;bottom:226px;letter-spacing:0.1px;word-spacing:2.57px;}
#t20_447{left:154px;bottom:208px;letter-spacing:0.03px;word-spacing:1.43px;}
#t21_447{left:138px;bottom:183px;}
#t22_447{left:154px;bottom:183px;letter-spacing:0.07px;word-spacing:2.88px;}
#t23_447{left:435px;bottom:183px;letter-spacing:0.01px;word-spacing:2.72px;}
#t24_447{left:154px;bottom:165px;letter-spacing:-0.26px;word-spacing:2.09px;}
#t25_447{left:205px;bottom:165px;letter-spacing:0.12px;}
#t26_447{left:222px;bottom:165px;letter-spacing:0.03px;word-spacing:1.53px;}
#t27_447{left:540px;bottom:165px;}
#t28_447{left:549px;bottom:165px;letter-spacing:0.09px;word-spacing:1.41px;}
#t29_447{left:154px;bottom:147px;letter-spacing:0.09px;word-spacing:2.87px;}
#t2a_447{left:400px;bottom:147px;}
#t2b_447{left:409px;bottom:147px;letter-spacing:0.06px;word-spacing:2.93px;}
#t2c_447{left:154px;bottom:128px;letter-spacing:0.09px;word-spacing:1.78px;}
#t2d_447{left:154px;bottom:110px;letter-spacing:0.11px;word-spacing:1.24px;}

.s1_447{font-size:12px;font-family:CMR8_dy;color:#000;}
.s2_447{font-size:14px;font-family:CMBX10_e1;color:#000;}
.s3_447{font-size:15px;font-family:CMSY10_f9;color:#000;}
.s4_447{font-size:15px;font-family:CMTI10_fd;color:#000;}
.s5_447{font-size:15px;font-family:CMR10_fh;color:#000;}
.s6_447{font-size:15px;font-family:CMMI10_ib;color:#000;}
.s7_447{font-size:15px;font-family:CMBX10_e1;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts447" type="text/css" >

@font-face {
	font-family: CMBX10_e1;
	src: url("fonts/CMBX10_e1.woff") format("woff");
}

@font-face {
	font-family: CMMI10_ib;
	src: url("fonts/CMMI10_ib.woff") format("woff");
}

@font-face {
	font-family: CMR10_fh;
	src: url("fonts/CMR10_fh.woff") format("woff");
}

@font-face {
	font-family: CMR8_dy;
	src: url("fonts/CMR8_dy.woff") format("woff");
}

@font-face {
	font-family: CMSY10_f9;
	src: url("fonts/CMSY10_f9.woff") format("woff");
}

@font-face {
	font-family: CMTI10_fd;
	src: url("fonts/CMTI10_fd.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg447Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg447" style="-webkit-user-select: none;"><object width="770" height="1017" data="447/447.svg" type="image/svg+xml" id="pdf447" style="width:770px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_447" class="t s1_447">14.1 </span><span id="t2_447" class="t s1_447">SORTING </span><span id="t3_447" class="t s2_447">437 </span>
<span id="t4_447" class="t s3_447">• </span><span id="t5_447" class="t s4_447">Will there be duplicate keys in the data? </span><span id="t6_447" class="t s5_447">– The sorted order is completely </span>
<span id="t7_447" class="t s5_447">deﬁned if all items have distinct keys. However, when two items share the </span>
<span id="t8_447" class="t s5_447">same key, something else must determine which one comes ﬁrst. In many </span>
<span id="t9_447" class="t s5_447">applications it doesn’t matter, so any sorting algorithm suﬃces. Ties are </span>
<span id="ta_447" class="t s5_447">often broken by sorting on a secondary key, like the ﬁrst name or initial </span>
<span id="tb_447" class="t s5_447">when the family names collide. </span>
<span id="tc_447" class="t s5_447">Occasionally, ties need to be broken by their initial position in the data set. </span>
<span id="td_447" class="t s5_447">Suppose the 5th and 27th items of the initial data set share the same key. </span>
<span id="te_447" class="t s5_447">This means the 5th item must appear before the 27th in the ﬁnal order. </span>
<span id="tf_447" class="t s5_447">A </span><span id="tg_447" class="t s4_447">stable </span><span id="th_447" class="t s5_447">sorting algorithm preserves the original ordering in case of ties. </span>
<span id="ti_447" class="t s5_447">Most of the quadratic-time sorting algorithms are stable, while many of the </span>
<span id="tj_447" class="t s6_447">O</span><span id="tk_447" class="t s5_447">(</span><span id="tl_447" class="t s6_447">n </span><span id="tm_447" class="t s5_447">lg </span><span id="tn_447" class="t s6_447">n</span><span id="to_447" class="t s5_447">) algorithms are not. If it is important that your sort be stable, it is </span>
<span id="tp_447" class="t s5_447">probably better to explicitly use the initial position as a secondary key in your </span>
<span id="tq_447" class="t s5_447">comparison function rather than trust the stability of your implementation. </span>
<span id="tr_447" class="t s3_447">• </span><span id="ts_447" class="t s4_447">What do you know about your data? </span><span id="tt_447" class="t s5_447">– You can often exploit special knowledge </span>
<span id="tu_447" class="t s5_447">about your data to get it sorted faster or more easily. Of course, general </span>
<span id="tv_447" class="t s5_447">sorting is a fast </span><span id="tw_447" class="t s6_447">O</span><span id="tx_447" class="t s5_447">(</span><span id="ty_447" class="t s6_447">n </span><span id="tz_447" class="t s5_447">lg </span><span id="t10_447" class="t s6_447">n</span><span id="t11_447" class="t s5_447">) operation, so if the time spent sorting is really the </span>
<span id="t12_447" class="t s5_447">bottleneck in your application, you are a fortunate person indeed. </span>
<span id="t13_447" class="t s7_447">– </span><span id="t14_447" class="t s4_447">Has the data already been partially sorted? </span><span id="t15_447" class="t s5_447">If so, certain algorithms like </span>
<span id="t16_447" class="t s5_447">insertion sort perform better than they otherwise would. </span>
<span id="t17_447" class="t s7_447">– </span><span id="t18_447" class="t s4_447">Do you know the distribution of the keys? </span><span id="t19_447" class="t s5_447">If the keys are randomly or </span>
<span id="t1a_447" class="t s5_447">uniformly distributed, a </span><span id="t1b_447" class="t s4_447">bucket </span><span id="t1c_447" class="t s5_447">or </span><span id="t1d_447" class="t s4_447">distribution sort </span><span id="t1e_447" class="t s5_447">makes sense. Throw </span>
<span id="t1f_447" class="t s5_447">the keys into bins based on their ﬁrst letter, and recur until each bin is </span>
<span id="t1g_447" class="t s5_447">small enough to sort by brute force. This is very eﬃcient when the keys </span>
<span id="t1h_447" class="t s5_447">get evenly distributed into buckets. However, bucket sort would per- </span>
<span id="t1i_447" class="t s5_447">form very badly sorting names on the membership roster of the “Smith </span>
<span id="t1j_447" class="t s5_447">Society.” </span>
<span id="t1k_447" class="t s7_447">– </span><span id="t1l_447" class="t s4_447">Are your keys very long or hard to compare? </span><span id="t1m_447" class="t s5_447">If your keys are long text </span>
<span id="t1n_447" class="t s5_447">strings, it might pay to use a relatively short preﬁx (say ten characters) </span>
<span id="t1o_447" class="t s5_447">of each key for an initial sort, and then resolve ties using the full key. </span>
<span id="t1p_447" class="t s5_447">This is particularly important in external sorting (see below), since you </span>
<span id="t1q_447" class="t s5_447">don’t want to waste your fast memory on the dead weight of irrelevant </span>
<span id="t1r_447" class="t s5_447">detail. </span>
<span id="t1s_447" class="t s5_447">Another idea might be to use radix sort. This always takes time linear </span>
<span id="t1t_447" class="t s5_447">in the number of characters in the ﬁle, instead of </span><span id="t1u_447" class="t s6_447">O</span><span id="t1v_447" class="t s5_447">(</span><span id="t1w_447" class="t s6_447">n </span><span id="t1x_447" class="t s5_447">lg </span><span id="t1y_447" class="t s6_447">n</span><span id="t1z_447" class="t s5_447">) times the </span>
<span id="t20_447" class="t s5_447">cost of comparing two keys. </span>
<span id="t21_447" class="t s7_447">– </span><span id="t22_447" class="t s4_447">Is the range of possible keys very small? </span><span id="t23_447" class="t s5_447">If you want to sort a subset </span>
<span id="t24_447" class="t s5_447">of, say, </span><span id="t25_447" class="t s6_447">n/</span><span id="t26_447" class="t s5_447">2 distinct integers, each with a value from 1 to </span><span id="t27_447" class="t s6_447">n</span><span id="t28_447" class="t s5_447">, the fastest </span>
<span id="t29_447" class="t s5_447">algorithm would be to initialize an </span><span id="t2a_447" class="t s6_447">n</span><span id="t2b_447" class="t s5_447">-element bit vector, turn on the </span>
<span id="t2c_447" class="t s5_447">bits corresponding to keys, then scan from left to right and report the </span>
<span id="t2d_447" class="t s5_447">positions with true bits. </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
